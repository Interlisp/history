(FILECREATED "11-AUG-82 09:52:07" {PHYLUM}<LISPUSERS>LOADFILES.;3 1574   

      changes to:  (FNS LOADFILES)

      previous date: " 3-MAR-82 21:41:14" {PHYLUM}<LISPUSERS>LOADFILES.;2)


(PRETTYCOMPRINT LOADFILESCOMS)

(RPAQQ LOADFILESCOMS ((FNS LOADFILES)
		      (VARS (LOADFILESCOMPILE.EXTENSIONS (LIST COMPILE.EXT NIL)))
		      (DECLARE: DONTCOPY DOEVAL@COMPILE (P (RESETSAVE DWIMIFYCOMPFLG T)))
		      (LOCALVARS . T)))
(DEFINEQ

(LOADFILES
  [LAMBDA (DIRS FILES EXTS LDFLG PRINTFLG)                   (* rmk: "11-AUG-82 09:51")
    (DECLARE (GLOBALVARS LOADFILESCOMPILE.EXTENSIONS))
    (if (STREQUAL DIRS "")
	then DIRS_NIL)
    (if (STREQUAL EXTS "")
	then EXTS_NIL
      elseif (OR EXTS='COM (FILENAMEFIELD EXTS 'EXTENSION)='COM)
	then EXTS_LOADFILESCOMPILE.EXTENSIONS)
    (for F inside FILES
       collect (LISPXTERPRI T)
	       (F_(LISPXPRINT (for E inside (OR EXTS '(NIL))
				 when (if (OR DIRS=NIL (FILENAMEFIELD F 'DIRECTORY))
					  then E_(INFILEP (PACKFILENAME 'BODY F 'EXTENSION E))
					else (for D inside DIRS
						when D_(INFILEP (PACKFILENAME 'BODY F 'EXTENSION E 
									      'DIRECTORY D))
						do (RETURN E_D)))
				 do (RETURN E) finally (RETURN (OR (INFILEP F)
								   F)))
			      T))
	       (LOAD? F LDFLG PRINTFLG])
)

(RPAQ LOADFILESCOMPILE.EXTENSIONS (LIST COMPILE.EXT NIL))
(DECLARE: DONTCOPY DOEVAL@COMPILE 
(RESETSAVE DWIMIFYCOMPFLG T)
)
(DECLARE: DOEVAL@COMPILE DONTCOPY

(LOCALVARS . T)
)
(DECLARE: DONTCOPY
  (FILEMAP (NIL (438 1370 (LOADFILES 448 . 1368)))))
STOP
