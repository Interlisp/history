//////////////////////////////////////////////////////////////////////////////				L O A D I N I T . C M////	(C) Copyright 1990, Venue & Fuji Xerox, Ltd.//	    All Rights Reserved.////	Make the INIT.DLINIT starting sysout for a new loadup.////////////////////////////////////////////////////////////////////////////// IF YOU EDIT THIS FILE, EDIT LOADINITSLOW.CM TOO!!!!// Edit November 3, 1987 by vanMelle, note comment ^^// The path given to the Lisp command below should point to the LispCore sysout cache.// Code that runs after Lisp starts up assures that the cached sysout// is the most recent, and if not, fetches a new one and restarts itself.// Edited so that the most recent patch file is loaded// Updated Lisp version for big physical memory --bvm 11/3/87Delete INIT.DFASL!* INIT.SAVE* // otherwise Lisp might read INIT.LISP!2Copy INIT.SAVE _ INIT.DFASL  // save away site file to be restored below# Start inside $medleydirmedley -nogreet -lisp(XCL:RESTORE-PROFILE "INTERLISP")(DELFILE 'INIT.DFASL)(AND (INFILEP 'INIT.SAVE) (RENAMEFILE 'INIT.SAVE 'INIT.DFASL))(DIRECTORY 'INIT.DLINIT;* '(DELETE))(* Make sure we have a valid sysout)(LET ((DATE (CAR (NLSETQ (GETFILEINFO '../basics/FULL.SYSOUT 'ICREATIONDATE)))))  (IF (AND DATE (IGREATERP DATE (GETFILEINFO '../basics/Lisp.Sysout 'ICREATIONDATE)))    THEN (* Get new saved sysout)         (NLSETQ           (PROGN (COPYFILE '../basics/FULL.SYSOUT '{DSK7}LispCore.Sysout;1)           (COPYFILE '{DSK}REM.CM;1 '{CORE}REM.CM) (* Repeat current command now)           (OUTFILE '{DSK}REM.CM;1)           (PRIN1 '@LoadInit.cm@)           (COPYBYTES (OPENSTREAM '{CORE}REM.CM 'INPUT))           (CLOSEF)           (LOGOUT T](PROGN (* Make old sysout work with new read tables)   (SETSYNTAX (CHARCODE ^^) 'PACKAGEDELIM FILERDTBL)   (SETSYNTAX (CHARCODE ^^) 'PACKAGEDELIM CODERDTBL)   (SETSYNTAX (CHARCODE ^^) 'PACKAGEDELIM \ORIGREADTABLE))(*  (LOAD 'LOAD-LISPCORE-PATCH)    CONN "{pele:mv:envos}<LispCore>SOURCES>"  already connected)(SETQ DIRECTORIES '(sources/ LIBRARY ../INTERNAL/LIBRARY))(SETQ LITATOM-PACKAGE-CONVERSION-ENABLED NIL)(SETQ *REMOVE-INTERLISP-COMMENTS* NIL)(* Get new exports since last loadup)(LOAD 'CONDITION-PACKAGE.LCOM 'SYSLOAD)(LOAD 'XCL-PACKAGE.LCOM 'SYSLOAD)(* FILESETS has where to get things from)(LOAD 'FILESETS)(FILESLOAD RENAMEFNS MAKEINIT DLFIXINIT CMLARRAY-SUPPORT)(* Versions are Lisp Microcode Bcpl)(PROGN (CNDIR '{CORE}) (IDLE.SET.OPTION 'TIMEOUT 0) (IDLE.SET.OPTION 'SAVEVM 0) (DORENAME 'I) (DLFIXINIT (MAKEINIT '(115000Q 13062Q 25400Q) NIL NIL '(. ../INTERNAL/LIBRARY ../LIBRARY/)            'INIT.DLINIT LispDLion.db            300) (LOGOUT T]]