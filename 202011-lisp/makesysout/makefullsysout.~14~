(DEFINE-FILE-INFO READTABLE "INTERLISP" PACKAGE "INTERLISP")
(FILECREATED " 1-Jun-2000 15:49:13" {DSK}<project>medley3.5>makesysout>makefullsysout.;14 9535   

      changes to%:  (FNS MAKEFULLSYSOUT)

      previous date%: " 1-Jun-2000 15:44:41" {DSK}<project>medley3.5>makesysout>makefullsysout.;13)


(* ; "
Copyright (c) 1992, 1993, 1994, 1995, 1996, 1997, 1998, 1999, 1920, 2000 by Xerox Corporation.  All rights reserved.
")

(PRETTYCOMPRINT MAKEFULLSYSOUTCOMS)

(RPAQQ MAKEFULLSYSOUTCOMS [(COMMANDS "cd")
                               (FNS LOADNFS MAKEFULLSYSOUT MEDLEYVERSION PAGEHEIGHT)
                               (INITVARS (WRITEFULLSYSOUTFLAG T))
                               (GLOBALVARS MISSINGDISPLAYFONTCOERCIONS 
                                      MISSINGCHARSETDISPLAYFONTCOERCIONS)
                               (DECLARE%: DONTEVAL@LOAD (P (MAKEFULLSYSOUT])

(DEFCOMMAND "cd" (DIR) (/CNDIR DIR))
(DEFINEQ

(LOADNFS  [LAMBDA NIL                                                (* ; "Edited 11-Nov-98 22:01 by rmk:")                                                             (* ;                                                            "Edited  8-Jun-94 14:20 by kaplan")                                                             (* ; "Edited 16-Mar-90 14:07 by bbb")(* ;;; "Function assumes that all directories are properly set")(* ;;; "loads MINI-NFS and other related files")    (FILESLOAD (SYSLOAD FROM "{dsk}<project>medley3.5>nfs>")           MINI-NFS)    [COND       (T                                                    (* ;                                        "Load Bill's patch to allow Sun users to refer to server/n.")          (FILESLOAD (SYSLOAD)                 UFSNFS))       (T           (* ;; "Pray...")          (\DEFINEDEVICE 'nfs 'dsk]    (FILESLOAD (SYSLOAD FROM "{dsk}<project>medley3.5>nfs>")           RPCOS)    (FILESLOAD (SYSLOAD)           UNIXCOMM UNIXCHAT RWALLSERVER NFSPROTECTION])

(MAKEFULLSYSOUT
  [LAMBDA NIL                                           (* ; "Edited 28-May-2000 21:46 by rmk:")
                                                             (* ; "Edited 23-Feb-94 15:04 by bvm")
                                                             (* ; "Edited  2-Apr-90 14:42 by bbb")

(* ;;; "This file makes a PARC sysout based on Venue's Lisp.sysout 3.5.  ")

(* ;;; "Explicitly load the font patch")
                                                             (* ; "To stop page holding")
    (LET ((MEDVERSION (MEDLEYVERSION)))

         (* ;; "BKSYSBUF stops page holding while also stuffing MAKESYS command")

         (CL:WHEN WRITEFULLSYSOUTFLAG
             (BKSYSBUF (CONCAT "(IL:MAKESYS " "%"{dsk}/project/medley" MEDVERSION 
                              "/basics/full.sysout%"" " %"Medley " MEDVERSION " PARC Full Sysout%")")
                    ))
         (SETQ DEFAULTFILETYPE 'BINARY)                      (* ; 
                                      "These prevent bits from being lost due to lack of knowledge")
         (DREMOVE (ASSOC NIL DEFAULTFILETYPELIST)
                DEFAULTFILETYPELIST)                         (* (SETQ *UPPER-CASE-FILE-NAMES* NIL))
         (SETQ MAKESYSNAME :MEDLEY3.5)
         (CLOSEW LOGOW)
         (LOGOW)

         (* ;; "Keep MCOM and MFASL so can transfer 2.0 files properly in 2.1 and 3.5")

         (PUSH DEFAULTFILETYPELIST '(MCOM . BINARY)
                '(MFASL . BINARY))
         (PUSH DEFAULTFILETYPELIST '(TXT . TEXT)
                '(TEXT . TEXT)
                '(TEX . TEXT)
                '(HTML . TEXT)
                '(HTM . TEXT))
         (FILESLOAD (SYSLOAD FROM "{dsk}<project>medley3.5>patches>")
                FINDFONTPATCH)
         (PUSH LISPUSERSDIRECTORIES "{dsk}/project/medley3.5/library/" 
                "{dsk}/project/medley3.5/lispusers/")
         (PUSH DIRECTORIES "{dsk}/project/medley3.5/library/" 
                "{dsk}/project/medley3.5/lispusers/")
         (SETQ LOADUPDIRECTORIES DIRECTORIES)
         (SETQ DISPLAYFONTDIRECTORIES '("{dsk}<import>Lisp>DisplayFonts>" "{dsk}<import>AltoFonts>"))
         (SETQ INTERPRESSFONTDIRECTORIES '("{dsk}<import>Lisp>IPFonts>"))
         (SETQ DISPLAYFONTEXTENSIONS '(DISPLAYFONT STRIKE))
         (SETQ POSTSCRIPTFONTDIRECTORIES '("{dsk}<import>Lisp>PostscriptFonts>"))
         (SETQ *POSTSCRIPT-FILE-TYPE* 'TEXT)
         (LISTPUT IDLE.PROFILE 'TIMEOUT 0)
         (SETQQ *DEFAULT-CLEANUP-COMPILER* BCOMPL)
         (LOADUP '(CHAT NSCHAT TEDIT HRULE TEDITCHAT READNUMBER EDITBITMAP FILEBROWSER THINFILES 
                        GRAPHER SPY WHERE-IS COPYFILES MSANALYZE MSPARSE MASTERSCOPE POSTSCRIPTSTREAM
                        UNIXPRINT DOSPRINT ISO8859IO))

         (* ;; "Useful SSL stuff ")

         (FILESLOAD (SYSLOAD)
                NSMAINTAIN NSPROTECTION PRETTYFILEINDEX WHO-LINE NSCOPYFILE)

         (* ;; "Turn off who-line until after the user has greeted")

         (CL:WHEN (WINDOWP *WHO-LINE*)
                (CLOSEW *WHO-LINE*))
         [SETQ POSTGREETFORMS (APPEND POSTGREETFORMS '((INSTALL-WHO-LINE-OPTIONS]
         (AND NIL (FILESLOAD (SYSLOAD)
                         ARCHIVETOOL))
         (SETQ CH.DEFAULT.DOMAIN "PARC")
         (SETQ CH.DEFAULT.ORGANIZATION "XEROX")
         (LOADNFS)

         (* ;; "Load in the newest Lafite")

         (FILESLOAD (SYSLOAD)
                LAFITE MIME LAFITE-INDENT NSMAIL NEWNSMAIL UNIXMAIL UNIXTELNET)
         (FILESLOAD (SYSLOAD)
                SETDEFAULTPRINTER)
         (AND NIL (FILESLOAD (SYSLOAD)
                         SYSTEM33))

         (* ;; "Load the patches last")

         (FILESLOAD (SYSLOAD)
                LOADPATCHES)
         (LoadPatches '{dsk}<project>medley3.5>patches> 'SYSLOAD NIL)

         (* ;; "Create font descriptors for the Interpress fonts first.  Do character set 0 and 357Q (octal) for each")

         (PRINTOUT T "Interpress fonts..." T)
         (RESETVARS ((MISSINGDISPLAYFONTCOERCIONS NIL)
                     (MISSINGCHARSETDISPLAYFONTCOERCIONS NIL))
                                                             (* ; 
                  "Don't let the font loader substitute just because a server went catatonic on us")
                    (FOR FAMILY IN '(CLASSIC MODERN TERMINAL)
                       DO (PRINTOUT T "Loading " FAMILY " ")
                             [FOR SIZE IN '(8 10 12)
                                DO (PRINTOUT T SIZE " ")
                                      (FOR FACE IN '(MRR BRR MIR)
                                         DO (NLSETQ (FONTCREATE FAMILY SIZE FACE NIL 'INTERPRESS
                                                               NIL 0))
                                               (NLSETQ (FONTCREATE FAMILY SIZE FACE NIL 'DISPLAY NIL
                                                              0))
                                               (NLSETQ (FONTCREATE FAMILY SIZE FACE NIL 'DISPLAY NIL
                                                              239]
                             (PRINTOUT T T))
                    (SETQ DEFAULTPRINTERTYPE 'POSTSCRIPT)
                    (FOR F IN (FILDIR (CONCAT (CAR POSTSCRIPTFONTDIRECTORIES)
                                                     "c0>*.*")) DO (PSCFONT.READFONT F)))

         (* ;; "Turn on Meta key for Dorados:  (METASHIFT T)")

         (\DAYTIME0 \LASTUSERACTION)
         (LISTPUT IDLE.PROFILE 'TIMEOUT 20)
         (FOR TYPE IN FILEPKTYPES DO (FILEPKGCHANGES TYPE NIL))
         (ENDLOADUP)
         (SETTOPVAL 'INITIALS NIL)
         (SETTOPVAL 'LISPXHISTORY '(NIL 0 100 100])

(MEDLEYVERSION  [LAMBDA NIL                                                (* ;                                                            "Edited  6-Feb-2000 11:52 by rmk:")                                                             (* ;                                                            "Edited  6-Feb-2000 11:50 by rmk:")                                                             (* ; "Edited 11-Nov-98 22:02 by rmk:")    (SELECTQ (LISPVERSION)        (39424 '|1.1|)        (39539 '|1.15|)        (40960 '|1.2|)        (4928 '|2.0|)        (21000 '|2.1|)        ((35000 35010)                        (* ;; "Perhaps we should separate 3.501 from 3.5, to keep track of patches, sysouts, etc. But that would require a new project directory, and that doesn't seem necessary, given that there aren't that many (perhaps none) legacy users of 3.5.  We can secretly update the 3.5 directories.")             '|3.5|)        (HELP "UNRECOGNIZED MEDLEY VERSION" (LISPVERSION])

(PAGEHEIGHT  [LAMBDA (N)                                          (* ; "Edited 20-Jul-88 10:13 by Burwell")    (* ;; "sets the page height in lines of the screen.")    (* ;; "20-Jul-88:  Took out the (SETQ \CURRENTDISPLAYLINE 0)")    (PROG1 \#DISPLAYLINES        (COND           ((NUMBERP N)            (SETQ \#DISPLAYLINES N))))])
)

(RPAQ? WRITEFULLSYSOUTFLAG T)
(DECLARE%: DOEVAL@COMPILE DONTCOPY

(GLOBALVARS MISSINGDISPLAYFONTCOERCIONS MISSINGCHARSETDISPLAYFONTCOERCIONS)
)
(DECLARE%: DONTEVAL@LOAD 

(MAKEFULLSYSOUT)
)
(PUTPROPS MAKEFULLSYSOUT COPYRIGHT ("Xerox Corporation" 1992 1993 1994 1995 1996 1997 1998 1999 1920 
2000))
(DECLARE%: DONTCOPY
  (FILEMAP (NIL (936 9204 (LOADNFS 946 . 2025) (MAKEFULLSYSOUT 2027 . 7813) (MEDLEYVERSION 7815 . 8839) 
(PAGEHEIGHT 8841 . 9202)))))
STOP
