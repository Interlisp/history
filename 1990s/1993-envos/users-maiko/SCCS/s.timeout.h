h16173s 00000/00000/00046d D 1.11 92/04/17 15:00:33 sybalsky 11 10c shortening names for DOSes 00001/00001/00045d D 1.10 91/10/15 22:54:04 sybalsky 10 9c ISC changeses 00030/00017/00016d D 1.9 90/06/04 14:47:38 sybalsky 9 8c reformat, copyrightes 00005/00001/00028d D 1.8 89/01/05 14:29:49 hayata 8 7c TIMEOUT_TIME is changed from constant to gloval var, so TIMEOUT_TIME is settable by LDEFILETIMEOUTes 00002/00001/00027d D 1.7 88/12/01 12:06:01 hayata 7 6c To fix error message problem (connection time out & too many files open), global var *Lisp_errno is used to keep errno.es 00003/00004/00025d D 1.6 88/11/15 17:29:42 hayata 6 5c To fix "connection timeout" problem, set of error is removed from ERRSETJMPes 00000/00011/00029d D 1.5 88/08/01 11:36:44 hayata 5 4c Fix sccs problem, ci from wring date machinees 00018/00001/00012d D 1.4 88/07/29 17:40:12 hayata 4 3c New macro ERRSETJMP is added. This is for error message.es 00001/00000/00021d D 1.3 88/07/26 09:42:49 shih 3 2c version in working is wronges 00009/00001/00012d D 1.2 88/06/29 10:52:56 hayata 2 1c To fix TIMEOUT, SETJMP is definedes 00013/00000/00000d D 1.1 88/06/13 17:31:46 hayata 1 0c date and time created 88/06/13 17:31:46 by hayataeuUtTI 1D 9/* This is G-file %Z% %M% Version %I% (%G%). copyright Xerox & Fuji Xerox  */E 9I 9D 10/* This is G-file %Z% %M% Version %I% (%G%). copyright Venue & Fuji Xerox  */E 10I 10/* This is G-file @(#) timeout.h Version 1.9 (6/4/90). copyright Venue & Fuji Xerox  */E 10E 9D 2D 4#define	TIMEOUT_TIME	30E 4E 2I 2I 3D 5E 3extern jmp_buf jmpbuf;#define	TIMEOUT_TIME	10#define	SETJMP(x){				\		if(setjmp(jmpbuf) != 0)		\			return(x);		\	}E 2I 4E 5extern jmp_buf jmpbuf;I 9/************************************************************************//*									*//*	Copyright 1989, 1990 Venue, Fuji Xerox Co., Ltd, Xerox Corp.	*//*									*//*	This file is work-product resulting from the Xerox/Venue	*//*	Agreement dated 18-August-1989 for support of Medley.		*//*									*//************************************************************************/E 9D 8#define	TIMEOUT_TIME	10E 8I 8/*** TIMEOUT_TIME is changeable by UNIX env var LDEFILETIMEOUT. #define	TIMEOUT_TIME	10 **/extern	int	TIMEOUT_TIME;E 8D 9#define	SETJMP(x){				\D 6		if(setjmp(jmpbuf) != 0)		\E 6I 6		if(setjmp(jmpbuf) != 0)	{	\E 6			return(x);		\I 6		}				\E 6	}E 9I 9#define	SETJMP(x)	\  {				\    if(setjmp(jmpbuf) != 0) return(x);		\  }E 9E 4D 9#define	TIMEOUT(exp){			\		alarm(TIMEOUT_TIME);	\		exp;			\		alarm(0);		\	}E 9I 9#define	TIMEOUT(exp)			\  {			\    alarm(TIMEOUT_TIME);	\    exp;			\    alarm(0);		\  }E 9#define	S_TOUT(exp)	\		alarm(TIMEOUT_TIME),\		exp,			\		alarm(0)I 4D 6#define	ERRSETJMP(rval, errp){				\E 6I 6D 7#define	ERRSETJMP(rval, errp){			\E 7I 7D 9#define	ERRSETJMP(rval){			\E 7E 6		 if(setjmp(jmpbuf) != 0){		\I 7			*Lisp_errno = 100;		\E 7D 6			*errp = 100;			\E 6			return(rval);			\		 }					\		}E 9I 9#define	ERRSETJMP(rval)					\  {							\    if(setjmp(jmpbuf) != 0)				\      {							\	*Lisp_errno = 100;				\	return(rval);					\      }							\  }E 9D 6E 6E 4E 1