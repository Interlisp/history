h57925s 00007/00003/00052d D 2.7 93/02/08 15:03:17 sybalsky 12 11c Big VM (and new CDR coding) changes for 3.0 \nes 00009/00004/00046d D 2.6 92/05/26 17:26:52 sybalsky 11 10c fix copyrightes 00000/00000/00050d D 2.5 92/04/21 16:20:51 sybalsky 10 9c shortening file names for DOSes 00004/00002/00046d D 2.4 90/03/06 14:16:27 sybalsky 9 8c Fix GETBASE to use GETWORD, and have (DLword *) cast in right order.es 00012/00007/00036d D 2.3 90/02/01 21:21:56 sybalsky 8 7c Make GETBASE work with byte swapping, if it's in effect.es 00006/00006/00037d D 2.2 89/01/09 17:51:18 shih 7 6c spellinges 00000/00000/00043d D 2.1 88/05/17 09:16:51 hayata 6 5c Version up to 2.1es 00001/00001/00042d D 1.3 88/03/13 13:10:29 hayata 5 4c Add SCCS key id (%Z%)es 00009/00009/00034d D 1.2 88/03/11 18:22:55 shimizu 4 1c add () around MACROs aroges 00000/00006/00037d R 1.2 88/02/29 18:48:22 hayata 3 1c For testes 00000/00000/00043d R 1.2 88/02/26 11:06:37 takeshi 2 1c Test No changees 00043/00000/00000d D 1.1 88/02/23 18:24:35 hayata 1 0c date and time created 88/02/23 18:24:35 by hayataeuUtTI 1D 5/* This is G-file %M% Version %I% (%G%). copyright Xerox & Fuji Xerox  */E 5I 5D 7/* This is G-file %Z% %M% Version %I% (%G%). copyright Xerox & Fuji Xerox  */E 7I 7D 11/* %Z% %M% Version %I% (%G%). copyright envos & Fuji Xerox  */E 11I 11/* %Z% %M% Version %I% (%G%). copyright Venue & Fuji Xerox  */E 11E 7E 5D 8/* *	Copyright (C) 1987 by Fuji Xerox Co., Ltd. All rights reserved. *D 7 *	Auther	:	Takeshi Shimizu *			Hiroshi Hayata	E 7I 7 *	Author	:	Takeshi Shimizu *			Hiroshi HayataE 7 */E 8I 8I 11E 11/************************************************************************//*									*/D 11/*	Copyright 1989, 1990 Venue, Fuji Xerox Co., Ltd, Xerox Corp.	*/E 11I 11/*	(C) Copyright 1989-92 Venue. All Rights Reserved.		*//*	Manufactured in the United States of America.			*/E 11/*									*/D 11/*	This file is work-product resulting from the Xerox/Venue	*//*	Agreement dated 18-August-1989 for support of Medley.		*/E 11I 11/*	The contents of this file are proprietary information 		*//*	belonging to Venue, and are provided to you under license.	*//*	They may not be further distributed or disclosed to third	*//*	parties without the specific permission of Venue.		*/E 11/*									*//************************************************************************/E 8/**********************************************************************//* 		File Name :	address.h		Address Manipulate Macros(for LISP pointer)D 7 E 7I 7E 7 					Date :		December 8, 1986 					Edited by :	Takeshi Shimizu 					Changed :	Dec.22.86 (take)					Changed :	Jan.14.87(take)					Changed :	Apr.20.87(mitani)							Sep.02.87 take							(add parenthesises)*//**********************************************************************//* NOTE: Thease MACRO shuld be used for the pointers in LISP SYSOUT */D 4#define LLSH(datum , n)		(datum << n)#define LRSH(datum , n)		(datum >> n)E 4I 4#define LLSH(datum , n)		((datum )<< n)#define LRSH(datum , n)		((datum) >> n)E 4D 7	E 7I 7E 7D 4#define HILOC(ptr)			(LRSH(((int)ptr & 0x0ff0000),16))#define LOLOC(ptr)			((int)ptr & 0x0ffff)E 4I 4D 12#define HILOC(ptr)			(LRSH(((int)(ptr) & 0x0ff0000),16))E 12I 12#define HILOC(ptr)			(LRSH(((int)(ptr) & SEGMASK),16))E 12#define LOLOC(ptr)			((int)(ptr) & 0x0ffff)E 4D 4#define VAG2(hi,lo)			(LLSH(hi,16) | lo)E 4I 4#define VAG2(hi,lo)			(LLSH((hi),16) | (lo))E 4I 9E 9D 7/* NOTE: argument off must be WORD offset */ E 7I 7/* NOTE: argument off must be WORD offset */E 7D 4#define ADDBASE(ptr,off)		((int)ptr + off)#define GETBASE(ptr,off)		(*((* DLword)ptr + off))E 4I 4#define ADDBASE(ptr,off)		((int)(ptr) + (off))D 8#define GETBASE(ptr,off)		(*((* DLword)(ptr) + (off)))E 8I 8D 9#define GETBASE(ptr,off)		(GETWORD((* DLword)(ptr) + (off)))E 9I 9#define GETBASE(ptr,off)		(GETWORD(((DLword *)(ptr)) + (off)))E 9E 8E 4I 9E 9/* Following MACRO defs. is related with POINTER which is defined as ACCESSFNS in Interlisp(LLNEW)  */D 12E 12I 12#ifdef BIGVM#define POINTER_PAGE(datum)	(((int)(datum) & 0x0fffff00) >> 8 )#define POINTER_SEGMENT(datum)		HILOC(datum)#define POINTER_PAGEBASE(datum)	((datum) & 0x0fffff00)#elseE 12D 4#define POINTER_PAGE(datum)	(((int)datum & 0x0ffff00) >> 8 )E 4I 4#define POINTER_PAGE(datum)	(((int)(datum) & 0x0ffff00) >> 8 )E 4D 9/*( Changed Jan.14) (LLSH(HILOC(datum),8) + LRSH( LOLOC(datum),8)) */E 9#define POINTER_SEGMENT(datum)		HILOC(datum)D 4#define POINTER_PAGEBASE(datum)	(datum & 0x0ffff00)E 4I 4#define POINTER_PAGEBASE(datum)	((datum) & 0x0ffff00)E 4D 12E 12I 12#endif /* BIGVM */E 12E 1