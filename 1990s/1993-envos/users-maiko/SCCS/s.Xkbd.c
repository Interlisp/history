h14895s 00000/00000/00091d D 1.5 93/02/08 14:45:04 sybalsky 5 4c Big VM (and new CDR coding) changes for 3.0 \nes 00018/00006/00073d D 1.4 92/05/27 19:02:47 sybalsky 4 3c 386 Unix x-signal locking changeses 00014/00012/00065d D 1.3 92/04/27 18:43:19 nilsson 3 2c Fix of Xdisplay deps.es 00000/00004/00077d D 1.2 92/04/23 16:31:29 nilsson 2 1c New short name regimen. Improved X commandline handling.es 00081/00000/00000d D 1.1 92/04/21 15:27:42 sybalsky 1 0c date and time created 92/04/21 15:27:42 by sybalskyeuUf e 0tTI 1/* %Z% %M% Version %I% (%G%). copyright venue & Fuji Xerox  */static char *id = "%Z% %M%	%I% %G%	(venue & Fuji Xerox)";D 2/* %Z% %M% Version %I% (%G%). copyright venue & Fuji Xerox  */static char *id = "%Z% %M%	%I% %G%	(venue & Fuji Xerox)";E 2I 4E 4/************************************************************************//*									*/D 4/*	Copyright 1989, 1990 Venue, Fuji Xerox Co., Ltd, Xerox Corp.	*/E 4I 4/*	(C) Copyright 1989-92 Venue. All Rights Reserved.		*//*	Manufactured in the United States of America.			*/E 4/*									*/D 4/*	This file is work-product resulting from the Xerox/Venue	*//*	Agreement dated 18-August-1989 for support of Medley.		*/E 4I 4/*	The contents of this file are proprietary information 		*//*	belonging to Venue, and are provided to you under license.	*//*	They may not be further distributed or disclosed to third	*//*	parties without the specific permission of Venue.		*/E 4/*									*//************************************************************************/D 4E 4/***D 4* Copyright (C) 1988 by Fuji Xerox co.,Ltd. All rights reserved.*E 4*		Author: Mitsunori Matsuda*		Date  : August 18, 1988**/#include <stdio.h>#include <X11/Xlib.h>#include <X11/Xutil.h>#include "lispemul.h"#include "XVersion.h"#include "MyWindow.h"D 3extern Display *Xdisplay;E 3extern MyWindow Lisp_Window	      , Display_Window;D 3enable_Xkeyboard()E 3I 3enable_Xkeyboard(display)     Display *display;E 3{#ifdef TRACE	printf( "TRACE: enable_Xkeyboard()\n" );#endif	Lisp_Window.event_mask    |= KeyPressMask				 	|KeyReleaseMask;	Display_Window.event_mask |= ButtonPressMask				 	|ButtonReleaseMask				  	|PointerMotionMask;I 4	XLOCK;E 4D 3	XSelectInput( Xdisplay, Lisp_Window.win   , Lisp_Window.event_mask );	XSelectInput( Xdisplay, Display_Window.win, Display_Window.event_mask );	XFlush( Xdisplay );E 3I 3	XSelectInput( display, Lisp_Window.win   , Lisp_Window.event_mask );	XSelectInput( display, Display_Window.win, Display_Window.event_mask );	XFlush( display );I 4	XUNLOCK;E 4E 3}I 4E 4D 3disable_Xkeyboard()E 3I 3disable_Xkeyboard(display)     Display *display;E 3{#ifdef TRACE	printf( "TRACE: disable_Xkeyboard()\n" );#endif	Lisp_Window.event_mask 	  &= ~( KeyPressMask				  	|KeyReleaseMask );	Display_Window.event_mask &= ~( ButtonPressMask			     		|ButtonReleaseMask			     		|PointerMotionMask );I 4	XLOCK;E 4D 3	XSelectInput( Xdisplay, Lisp_Window.win   , Lisp_Window.event_mask );	XSelectInput( Xdisplay, Display_Window.win, Display_Window.event_mask );	XFlush( Xdisplay );E 3I 3	XSelectInput( display, Lisp_Window.win   , Lisp_Window.event_mask );	XSelectInput( display, Display_Window.win, Display_Window.event_mask );	XFlush( display );I 4	XUNLOCK;E 4E 3}D 3beep_Xkeyboard()E 3I 3beep_Xkeyboard(display)     Display *display;E 3{#ifdef TRACE	printf( "TRACE: beep_Xkeyboard()\n" );#endifI 4		XLOCK;E 4D 3		XBell( Xdisplay, (int) 50 );		XFlush( Xdisplay );E 3I 3		XBell( display, (int) 50 );		XFlush( display );I 4		XUNLOCK;E 4E 3} /* end beep_Xkeyboard */E 1