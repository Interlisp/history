/* This is G-file @(#) array6.c Version 2.6 (7/6/88). copyright Xerox & Fuji Xerox  */static char *id = "@(#) array6.c	2.6 7/6/88";/*	array6.c */#include <stdio.h>#include "lispemul.h"#include "lispglobal.h"#include "address68k.h"#include "lispmap.h"#include "lisptypes.h"#include "emulglobal.h"#include "gc.h"#include "arith.h"#include "my.h"/***	N_OP_aset2   -- op 357   (new-value array index0 index1)   ***/N_OP_aset2(data, arrayarg, inx0, inx1, error_addr)int *error_addr;LispPTR arrayarg, inx0, inx1;register LispPTR data;{register int type;register DLword *arrayblk;register LispPTR base;register int new;register int index, temp;int j;      /*  verify array  */      if (GetTypeNumber(arrayarg) != TYPE_TWOD_ARRAY) ERROR_EXIT(error_addr);      arrayblk = Addr68k_from_LADDR(arrayarg);      base = *((LispPTR *)(arrayblk));      /*  test and setup index  */      N_GetPos(inx1, temp, error_addr);      if (temp >= (j = (*((DLword *)(arrayblk + 4))))) ERROR_EXIT(error_addr);      N_GetPos(inx0, index, error_addr);      if (index >= *((DLword *)(arrayblk + 3))) ERROR_EXIT(error_addr);      index *= j;      index += temp;      /*  setup typenumber  */      type = 0xFF & *((DLword *)(arrayblk + 2));      /*  disp on type  */      aset_switch(type, error_addr);doufn:		ERROR_EXIT(error_addr);} /*  end N_OP_aset2()  */