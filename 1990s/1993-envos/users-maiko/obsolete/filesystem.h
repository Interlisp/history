/* This is G-file @(#) filesystem.h Version 1.2 (3/13/88). copyright Xerox & Fuji Xerox  *//* *	Copyright (C) 1987 by Fuji Xerox Co., Ltd. All rights reserved. * *	Auther	:	Hiroshi Hayata	 */#define	SkipHostName(cp)	{if(*cp == '{'){		\					 for(; *cp != '}'; ++cp);	\					 ++cp;			\				 } }#define	GetName(LAddress, Buff, Filep)  {	\	int	scratch;	\	LispPTR	*naddress;	\	char	*base;		\	scratch = GetTypeNumber(LAddress);	\	switch(scratch){				\	case TYPE_STRINGP:				\		naddress = (LispPTR *)(Addr68k_from_LADDR(LAddress));	\		base = (char *)(Addr68k_from_LADDR(((STRINGP *)naddress)->base));	\		Filep = setpathname(base, Buff, ((STRINGP *)naddress)->length); \		break;					\	case TYPE_ONED_ARRAY:				\	case TYPE_GENERAL_ARRAY:			\		naddress = (LispPTR *)(Addr68k_from_LADDR(LAddress));	\		base = (char *)(Addr68k_from_LADDR(((ONEDARRAAY *)naddress)->base));	\		Filep = setpathname(base, Buff, ((ONEDARRAAY *)naddress)->totalsize); \		break;					\	case TYPE_LITATOM:				\		naddress = (LispPTR *)(Addr68k_from_LADDR((PNP_OFFSET + ((0xFFFF & LAddress) << 1))));	\		base = (char *)(Addr68k_from_LADDR(0xFFFFFF & (*naddress)));	\		Filep = setpathname(base+1, Buff, (int)*base);	\		break;					\	default:					\		printf("Bad Type Number %d\n", scratch);	\		return(NIL);				\	} }#define	GetNameSize(LAddress, Size, Base)  {	\	int	scratch;	\	LispPTR	*naddress;	\	scratch = GetTypeNumber(LAddress);	\	switch(scratch){				\	case TYPE_STRINGP:				\		naddress = (LispPTR *)(Addr68k_from_LADDR(LAddress));	\		Base = (char *)(Addr68k_from_LADDR(((STRINGP *)naddress)->base));	\		Size = ((STRINGP *)naddress)->length;	\		break;					\	case TYPE_ONED_ARRAY:				\	case TYPE_GENERAL_ARRAY:			\		naddress = (LispPTR *)(Addr68k_from_LADDR(LAddress));	\		Base = (char *)(Addr68k_from_LADDR(((ONEDARRAAY *)naddress)->base));	\		Size = ((ONEDARRAAY *)naddress)->totalsize;		\		break;					\	case TYPE_LITATOM:				\		naddress = (LispPTR *)(Addr68k_from_LADDR((PNP_OFFSET + ((0xFFFF & LAddress) << 1))));	\		Base = (char *)(Addr68k_from_LADDR(0xFFFFFF & (*naddress)));	\		Size = (int)*Base;			\		++Base;					\		break;					\	default:					\		printf("Bad Type Number %d\n", scratch);	\		return(NIL);				\	} }  