(DEFINE-FILE-INFO PACKAGE "INTERLISP" READTABLE "XCL" BASE 10)(FILECREATED "25-Jun-87 14:52:48" {ERIS}<PROLOGCORE>LYRIC>LISP>SELECT.\;7 6649         |changes| |to:|  (FUNCTIONS XQP::|select.4|)      |previous| |date:| "25-Jun-87 11:59:17" {ERIS}<PROLOGCORE>LYRIC>LISP>SELECT.\;6); Copyright (c) 1987 by Quintus Computer Systems, Inc.  All rights reserved.(PRETTYCOMPRINT SELECTCOMS)(RPAQQ SELECTCOMS ((* |;;;| "This file was generated from {ERIS}<PROLOGCORE>LISPNEW>SELECT.LSP;1, loaded 16-Jun-87 15:02:51")                                       (* |;;| "SCCS   : @(#)SELECT.LSP	3.3 1/25/86 File   : $xerox/select.lsp Author : Richard A. O'Keefe Defines: 4-way and 16-way dispatches")                   (* |;;;| "------------------------------------------------------------------------  WARNING: This material is CONFIDENTIAL and proprietary to Quintus Computer Systems Inc.  This notice is protection against inadvertent disclosure and does not constitute publication or reflect any intent to publish.  Copyright (C) 1985, by Quintus Computer Systems, Inc. All rights reserved.  CAVEAT LECTOR: This software is under development.  No warrantee is made that it is any use for anything at all.  ------------------------------------------------------------------------")                                       (* |;;| "This file defines four macros.")                                       (* |;;| "(select.4 <register> . <selectc body>)")                                       (* |;;| "(select.16 <register> . <selectc body>)")                                       (* |;;| "(reselect)")                                       (* |;;| "(reselect.when.bound 32-bit-reg 24-bit-reg)")                                       (* |;;| "The point of these macros is to dispatch on the tag of the indicated register (which had better be either T0 or T1).  The value of such an expression is the value of the analogous SELECTC form.  Within one of these forms, (reselect) jumps back to the beginning of the dispatch.")                                       (* |;;| "Although this is not currently checked, the idea is that select4 considers just the ref/list/struct/const distinction, so only needs to test bits 0 and 4 of the register, while select16 discriminates the different kinds of constants, so needs to test bits 0-3.")                   (FUNCTIONS XQP::|select.4| XQP::|select.16| XQP::|reselect|)                                       (* |;;| "(reselect.when.bound T0 R) does a reselect when T0 is bound, that is, either its tag is not zero, or its datum isn't equal to R.")                   (FUNCTIONS XQP::|reselect.when.bound|)                                       (* |;;| "The purpose of this function is to convince the file package to create a .DCOM file which it otherwise doesn't want to do.")                   (FUNCTIONS XQP::|dummy.select|)                   (PROP MAKEFILE-ENVIRONMENT)))(* |;;;| "This file was generated from {ERIS}<PROLOGCORE>LISPNEW>SELECT.LSP;1, loaded 16-Jun-87 15:02:51")(* |;;| "SCCS   : @(#)SELECT.LSP	3.3 1/25/86 File   : $xerox/select.lsp Author : Richard A. O'Keefe Defines: 4-way and 16-way dispatches")(* |;;;| "------------------------------------------------------------------------  WARNING: This material is CONFIDENTIAL and proprietary to Quintus Computer Systems Inc.  This notice is protection against inadvertent disclosure and does not constitute publication or reflect any intent to publish.  Copyright (C) 1985, by Quintus Computer Systems, Inc. All rights reserved.  CAVEAT LECTOR: This software is under development.  No warrantee is made that it is any use for anything at all.  ------------------------------------------------------------------------")(* |;;| "This file defines four macros.")(* |;;| "(select.4 <register> . <selectc body>)")(* |;;| "(select.16 <register> . <selectc body>)")(* |;;| "(reselect)")(* |;;| "(reselect.when.bound 32-bit-reg 24-bit-reg)")(* |;;| "The point of these macros is to dispatch on the tag of the indicated register (which had better be either T0 or T1).  The value of such an expression is the value of the analogous SELECTC form.  Within one of these forms, (reselect) jumps back to the beginning of the dispatch.")(* |;;| "Although this is not currently checked, the idea is that select4 considers just the ref/list/struct/const distinction, so only needs to test bits 0 and 4 of the register, while select16 discriminates the different kinds of constants, so needs to test bits 0-3.")(XQP::|def.macro| XQP::|select.4| XQP::|body|                                  (|if| (MEMB (CAR XQP::|body|)                                              XQP::QP.32)                                      |then| `(PROG NIL                                                SELECT                                                    (RETURN (SELECTC (XQP::|ReadPrologTag|                                                                      ,(CAR XQP::|body|))                                                                ,@(CDR XQP::|body|))))                                    |else| (SHOULDNT 'XQP::|dispatch|)))(XQP::|def.macro| XQP::|select.16|   XQP::|body| (|if| (MEMB (CAR XQP::|body|)                           XQP::QP.32)                   |then| `(PROG NIL                             SELECT                                 (RETURN (SELECTC (XQP::|ReadPrologTag| ,(CAR XQP::|body|))                                             ,@(CDR XQP::|body|))))                 |else| (SHOULDNT 'XQP::|dispatch|)))(XQP::|def.macro| XQP::|reselect| NIL '(GO SELECT))(* |;;| "(reselect.when.bound T0 R) does a reselect when T0 is bound, that is, either its tag is not zero, or its datum isn't equal to R.")(XQP::|def.macro| XQP::|reselect.when.bound| (X R L) (|if| (NULL L)                                                         |then| (SETQ L 'SELECT))                                                     `(COND                                                         ((NOT (XQP::|is.unbound| ,X ,R))                                                          (GO ,L))))(* |;;| "The purpose of this function is to convince the file package to create a .DCOM file which it otherwise doesn't want to do.")(XQP::|def.subr| XQP::|dummy.select| NIL NIL)(PUTPROPS SELECT COPYRIGHT ("Quintus Computer Systems, Inc" 1987))(DECLARE\: DONTCOPY  (FILEMAP (NIL)))STOP