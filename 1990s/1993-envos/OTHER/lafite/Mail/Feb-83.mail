*start*02990 00024 US Date: 2 Feb. 1983 7:33 pm PST (Wednesday)From: Taft.PASubject: Arpanet mail updateTo: AllPA^.pa, AllES^.es, AllEOS^.eos, AllWbst^.wbst, AllHenr^.henr, AllDlos^.dlosReply-To: TaftForwarding of mail to and from the Arpanet has slowly become more reliable;but lingering problems remain from the January 1 protocol cataclysm.NCP-only hosts and relaysThere are a number of hosts which still do not speak the new Arpanet protocols,and with which we cannot communicate except via relay hosts.  There nowexists a complete list of Arpanet hosts which are still permitted to speak NCP (theold protocol), available on [Ivy]<Laurel>NCP-hosts.txt.  Note that some of thesehosts speak both NCP and TCP (the new protocol), though they are not identifiedas such in the table.  The way to reach recipients at NCP-only hosts is to addressthem as:  recipient%recipient-host@relay-hostThe "official" TCP-NCP relay host is UDEL-RELAY; however, it has beenreported that USC-ECL performs this function somewhat more reliably.Message formatThe protocol cataclysm also involves conversion to a new standard for the formatof message headers.  Various sites have converted to the new standard to varyingdegrees; in particular, Xerox mail programs have not yet been converted.  Theresult has been considerable confusion.In an attempt to improve this situation, the Arpanet mail forwarding software onMaxc is now performing translation of message headers, both incoming andoutgoing.  In particular, names of Xerox recipients of messages sent to theArpanet have the required "@PARC-MAXC.ARPA" appended to them.  Thereverse transformation is applied to incoming messages.  The translatorunderstands about the Xerox conventions for registry defaulting, so Arpanetrecipients will always see fully-qualified R-names.  There are a number of othertransformations that are also performed; and more will doubtless be added asadditional strange headers are encountered.Additionally, long text lines in both the header and the body of messages sent tothe Arpanet are now "folded", i.e., have carriage returns inserted as needed tomake lines fit on "typical" terminals (whatever that means).  The foldingalgorithm is sufficiently clever not to cause messages from Laurel 6 (which arealready folded to a slightly longer line length) to have folding applied twice. Carriage returns are never deleted, only added.  Incoming messages are notmodified, only outgoing ones.If you wish to cause a message to be sent to the Arpanet without line foldingapplied, include the field "Line-fold: no" in the header of the message.This translator will not solve all problems of incompatible message formats, but itshould make correspondence with Arpanet recipients work a lot more smoothlythan it has recently.  The next major improvement will come with the release ofnew versions of user mail software (Laurel, Hardy, and Walnut) which are nowunder development.*start*00416 00024 US Date:  3-FEB-83 09:25:23 PDTFrom: sybalsky.PASubject: Lafite Browser menu didn't move?To: Yonke.paMarty-	I created a Lafite browser window which lay partly off the screen (due to the minimum width requirement).  When I later moved it to lie entirely on the screen, the old browser menu stayed where it was, and a new one appeared above the browse window in its new location.		--John*start*00392 00024 US Date:  4-FEB-83 23:15:41 PDTFrom: SYBALSKY.PASubject: Lafite.Dcom doesn't seem to work?To: Yonke.pacc: LispSupport.paMartin--	I just loaded Lafite, and tried to start it.  I got a "Arg not Hasharray", trying to do a Gethash under MAKEBROWSERWINDOW.  The alleged hasharray was a NOBIND.	Loading the source from <Lispusers> seems to have me working.		--John*start*00325 00024 US Date:  4-FEB-83 23:17:28 PDTFrom: SYBALSKY.PASubject: There's more...To: Yonke.paThe previous message from me was the second time I tried to send it...The first time, I got a "Trouble with grapevine after sending recipients list.  Failure code was StreamLost"  or words to that effect.	--John*start*01083 00024 US Date:  4-FEB-83 23:57:53 PDTFrom: SYBALSKY.PASubject: Fonts &c in LafiteTo: Yonke.pacc: SYBALSKY.PAMartin--	I've just been playing with sending messages which have fonts & stuff in them.  Naturally, it didn't work--there seems to be one big problem with two manifestations:	If TEdit is to reconstruct the formatted document at the far end, the WHOLE message has to be in TEdit's formatted internal form--every last character of it.	The first thing I ran afoul of was that \TEDIT1 was converting the msg back into a string--and losing the formatting info in the process.  I hacked together a COERCETEXTOBJ which did "the right thing" by making a string copy of the "TEdit file formatted" text.	Unfortunately, Lafite isn't sending the message straight thru--it's adding stuff and changing stuff first.  That destroys the formatted-ness of the message.  In particular, the last characters of the message must be TEdit's and not CR or whatever.  There's a password to distinguish formatted files from non-.	Sigh.  Sorry 'bout that, chief!		--John*start*00649 00024 US Date:  5-FEB-83 00:18:45 PDTFrom: SYBALSKY.PASubject: Lafite & Fonts (again)To: SYBALSKY.PAcc: Yonke.pa	I looked at the temporary file that Lafite is using to display a message after receipt.  There is an extra CR at the end.  I tried removing that (by munging the COPYBYTES which creates the temporary file)--and got "Impossible piece-ype code" because TEdit's format info contains absolute character #s into the file.  And they're wrong because of the hackery with date, time &c.	Clearly, I need to re-think the TEDIT interface so that you can demand a still-open-and-manipulable STREAM back.  Any ideas?		--John*start*06764 00024 US Date: 9 Feb. 1983 12:08 pm PST (Wednesday)From: Taft.PASubject: IMPORTANT CHANGES IN MESSAGE FORMATTo: AllPA^.pa, AllES^.es, AllEOS^.eos, AllWbst^.wbst, AllHenr^.henr, AllDlos^.dlos, AllSthq^.sthq, AllXRCC^.xrcc, AllDC^.dc, AllLB^.lb, AllRX^.rx, AllFX^.fxReply-to: LaurelSupport.paThis message describes some forthcoming changes in the way message headersare formatted.  These changes will potentially affect all users of Grapevine-based(as opposed to Star-based) mail systems, including Laurel, Hardy, Walnut, andCholla.  Please read carefully.As you know, the header portion of a message is required to be in a certainstructured form in order to allow mail reading programs such as Laurel andHardy to process it mechanically.  The header format used within Xerox isderived from a 5-year-old ARPA standard used for Arpanet mail.The ARPA standard has recently changed.  In order to allow message exchangewith ARPA correspondents to continue smoothly, a header translation functionhas been added to the software (on Maxc) that forwards messages between theXerox and ARPA internets.  This does not (and cannot) work perfectly, but itdoes a reasonably good job.However, this is only an interim measure, because we intend to convert theXerox message systems to use the new ARPA standard.  The new standard isquite a bit simpler than the old one, has been cleaned up somewhat, andincludes a more flexible naming structure for ARPA recipient names.  Convertingto it will enable us to take advantage of these improvements and to eliminatesome ugly features of the present implementations, particularly with regard toname handling.Header format changes----------------------All standard mail handling software (Laurel, Hardy, etc.) will be changed toaccept only the new syntax.  These systems will be released at separate times; ifyou will follow the rules listed below, the transition to these new versions willbe smoother.  Except where noted, all of the new syntax is accepted by ourcurrent systems; the new syntax is essentially a subset of the old rules.  Themain items to pay attention to are as follows:1. All name-containing fields are now required to contain real mailbox names;formerly it was permissible for the From field to consist entirely of random text ifa Sender field was present.  That is,	From: the Laurel implementorsis no longer legal; an actual mailbox must be named, e.g.,	From: the Laurel implementors <LaurelSupport.pa>It continues to be true that a Sender field must be present if the sender's namediffers from the mailbox named in the From field; mail sending programs willcontinue to insert a Sender field automatically when needed.2. The syntax for ARPA recipient names is generalized to "recipient@domain",where the domain is a hierarchical name whose root is usually "ARPA".  Forexample, "Joe.Blow@CMUA.ARPA" designates the recipient named Joe.Blow inthe CMUA sub-domain of the ARPA domain.  Currently this naming schememaps more-or-less directly onto the old "user@host" scheme; but it is evolving inthe direction of a more general hierarchical name structure that resembles (notaccidentally) the ones used in the Xerox Grapevine and Clearinghouse systems.3. The word " at " is no longer equivalent to "@" in ARPA recipient names.4. The new message system software has no special knowledge of ARPA mailboxnames except that appearance of "@" in a name causes it to be treated as amember of the ".ARPA" registry (which you may but need not specify). Furthermore, the ARPA host name PARC-MAXC is no longer treated specially. This is in order to decouple the mail software from any future changes to ARPAname syntax or to the way in which the Xerox and ARPA internets areconnected.This means that it's no longer necessary or even desirable to append"@PARC-MAXC" to Xerox R-Names in the headers of messages you send (evenin the From or Reply-to field).  Doing so may result in messages takingunnecessary hops through Maxc.5. The syntax for specifying a private distribution list -- "@FileName" -- isbeing changed.  This was never part of the old ARPA standard, andunfortunately it conflicts with the syntax for specifying source routinginformation in the new standard.The new way to designate a private distribution list will employ the ARPAstandard's "group" syntax.  Instead of writing:	To: @MyFriends.dlyou will write either:	To: MyFriends.dl: ;or:	To: MyFriends.dl: name1, name2, ... nameN;The first form leaves the members of the list unspecified in the header.  Whenyou send the message, the mail sending program will expand MyFriends.dl toobtain the names of the recipients (but won't modify the message header).The second form lists the individual members.  This list, of course, may be easilyfilled in by expanding the name of the list, using the COM-G command inLaurel.  Sending a message to recipients named in this way does not cause anydistribution list expansion, since the names are already listed in the header.If the name of the private distribution list contains special characters (brackets,commas, and a few others) then it must be quoted; e.g.,	To: "[Ivy]<MyName>MyFriends.dl": ;Note that this change applies only to PRIVATE distribution lists.  Public lists,e.g., MesaUsers^.pa, will continue to be treated as ordinary names.NOTE: Current versions of Laurel, Hardy, etc., will accept this ARPA "group"syntax, but will NOT recognize it as the name of a private distribution list to beexpanded.  Take care. 6. There are also changes in certain fields that are generated automatically bythe message system software, e.g., Date and In-reply-to.  The software is beingchanged to conform to the new standard.Transition plans----------------A new version of Hardy is now being tested, and new versions of Laurel,Cholla, and Walnut are under development.  It is likely that the new Hardy willbe released some time before the new Laurel.  This means that for a while theremay be difficulties in message exchange between Laurel and Hardy users, sincethe message formats are technically incompatible.  In particular, the new Hardymay have difficulty constructing an automatic Answer form in response to amessage sent from an old Laurel (or Hardy).You can minimize such difficulties by voluntarily adhering to rules (1) through(4) above, even though the present message system software does not enforcethem.  The new software will not permit messages to be sent unless they conformto the new standard.Further information will appear in the release announcements for the newsoftware.  The actual dates on which the releases will occur have not yet beendetermined.*start*07012 00024 US Date: 9 Feb. 1983 1:50 pm PST (Wednesday)From: burton.paSubject: msg format changeTo: yonkeI haven't read it but it looks pretty relevant to you too.---------------------------Date: 9 Feb. 1983 12:08 pm PST (Wednesday)From: Taft.PASubject: IMPORTANT CHANGES IN MESSAGE FORMATTo: AllPA^.pa, AllES^.es, AllEOS^.eos, AllWbst^.wbst, AllHenr^.henr, AllDlos^.dlos, AllSthq^.sthq, AllXRCC^.xrcc, AllDC^.dc, AllLB^.lb, AllRX^.rx, AllFX^.fxReply-to: LaurelSupport.paThis message describes some forthcoming changes in the way message headersare formatted.  These changes will potentially affect all users of Grapevine-based(as opposed to Star-based) mail systems, including Laurel, Hardy, Walnut, andCholla.  Please read carefully.As you know, the header portion of a message is required to be in a certainstructured form in order to allow mail reading programs such as Laurel andHardy to process it mechanically.  The header format used within Xerox isderived from a 5-year-old ARPA standard used for Arpanet mail.The ARPA standard has recently changed.  In order to allow message exchangewith ARPA correspondents to continue smoothly, a header translation functionhas been added to the software (on Maxc) that forwards messages between theXerox and ARPA internets.  This does not (and cannot) work perfectly, but itdoes a reasonably good job.However, this is only an interim measure, because we intend to convert theXerox message systems to use the new ARPA standard.  The new standard isquite a bit simpler than the old one, has been cleaned up somewhat, andincludes a more flexible naming structure for ARPA recipient names.  Convertingto it will enable us to take advantage of these improvements and to eliminatesome ugly features of the present implementations, particularly with regard toname handling.Header format changes----------------------All standard mail handling software (Laurel, Hardy, etc.) will be changed toaccept only the new syntax.  These systems will be released at separate times; ifyou will follow the rules listed below, the transition to these new versions willbe smoother.  Except where noted, all of the new syntax is accepted by ourcurrent systems; the new syntax is essentially a subset of the old rules.  Themain items to pay attention to are as follows:1. All name-containing fields are now required to contain real mailbox names;formerly it was permissible for the From field to consist entirely of random text ifa Sender field was present.  That is,	From: the Laurel implementorsis no longer legal; an actual mailbox must be named, e.g.,	From: the Laurel implementors <LaurelSupport.pa>It continues to be true that a Sender field must be present if the sender's namediffers from the mailbox named in the From field; mail sending programs willcontinue to insert a Sender field automatically when needed.2. The syntax for ARPA recipient names is generalized to "recipient@domain",where the domain is a hierarchical name whose root is usually "ARPA".  Forexample, "Joe.Blow@CMUA.ARPA" designates the recipient named Joe.Blow inthe CMUA sub-domain of the ARPA domain.  Currently this naming schememaps more-or-less directly onto the old "user@host" scheme; but it is evolving inthe direction of a more general hierarchical name structure that resembles (notaccidentally) the ones used in the Xerox Grapevine and Clearinghouse systems.3. The word " at " is no longer equivalent to "@" in ARPA recipient names.4. The new message system software has no special knowledge of ARPA mailboxnames except that appearance of "@" in a name causes it to be treated as amember of the ".ARPA" registry (which you may but need not specify). Furthermore, the ARPA host name PARC-MAXC is no longer treated specially. This is in order to decouple the mail software from any future changes to ARPAname syntax or to the way in which the Xerox and ARPA internets areconnected.This means that it's no longer necessary or even desirable to append"@PARC-MAXC" to Xerox R-Names in the headers of messages you send (evenin the From or Reply-to field).  Doing so may result in messages takingunnecessary hops through Maxc.5. The syntax for specifying a private distribution list -- "@FileName" -- isbeing changed.  This was never part of the old ARPA standard, andunfortunately it conflicts with the syntax for specifying source routinginformation in the new standard.The new way to designate a private distribution list will employ the ARPAstandard's "group" syntax.  Instead of writing:	To: @MyFriends.dlyou will write either:	To: MyFriends.dl: ;or:	To: MyFriends.dl: name1, name2, ... nameN;The first form leaves the members of the list unspecified in the header.  Whenyou send the message, the mail sending program will expand MyFriends.dl toobtain the names of the recipients (but won't modify the message header).The second form lists the individual members.  This list, of course, may be easilyfilled in by expanding the name of the list, using the COM-G command inLaurel.  Sending a message to recipients named in this way does not cause anydistribution list expansion, since the names are already listed in the header.If the name of the private distribution list contains special characters (brackets,commas, and a few others) then it must be quoted; e.g.,	To: "[Ivy]<MyName>MyFriends.dl": ;Note that this change applies only to PRIVATE distribution lists.  Public lists,e.g., MesaUsers^.pa, will continue to be treated as ordinary names.NOTE: Current versions of Laurel, Hardy, etc., will accept this ARPA "group"syntax, but will NOT recognize it as the name of a private distribution list to beexpanded.  Take care. 6. There are also changes in certain fields that are generated automatically bythe message system software, e.g., Date and In-reply-to.  The software is beingchanged to conform to the new standard.Transition plans----------------A new version of Hardy is now being tested, and new versions of Laurel,Cholla, and Walnut are under development.  It is likely that the new Hardy willbe released some time before the new Laurel.  This means that for a while theremay be difficulties in message exchange between Laurel and Hardy users, sincethe message formats are technically incompatible.  In particular, the new Hardymay have difficulty constructing an automatic Answer form in response to amessage sent from an old Laurel (or Hardy).You can minimize such difficulties by voluntarily adhering to rules (1) through(4) above, even though the present message system software does not enforcethem.  The new software will not permit messages to be sent unless they conformto the new standard.Further information will appear in the release announcements for the newsoftware.  The actual dates on which the releases will occur have not yet beendetermined.------------------------------------------------------------*start*00552 00024 US Date: 10-FEB-83 10:18:15 PDTFrom: Yonke.PASubject: LafiteTo: Burton, Sybalsky, Vittal.eos, Gadolcc: Yonke.PAWould you please use {phylum}<lispusers>lafite.dcom today.  I would like to send a message to lispcore^ tomorrow and tell them to bang on it, but I would appreciate it if you guys would bang on it before I send the message and see if anything disasterous happens that I haven't anticipated.Thanks,MartinP.S.  I'm updating the documentation and it should show up in <lispusers> sometime this afternoon.  /mdy*start*00577 00024 US Date: 10-FEB-83 17:01:27 PDTFrom: Gadol.PASubject: LafiteTo:  Yonkecc: Gadol.PAMarty,   I have tried out the Lafite in <LISPUSERS>. It is definitely better than the previous one, but there are still probles with FORWARD and ANSWER. I both to forward and answer a message from Marcel. In both cases I died in MAKEARPANETADDRESS the parm ADDRLST was NIL. I can't be sure but it didn't look like the previous functions in the sequence had the data structures right. The bug seems to be repeatable so you can check it out with my active mail file.*start*01957 00024 US Date: 11-FEB-83 10:09:41 PDTFrom: burton.paTo: YonkeSubject: [Will  mail forwarding work from Lafite?]I succesfully used lafite to read and answer my morning mail.  I agree that it is time to encourage LispCore to use it. (Assuming you get this message.)  The copybytes is still slow on my machine and I will continue to look into that.Richard     ***** Fowarded Messages *****Date:  9-Feb-83  9:34:53 PST (Wednesday)From: Artibee.paSubject: Sarcasm May Not Get You Anywhere... but it sure is funTo: Whimsy^From hpda!hplabs!hao!menlo70!sytek!zehntel!tektronix!tekid!ericeSubject: Deeply, truly, contritely, abjectly, consummately sorry.Tue Jan  4 11:46:14 1983Newsgroups: net.generalI made a terrible mistake in submitting my article, Great Moments in Quantum Mechanics, to Net.General rather than to Net.Physics or Net.Jokes, as several Net readers have graciously condescended to point out to me. I assure the network community that this inexcusable violation of all common decency and propriety will never be repeated. Please understand that I was raised in a dismal background, devoid of social amenities or concern for others' feelings and am struggling to find a place in the genteel and gracious company of my fellow programmers. I try to obey all the rules unquestioningly, and I realize that ignorance is no excuse, but sometimes my baser conditioning takes hold and I commit vicious depradations such as you have lately witnessed. Perhaps with enough love and tenderness, and sharing and caring, and meaningful realtionships, and granola and backpacking, and Dungeons and Dragons, and tasty jazz and fine wine, I will be able to slowly crawl out of the gutter of my present existence. But for now, I can only hope that my lack of consideration and obscene violation of decorum will someday be forgiven; as for myself, I will probably never live it down.     ***** End of Forwarded Messages ******start*00310 00024 US Date: 11-FEB-83 18:35:36 PDTFrom: burton.paSubject: menued window - lafite interactionTo: gadol, yonkecc: burton.paSHAPEW doesn't expect there to be more than one reshapefn.  This is a bug and I will fix it but until that happens reshaping a lafite browser will generate an error.*start*00467 00024 US Date: 11-FEB-83 18:46:44 PDTFrom: burton.paSubject: lafite browser bugTo:  yonkecc:  gadol, burton.paAfter reshaping then moving the browse window, I got an illegal arg NIL when trying to display a message.  NIL was the window argument to a GETWINDOWPROP of LAFITEDATA.  The menu that was being used in the selection had NIL as a menuuserdata so I surmise that maybe someone is creating a new menu without copying over the relevant data.*start*01210 00024 US Date: 12 Feb. 1983 8:30 pm PST (Saturday)From: burton.paSubject: Slowness in Lafite due to lack of disk address tableTo: Lispcore^Does anyone know of a way to change the access of a file from READ to BOTHwithout closing the file and hence flushing its disk address table?Story:I was experiencing a 7 second delay in displaying a message from lafite which Itracked to COPYBYTES.  The messages were near the end of a large (~700 page)message file, lafite keeps the mail file closed which flushes (or appears to flush)the page number to disk address table, so that each time a message was displayedall ~700 pages were scanned to build the table.  I think Martin can get aroundthe problem by having lafite keep the mail file open.  Since the file is writtenwhen getting new mail as well as read, it can either be kept open for bothreading and writing or we have to pay closing and opening overhead everytimenew mail is received.  I have to admit being less than excited at the thought ofhaving my mail file continuously open for writing.  On the other hand, adding15 seconds to the time required to get new mail doesn't seem acceptable either. Any other ideas?Richard*start*00612 00024 US Date: 12 Feb. 1983 8:33 pm PST (Saturday)From: burton.paSubject: Slowness in Lafite due to lack of disk address tableTo: YonkeI think what you should do is plan on leaving the mail file open for reading andhave a function that is called around writing it which switches the access toboth and then back to read.  For now this function can close the file and reopenit both coming and going which will be slow but which will work.  Whensomething better comes along you will have the right hook.  I think the delay ingetting new mail is better than one in displaying mail.Richard*start*00293 00024 US Date: 12 Feb. 1983 8:48 pm PST (Saturday)From: burton.paSubject: new message userTo: masintercc: sheil, yonkeI would like a new message user LAFITE that I can use for givingdemonstrations of the mail system.  Can you do it or tell me who can?  Thanks.Richard*start*00391 00024 US Date: 13-FEB-83 09:49:21 PDTFrom: burton.paSubject: lafite glitchTo: yonkecc: burton.paYou may already know this but choosing the "another form" item from the send mail secondary menu generates a uba **ANOTHERFORM**.  Also I think it would be a good idea to have that menu have a form "LafiteSupport" that had a template for sending bugs and features to us.*start*01067 00024 US Date: 13-FEB-83 10:28:18 PDTFrom: burton.paSubject: Another glitchTo: Sybalskycc:  Yonke, burton.paOnce Things start going bad with tedit/lafite they get awful.  I got in state where my window would respond normally to right buttons but wouldn't to left or middle.  Then I noticed that if I clicked the button in the tty window then came back to the tedit window it would recognize the first click but then freeze up.  So I started typing and the typing came out some where other than where the caret/selection was (like maybe where it had been before?).  So tedit really didn't know what the left button had done.  Any way I managed to straighten things out by using the process control window to kill all of the mailsender processes of which their were 4.  I think that lafite should check to make sure there is only one mail sender process or maybe better only one per window.  And I don't think tedit should go quit this wierd in any case.The good news is that I have been getting mail sent for lisp and enjoying it. Richard *start*00748 00024 US Date: 13-FEB-83 10:36:15 PDTFrom: burton.paSubject: lafite stepping on itselfTo: yonkecc: burton.paI have been burned several times by trying to create a new message to send before the previous one has been delivered.  Just now I did it and got a message "Couldn't start sending the message from sender burton reason: AllDown."  Before we release to non-project members we need to implement some strategy for keeping off our own toes.  Tom Malone has the primitives for locking and unlocking global things that he did for the distributed system work.  We should look at these and see if we can use them to avoid starting things that will kill us.  For now we can print a message that (gently) tells the user to wait.*start*00422 00024 US Date: 13 FEB 83 10:38 PSTFrom: MASINTER.PASubject: re: new message userTo:   Burtoncc:   Sheil, Yonke, MasinterWe just got rid of Beau.PA because it was accumulating mail which wasn'tgetting read. If you really want to set up a new mailbox, askRegistrar.PA (which is really Ron Weaver) to please set it up.Give him a password. It probably should not be in any distributionlists.Larry*start*00704 00024 US Date: 13 FEB 83 10:45 PSTFrom: MASINTER.PASubject: re: Slowness in Lafite due to lack of disk address tableTo:   Burtoncc:   LispCore^This is "shooting from the hip", but I think the "right" solution isto (a) always keep the file open, and (b) invent a background processwhich flushes dirty file pages out to the disk to diminish the likelyhoodof a file which is being kept open being inconsistent.I could imagine an option of SETFILEINFO which would set the currentaccess as well, for (SETFILEINFO file 'ACCESS 'BOTH) and (SETFILEINFO file 'ACCESS 'INPUT) changing access method. The latterwould of course flush dirty pages back to the file immediately, no?Larry*start*00263 00024 US Date: 13-FEB-83 10:48:44 PDTFrom: burton.paSubject: LAFITE QTo: YONKEcc: burton.paI always get active appearing twice in my menu of choices when I select browse from the main lafite menu.  How do I get rid of one of them?Richard*start*00592 00024 US Date: 13-FEB-83 10:58:18 PDTFrom: burton.paSubject: Re:  menued window - lafite interactionIn-reply-to: burton.pa's message of 11-FEB-83 18:35:36 PDTTo: gadol, yonkecc: burton.paI fixed the system to allow multiple shaping functions and shaping the browser window now works.  This is in the latest loadup on <lispcore>wind>.Martin:  I notice that characters seem to wrap around in the browse window.  This will be fixed in the system someday but until then what you can do is(DSPRIGHTMARGIN 64000 browserwindow) which will prevent PRIN3 from putting in CRs. *start*00429 00024 US Date: 13-FEB-83 11:04:18 PDTFrom: burton.paSubject: Re:  menued window - lafite interactionIn-reply-to: burton.pa's message of 11-FEB-83 18:35:36 PDTTo: gadol, yonkecc: burton.paI take back what I said about reshaping working.  It gave me an illegal arg NIL under windowprop.  Some data from somewhere is not being copied correctly.  At least it gets displayed properly in the new size and place.*start*00261 00024 US Date: 13-FEB-83 15:00:20 PDTFrom: burton.paSubject: Bug in MoveTo: Yonkecc: burton.paI moved a whole bunch of messages into a new file and when I opened the browser on the new file it only had the two that I had last moved to it!*start*00332 00024 US Date: 13-FEB-83 16:14:44 PDTFrom: burton.paSubject: Saving a message being createdTo: yonkecc: burton.paDidn't work. It printed the message in the tty window (which froze things until I gave it the kybd to allow it to scroll) and added "nil" to the list of choices I get when middle bug "Send mail". *start*00929 00024 US Date: 13-Feb-83 16:29:18 PST (Sunday)From: vanMelle.PASubject: Re: Slowness in Lafite due to lack of disk address tableIn-reply-to: burton's message of 12 Feb. 1983 8:30 pm PST (Saturday)To: burtoncc: Lispcore^It might make sense for the disk to cache recent filemaps.For an interim solution, Larry's is about right.  I see no particular reason for Lafite not to just keep the file open for write the first time it decides to open for write (e.g. if you were just reading mail, you might never open the file for write, but as soon as you did a new mail you would change state; makes no difference on DSK, except for the matter of the file's write date, but it would make a big difference reading public mail files on a file server).  Then whenever you otherwise would have said to close the file, just perform a (FLUSHMAP stream) to get the dirty pages written out but not close the file.	Bill*start*01576 00024 US Date: 13-FEB-83 16:32:29 PDTFrom: burton.paSubject: lisp mail system - general commentsTo: yonke, sybalskycc: burton.paSome reactions from using Lafite for the day:I don't like the notion of having the mailsending process sitting under my message creation window and hence having the window die when I send the message.  I would like to have delivering the message be orthogonal to stopping the dedit process on the window.  I would like to be able to create more than one message at a time which I would assume I could get by middle buttoning answer, forward or sendmail. (actually I haven't tried this yet will it work?)I bugged Newmail expecting it to allow me to send mail rather than fetch my mail into that browser window.  I think it was a combination of being near answer and forward and of new mail being ambiguous (I wanted to create some new mail!).  I would recommend changing the token to GetMail.  I have an uneasiness feeling about the interface which stems from being unable to know how to group the commands.  eg if I wnat to do something it doesn't jump out to me what command or even which command menu I want to look at.  For example, I would like to see the deliver and save commands be in the title bar of the message sending window.  I realize this will take some work on the underlying system to get menus into titles.I would like the typescript window to be a tedit window so I can select stuff from it too.Still, in all I am very encouraged that we might get to an integrated environment yet. Richard  *start*00375 00024 US Date: 14-FEB-83 14:13:10 PDTFrom: Yonke.PASubject: TEDIT.HARDCOPYTo: Sybalskycc: LispSupportAfter I do a (TEDIT.HARDCOPY (OPENTEXTSTREAM FILE)) where FILE is a closed file, I end up with two opened files {CORE}PRESSPDSTRM.PRESS and {CORE}PRESSELSTRM.PRESS.  Another call to TEDIT.HARDCOPY creates two more of these files and leaves them open.*start*00648 00024 US Date: 16-FEB-83 16:56:20 PDTFrom: Yonke.PASubject: LAFITETo: Burtoncc: Yonke.PAThere is a new version of Lafite on <lispusers>.  Many of your bug reports / suggestions have been fixed.  Things not fixed yet (1) stored forms (the code is just done wrong and has to be rewritten) and (2) there is still no "blocking" on multiple mail-sending processes.  These should be fixed sometime tomorrow morning.  Please try to beat the ... out of it.  Also, middle button 'Send Mail' includes a LafiteReport form.MartinP.S. still waiting for a new Tedit so you may get sapped with some kind of illegal address problem.  /mdy*start*00517 00024 US Date: 17-FEB-83 17:23:27 PDTFrom: burton.paSubject: Greying out of message windowTo: Yonke.PAcc: burton.paWhat I had in mind was for it to grey out immediately upon acknowledgement of the "deliver" up click rather than wait until the message was delivered.  I now think what it should do it light gray immediately and darker gray upon successful delivery.  If you can detect non-delivery, how about restoring the message window (undoing the light gray) and leaving the mailsender active.*start*00560 00024 US Date: 20-FEB-83 15:49:27 PDTFrom: BURTON.PASubject: Couldn't get Lafite to work from phylumTo: Yonke.PAI copied all of my mail files and their lafite toc files to my phylum directory and  started up lafite.  The browser window came up on {phylum}<burton>Active.mail;1.  This is empty because my active.mail was transferred over as Active.mail;19.  I'm not sure what you should do here  (use the highest and leave it's version number alone?) but you should at least let the user know if he has higher versions that you are ignoring.*start*00304 00024 US Date: 20-FEB-83 15:51:20 PDTFrom: BURTON.PASubject: AFTERLOGOUTFORMSTo: Yonke.PAis getting set in such a way as to cause FILES? to want to put it somewhere.  The only thing it has on it is (LAFITEAFTERLOGOUT) so I assume however you are putting it there needs to be changed.*start*00144 00024 US Date: 20-FEB-83 15:54:05 PDTFrom: BURTON.PASubject: Quitting from the browser didn't close ACTIVE.MAILTo: Yonke.PA*start*00277 00024 US Date: 20-FEB-83 16:22:25 PDTFrom: BURTON.PASubject: Feature status queryTo: Yonke.PADid my request for an "automatically display the next message upon delete" get lost?Richardps.  I read my mail entirely from a dorado and didn't get any errors.*start*00176 00024 US Date: 20-FEB-83 17:51:08 PDTFrom: BURTON.PASubject: Form suggestionTo: Yonke.PAcc: LispSupport, BURTON.PAAdd a report form for lisp support also.*start*00892 00024 US Date: 20-FEB-83 18:00:30 PDTFrom: BURTON.PASubject: >>PleaseSpecifyWhatKindOfBugOrSuggestion<<To: VanMelle, Masinter,cc: LispSupportWhen running my dolphin color system, I regularly (though not consistently) fall into RAID underneath \PUTBITS.UFN (illegal 2nd arg -1) under \HTFIND under \GC.HANDLEOVERFLOW.  I have collected data in three cases and this much was the same in all of them.  I would normally suspect hardware but Gordon Foyster at Stanford is reporting the same (or a very similar) failure.I will try to isolate it further but my current theories are:Color cursor tracking code is clobbering something.System timing error that is triggered because of slow downs due to color display taking cycles and/or color cursor updating under the keyboard handler.In either case I would like some help trying to figure out what is being clobbered. *start*00509 00024 US Date: 21-FEB-83 11:29:40 PDTFrom: burton.paSubject: Shouldn't when getting mailTo: Yonke.PAcc: LispSupportI got a call to SHOULDNT underneath RETRIEVEMESSAGES under GETNEWMAIL under LAFITENEWMAIL during a "getmail" command.  The args to RETRIEVEMAIL are:SOC (4146 . 44)OUTFILE {STREAM}#3,7360INBOXCODE NILAfter it happened the prompt window read Semillion not responding but I don't know whether that happened as a result of the getmail or as a result of the mail watcher.*start*00408 00024 US Date: 21-FEB-83 11:38:04 PDTFrom: burton.paSubject: re: Shouldn't when getting mailTo: Yonke.PAcc: LispSupportWhen I tried "getmail" again I got "can't access mail file".  I set LAFITELOCKS to NIL, did it again and things worked.  We need a way to reset the file locking mechanism orwe need to get rid of it entirely in favor of the variable binding scheme we talked about. *start*00603 00024 US Date: 21-Feb-83 14:35:08 PST (Monday)From: Masinter.PaSubject: Re: Shouldn't when getting mailIn-reply-to: burton's message of 21-FEB-83 11:38:04 PDTTo: Yonkecc: MasinterMartin: I found & fixed some bugs in the grapevine code when I worked on gettingit to work on Maxc; I think I managed to remove the SHOULDNT case too.Unfortunately, I renamed all of the functions to be ALLUPPERCASE instead of theUpperAndLowerCase convention before, so converting to my new interface (on <LISPUSERS>GVOPUSER (=GVUSER) and GVMAILUSER (=MSUSER)) will require editing Lafite. Larry*start*00921 00024 US Date: 22 FEB 83 01:09 PSTFrom: HTHOMPSON.PASubject: New packages - SIGNAL, GVUSER, RPC/LUPINETo:   Lispusers^This is to announce the availability on <LISPUSERS> of threeInterlispD packages:SIGNAL - Provides a pretty fair recapitulation of the Mesa Signal	mechanism, which has a lot to recommend it as overcoming	various messy aspects of the standard error mechanisms.   Documentation on <LISPUSERS>SIGNAL.PRESS, BRAVOGVUSER - Implements the Grapevine user protocols, allows access to	the Grapevine registration servers/databases.  Also MSUSER, for	mail servers.    Documentation on <LISPUSERS>GVUSER.PRESS, BRAVORPC, LUPINE - Implement Remote Procedure Calls.  RPC is the transport	mechanism, and LUPINE the stub creation.  Allows calls between	separate machines running InterlispD or Cedar Mesa.    Documentation on <LISPUSERS>RPC.PRESS, BRAVOHenry Thompson (HThompson.pa)*start*00212 00024 US Date: 22 FEB 83 01:15 PSTFrom: HTHOMPSON.PASubject: Typo in previous messageTo:   lispusers^Oops - the documentation for GVUSER and MSUSER is on<LISPUSERS>GV-MSUSER.PRESS, BRAVO.ht*start*00323 00024 US Date: 23 Feb. 1983 2:57 pm EST (Wednesday)From: Denber.WBSTSubject: LafiteTo: Lispsupport.paWhat ever happened to Lafite?  I see it's still labeled as "experimental" in thenew release notice.  Was the experiment a success?  Last I used it, I couldreceive but not send messages.			- Michel*start*00500 00024 US Date: 23-FEB-83 12:59:44 PDTFrom: burton.paSubject: Re: LafiteIn-reply-to: Denber.WBST's message of 23 Feb. 1983 2:57 pm EST (Wednesday)To: Denber.WBSTcc: Lispsupport.paThis response is being sent from Lafite.  I have been using it as my only mail system for a week.  There are still a minor few problems.  It will be released to the lisp group next week to get the next round of bugs and probably to friendly users sometime after that.  Are you in a hurry??Richard *start*00351 00024 US Date: 23-FEB-83 15:47:08 PDTFrom: Sybalsky.PASubject: Lafite and BSPTo: Yonke.pacc: LispSupport.paMarty--	I tried to start up Lafite just now, and got a u.d.f. for OPENRTPSOCKET--which seems to be in the BSP package;  Since GVUSER and MSUSER got changed recently, might one of them be forgetting to load it?			--John*start*00590 00024 US Date: 24 Feb. 1983 10:12 am EST (Thursday)From: Denber.WBSTSubject: Re: LafiteIn-reply-to: burton.pa's message of 23-FEB-83 12:59:44 PDTTo: burton.pacc: Lispsupport.pa	"Are you in a hurry?"Yes actually - I have to put up with a guy here who's always telling me howmuch better Mesa is than Lisp because it can <foo> and Lisp can't.  Mail is thelatest foo.  At least I don't have to listen about how slow Lisp window operationsare anymore.  So if you want a volunteer to see if it works east of theMississippi, I'd be glad to give it a try.			- Michel*start*00742 00024 US Date: 28-FEB-83 13:35:34 PDTFrom: Yonke.PASubject: message system conformingTo: Taftcc: Yonke.PA, Willie-Sue, MasinterI'm doing the mail system for Interlisp (called Lafite) and would like to make sure that it will conform with other mail systems.  From your message of Feb. 9th, it sounds like the decision was made to go along with the new ARPAnet standard. I assume this means RFC 822.  Does this imply all of 822 or some reasonable subset?If you have a DL for mail system implementors would you please put me on it.  Also, could you forward me any relevant messages that have gone out in the recent past to implementors.Thanks much,MartinP.S. this message is being composed and sent by Lafite.  /mdy*start*00867 00024 US Date: 28 Feb. 1983 1:51 pm PST (Monday)From: Taft.PASubject: Re: message system conformingIn-reply-to: Yonke's message of 28-FEB-83 13:35:34 PDTTo: Yonkecc: Taft, Willie-Sue, MasinterThe intention is that we will conform to RFC 822 exactly, with two exceptions:1. Xerox recipient names need not (and in fact should not) be qualified by an ARPA domain name.  That is, the rule for addr-spec is changed from:	addr-spec = local-part "@" domainto:	addr-spec = local-part ["@" domain]2. A bare CR has the semantics of CRLF in RFC 822; the LF character should not appear at all.Of course, the forwarder on Maxc takes care of these translations as necessary.I will forward you copies of all relevant messages from the past few months.  We don't currently have a distribution list, but I suppose we should; I will set one up.	Ed*start*14703 00024 US Date: 28 Feb. 1983 2:08 pm PST (Monday)From: Taft.PASubject: Mail messagesTo: Yonke---------------------------Date: 17-Jan-83 17:06:07 PSTFrom: Willie-Sue.paSubject: Notes on RFC822 meeting of 17 Jan 83To: Birrell, Brotz, Karlton, Levin, Schroeder, Taftcc: Willie-SueHere's what I wrote down that we decided; corrections requested.1. Private dl's will use group syntax.   e.g., name:; or "mumble":;2.  From/Sender semantics: both fields (if present) will contain validated mailbox names;  the header-sender => gv-sender and gv-Return-To.  e.g.,  From: random-text <route-addr>  is acceptable      where random-text is 1*word and specials must be quoted.  Aside: NEVER answer to the Sender: field.3. Full ARPA internet mailbox names will be used.   e.g., local-part@domain or <route>local-part@domain   Only the local-part may be (completely) quoted4.  Dates have a more restricted form.5.  In-Reply-To:  should use message-ID only if it's there.   e.g., field may contain *(phrase | msg-ID), where msg-ID = <addr-spec>6.  Quotes are not stripped from headers.   Aside: "Foo.pa" will get an invalid recipient response Grapevine. 7.  AT is illegal.8.  In property lists, any name that contains a @ must have .ArpaGateway appended to it.What MAXC will do for us: On outgoing mail:  In the headers:  a) anything.ArpaGateway => anything  b) name => name.sreg@PARC-MAXC.ARPA  c) name.reg => name.reg@PARC-MAXC.ARPA  d) anything containing @ => unchanged  e) Line folding will be done, with a header field to disable this feature. In properties:  a) recipients will have .ArpaGateway stripped  b) sender will have @PARC-MAXC.ARPA appended On incoming mail:  In headers and properties:  a) x@PARC-MAXC.ARPA => x  b) "x" => x  c)  x => x.pa---------------------------Date: 17 Jan. 1983 5:24 pm PST (Monday)From: Taft.PASubject: Maxc mail translationTo: Karlton, Brotz, Schroeder, Birrell, Levin, Willie-Suecc: Taft1. Outgoing mail1.1 Header translation.  For all names in all name-containing fields (From,Sender, To, cc, Reply-to):  a) Strip off .ArpaGateway suffix if present.  b) If name contains any "@" then done (name is assumed already to be incorrect form).  c) If name is unqualified by registry then append the sender's registry.  d) Append @PARC-MAXC.ARPA.1.2 Line folding  a) Unfold and refold header lines unconditionally.  b) Unless disabled by a "Line-Folding: No" field in the header, examine thefirst k characters of the body looking for lines longer than m characters.  If anyare found, insert CRs into the body as required to make lines be no longer thann characters.  Proposed values are k=5000, m=90, n=75.  (Having m bigger than nmakes it unlikely that messages from old Laurels will get lines folded twice.)1.3 Property list translation  a) Recipients: strip .ArpaGateway if present.  b) Sender: append @PARC-MAXC.ARPA2. Incoming mail2.1 Translation of all properties and all names in headers:  a) Strip @PARC-MAXC.ARPA if present.  b) Strip surrounding double-quotes if present.  c) If name is unqualified by registry then append .PA.	Ed---------------------------Date: 17 Jan. 1983 6:08 pm PST (Monday)From: Taft.PASubject: Re: Notes on RFC822 meeting of 17 Jan 83In-reply-to: Willie-Sue's message of 17-Jan-83 17:06:07 PSTTo: Willie-Suecc: Birrell, Brotz, Karlton, Levin, Schroeder, TaftMinor corrections:3. Full ARPA internet mailbox names will be used.   e.g., local-part@domain or <route:local-part@domain>   Only the local-part may be (completely) quoted5.  In-Reply-To:  should use message-ID if it's there, manufacturedhuman-readable text otherwise -- never both at the same time.	Ed---------------------------Date: 23-Jan-83  1:40:41 PST (Sunday)From: Karlton.PASubject: RFC822To: Taftcc: KarltonEd,I got most of the parser done and I was going over some details in the grammar. Please let me know if I have read it correctly. It seems that the mailbox "Philip L. Karlton <Karlton.pa@PARC-MAXC>" would be illegal since	mailbox ::= ... | phrase route-addr	phrase  ::= 1*word	word    ::= atom | ...and	atom    ::= <no specials and "." is one>This seems somewhat unreasonable.PK---------------------------Date: 23 Jan. 1983 4:43 pm PST (Sunday)From: Taft.PASubject: Re: RFC822In-reply-to: Your message of 23-Jan-83  1:40:41 PST (Sunday)To: Karltoncc: TaftYeah, I noticed that also, along with a few other funnies.  I ended up decidingto change the grammar so as to enlarge the language to include such constructs.[Maxc]<Taft>822PRS.MAC contains the current version of my parser, in case youare interested in looking at it.  In particular, my current version of the grammaris included as part of an enormous comment at the beginning, along with adetailed explanation of deviations from RFC 822.The parser has grown from a finite-state machine to a simple push-downautomaton.  I concluded that a FSM was adequate but would require an enormousnumber of states.  The size of the stack is fixed; I think it needs room for only 5or 6 states.I haven't yet tested this, since I haven't yet defined the macros which assemblethe rules into a table.  (I have specified the table representation and written theinterpreter for it; it's one page of assembly-language code.)Also, I haven't filled in the semantic actions.  I'm thinking of changing thingsso that there is a semantic action associated with each reduction rather than witheach rule.	Ed---------------------------Date: 26-Jan-83  0:27:08 PST (Wednesday)From: Karlton.PASubject: MailParserTo: Taftcc: Willie-Sue, KarltonOn [Igor]<Karlton>MailParse> I have stored MailParse.mesa, MailParseImpl.mesa which I have tested a little bit using MailParseTest.mesa. The results of passing the "complicated example" from page 39 of RFC822 can be found in Test.out. Test.msg contains the text of the message I did parse.There is a bug in the example	"<Jones>standard.dist.3"@Tops-20-Host>has unbalanced "<>"s so I deleted the trailing ">".I have been making recent changes to the error handling so that is somewhat flakey. I am trying to be fairly informative about why the parse fails.The interface has much the same flavor of Roy's old version, but I took out the stuff I don't need and that cleaned up the implementation quite a bit. If you come across any errors in the grammar or my implementation of it, please let me know.PK  ---------------------------Date: 26-Jan-83  0:30:37 PST (Wednesday)From: Karlton.PASubject: Another bug in the example of RFC822, page 39To: Taftcc: KarltonIn-Reply-To: <some.string@DBM.Group>, George's messageshould not contain that comma.PK---------------------------Date: 26-Jan-83 14:58:40 PST (Wednesday)From: Karlton.PASubject: RFC822 and .pa default registryTo: Taft, Brotz, Willie-Suecc: Karlton, LevinMy mail parser seems to be doing fine now, but I've run into problems in AnswerImpl since I removed the special casing of the .pa registry and checking for local domain.The problem comes when trying to answer a message of the formFrom: Foo @ PARC-MAXCTo: Distribution^Reply-To: Foo...sent out by somebody in the .pa registry. Anybody in another registry will end up answering incorrectly (i.e., to just Foo). Those on the arpanet will get it correct since Ed will fix up the Reply-To field to be "Foo@PARC-MAXC" and then put the .pa back on when the reply arrives. Should we consider the above header to be legal?PK---------------------------Date: 26 Jan. 1983 3:32 pm PST (Wednesday)From: Taft.PASubject: Re: RFC822 and .pa default registryIn-reply-to: Karlton's message of 26-Jan-83 14:58:40 PST (Wednesday)To: Karltoncc: Taft, Brotz, Willie-Sue, LevinIn the long term, there should not exist any messages which say "From: Foo @PARC-MAXC".  They will say simply "From: Foo.pa" (or whatever the sender'sregistry is), regardless of whether or not there are Arpanet recipients.  In thiscontext, "Reply-to: Foo" should be interpreted as "Reply-to: Foo.pa" -- that is, allunqualified names in To, cc, and Reply-to fields should be interpreted as beingin the sender's registry.(Aside: I've never liked this convention, and I think mail sending programsshould fill in the registries of unqualified names before sending the message. But we seem to be stuck with this convention now....)In the short term, you will have to be able to deal with messages sent by olderversions of Laurel, Hardy, etc, which do generate headers that say "From: Foo @PARC-MAXC".  It's up to you to decide whether or not you should do the "rightthing" in this case.  In this case, the "right thing" means deducing that "Foo @PARC-MAXC" really means "Foo.pa" and that "Reply-to: Foo" should beinterpreted in the .pa registry.By the way, your description of what the Maxc header translator will do is notquite right.  It will convert:From: Foo @ PARC-MAXCTo: Distribution^Reply-To: Footo:From: Foo.pa@PARC-MAXC.ARPATo: Distribution^.pa@PARC-MAXC.ARPAReply-To: Foo.pa@PARC-MAXC.ARPA	Ed---------------------------Date: 3 Feb. 1983 4:08 pm PST (Thursday)From: Taft.PASubject: Squeezing out spaces in recipient namesTo: Karlton, Brotz, Willie-Suecc: Schroeder, Birrell, Levin, TaftWhen converting recipient names in a header into R-name properties to presentto Grapevine, please be sure to squeeze out all the spaces.  Currently, bothLaurel and Walnut will leave the spaces in a name such as:	Smith @ MIT.ARPA(with spaces around the "@"), and this causes rejection of the message by theMTP server on Maxc because it never heard of an ARPA host named " MIT".  (Idiscovered this last night after I tried to answer a message in which "AT"s hadbeen converted into "@"s by my translator, leaving the surrounding blanks.  Iquickly changed the translator to delete them.)Remember also that spaces are illegal in the local-part, as in:	Joe Blow@CMUA.ARPAOf course, if the local-part is quoted then this restriction does not apply; e.g.,	"Joe Blow"@CMUA.ARPAIn this case, it is important that the entire quoted text, including the space ANDincluding the double-quotes, be included literally in the R-name.	Ed---------------------------Date:  3-Feb-83 17:29:10 PST (Thursday)From: Karlton.PASubject: Re: Squeezing out spaces in recipient namesIn-reply-to: Taft's message of 3 Feb. 1983 4:08 pm PST (Thursday)To: Taftcc: KarltonEd,The new Hardy currently leaves the spaces in header of the message. The spaces are not in the string given to the Grapevine as a recipient name. Is the translator going to remove the spaces from the header when it forwards the message?Does the translator handle recipients of the form	Karlton (comment) . PAPK---------------------------Date: 4 Feb. 1983 6:16 pm PST (Friday)From: Taft.PASubject: Re: Squeezing out spaces in recipient namesIn-reply-to: Your message of 3-Feb-83 17:29:10 PST (Thursday)To: Karltoncc: TaftHaving the spaces in the header is fine; it's just the MTP and Grapevineproperties I'm worried about.The translator will correctly parse something like	Karlton (comment) . PAand will pass it through unchanged.	Ed---------------------------Date: 4 Feb. 1983 6:39 pm PST (Friday)From: Taft.PASubject: Mail translatorTo: Schroeder, Birrellcc: Karlton, Brotz, Willie-Sue, TaftThe mail translation software should now handle nearly all the messages thathave generated error reports during the past two days.  Sorry about inundatingyour mailboxes with error messages to DeadLetter.ms.In particular, the mail translator now:- flushes extraneous commas;- allows empty To and cc fields;- handles multiple "@"s by putting everything before the last "@" inside aquoted-string;- appends the missing ";" to groups;- allows specials in field names (e.g., Article-I.D.: 123456);- handles private distribution lists by quoting them (e.g., "@CrankMail.dl").There are a few small things I have left to do, such as translating dates(currently Laurel dates are going out in am/pm form, which I'm sure will causepeople at other sites to scream).  But aside from those, I think I'm pretty muchdone.	Ed---------------------------Date: 25 Feb 83 16:16:15 PST (Friday)From: Karlton.PASubject: Authentication of names in From: fieldTo: Taftcc: Willie-Sue, Brotz, KarltonI just wanted to verify that we decided not to check if names in the From: list were valid Grapevine names. Do I recall correctly?PK---------------------------Date: 26 Feb. 1983 11:25 am PST (Saturday)From: Taft.PASubject: Re: Authentication of names in From: fieldIn-reply-to: Karlton's message of 25 Feb 83 16:16:15 PST (Friday)To: Karltoncc: Taft, Willie-Sue, BrotzMy recollection is that we decided to make From R-name validation optional: it is correct to do it, but not mandatory.  My suggestion is that if it's straightforward for you to put in R-name validation then you should do so.	Ed---------------------------Date: 28 Feb 83 10:10:56 PST (Monday)From: Karlton.PASubject: Reply-To vs. Return-PathTo: TaftThe following messsage only has a Return-Path field, and no Reply-To field. Are we supposed to be treating them the same?PK----------------------------------------------------------------Received: from CMU-CS-PT.ARPA by PARC-MAXC.ARPA; 27 FEB 83 16:36:24 PSTMail-From: CMUFTP host CMU-CS-PT received by CMU-CS-A at 27-Feb-83 19:34:51-ESTReceived: from MIT-MC by CMU-CS-PT; 27 Feb 83 19:22:44 ESTReturn-Path: <REM@MIT-MC>Date: 26 Feb 83 19:41 ESTFrom: Robert Elton Maas <REM@MIT-MC.ARPA>Subject: INFO-PCNETReceived: from MIT-MC.ARPA by udel-relay.ARPA ; 26-Feb-83 19:57:57-EST (Sat)To: hutchinson.UMass-ECE@UDEL-RELAY.ARPACc: INFO-PCNET.UMASS-ECE@UDEL-RELAY.ARPAVia:  UMASS-ECE; 27 Feb 83 19:06-ESTTest message.-------------------------------------------------------------------------------------------Date: 28 Feb. 1983 11:54 am PST (Monday)From: Taft.PASubject: Re: Reply-To vs. Return-PathIn-reply-to: Your message of 28 Feb 83 10:10:56 PST (Monday)To: Karltoncc: TaftI don't think it's appropriate to do anything with the Return-path.  Technically, it represents the path back to the Sender, and has no direct connection with the names in From, Reply-to, etc.You should understand that in general the Return-path is put on by the SMTP transport facilities, not by the originator of the message.  So it is certainly not likely that you would ever see a Return-path where a Reply-to was intended.	Ed------------------------------------------------------------*start*00267 00024 US Date: 28 Feb. 1983 2:37 pm PST (Monday)From: Taft.PASubject: New groupTo: MessageSystemImplementors^.paReply-To: Taft.PAI've created this group, with you in it.  Martin Yonke has joined it; he is doing a mail system for Interlisp.	Ed