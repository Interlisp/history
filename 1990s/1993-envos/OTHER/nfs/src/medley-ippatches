(DEFINE-FILE-INFO READTABLE "INTERLISP" PACKAGE "INTERLISP")(FILECREATED " 8-Sep-89 12:05:30" "{piglet/n}<piglet>nfs>sources>MEDLEY-IPPATCHES;6" 3574         changes to%:  (VARS MEDLEY-IPPATCHESCOMS) (FNS \SYSQUEUE.DEFPRINT \PRINTAR \IPINIT \IP.REINITIALIZE.FROM.SCRATCH \IP.MAYBE.READ.HOSTS.TXT \IP.ROUTE.PACKET \IP.TRANSMIT \IPEVENTFN \IP.PROCESS.OPTIONS \IP.LOCAL.DESTINATION \IP.BROADCAST.ADDRESS \IPSOCKET.DEFPRINT)      previous date%: " 6-Sep-89 16:08:43" "{piglet/n}<piglet>nfs>sources>MEDLEY-IPPATCHES;5")(* "Copyright (c) 1988, 1989 by Xerox Corporation.  All rights reserved.")(PRETTYCOMPRINT MEDLEY-IPPATCHESCOMS)(RPAQQ MEDLEY-IPPATCHESCOMS ((VARS (\10MBPACKETLENGTH 488)) (* ; "value in sysout is too small.  This is 512-(indexf (fetch epencapsulation))-2.  489 is more correct, but let's leave a word of slop for off-by-ones") (FUNCTIONS CL:NAMESTRING) (* ; "Stupid bug in directory-less pathnames") (FNS \SYSQUEUE.DEFPRINT) (DECLARE%: DONTEVAL@LOAD DOCOPY (* ; "Give Becky a name she can remember") (P (MOVD (QUOTE \ICMP.ECHO.TEST) (QUOTE IP.ECHOUSER) NIL T)) (* ; "Make it easier to see queuelength without opening up q.") (P (DEFPRINT (QUOTE SYSQUEUE) (QUOTE \SYSQUEUE.DEFPRINT)))) (PROP (FILETYPE MAKEFILE-ENVIRONMENT) MEDLEY-IPPATCHES)))(RPAQQ \10MBPACKETLENGTH 488)(* ; "value in sysout is too small.  This is 512-(indexf (fetch epencapsulation))-2.  489 is more correct, but let's leave a word of slop for off-by-ones")(CL:DEFUN CL:NAMESTRING (PATHNAME) (* ;;; "Returns the full form of PATHNAME as a string.") (DECLARE (GLOBAL \FILENAME.SYNTAX)) (CL:WHEN (AND (STREAMP PATHNAME) (NOT (fetch (STREAM NAMEDP) of PATHNAME))) (* ; "unnamed streams have the empty string as name.") (CL:RETURN-FROM CL:NAMESTRING "")) (LET* ((PATHNAME (PATHNAME PATHNAME)) (CL::HOST (%%PATHNAME-HOST PATHNAME)) (CL::DEVICE (%%PATHNAME-DEVICE PATHNAME)) (CL:DIRECTORY (%%PATHNAME-DIRECTORY PATHNAME)) (CL::NAME (%%PATHNAME-NAME PATHNAME)) (TYPE (%%PATHNAME-TYPE PATHNAME)) (CL::VERSION (%%PATHNAME-VERSION PATHNAME)) (CL::RESULT NIL)) (CONCATLIST (NCONC (CL:WHEN CL::HOST (LIST "{" CL::HOST "}")) (CL:WHEN CL::DEVICE (LIST CL::DEVICE ":")) (CL:WHEN CL:DIRECTORY (COND ((EQ CL:DIRECTORY :WILD) (LIST (CL:FIRST \FILENAME.SYNTAX) "*" (CL:SECOND \FILENAME.SYNTAX))) (T (LET ((CL::DIRLEN (CL:LENGTH CL:DIRECTORY))) (CASE (AND (> CL::DIRLEN 0) (CL:CHAR (STRING CL:DIRECTORY) (CL:1- CL::DIRLEN))) ((#\> #\/) (* ; "It's a subdirectory, so leave it in subdir syntax") (LIST CL:DIRECTORY)) (T (LIST (CL:FIRST \FILENAME.SYNTAX) CL:DIRECTORY (CL:SECOND \FILENAME.SYNTAX)))))))) (CL:WHEN CL::NAME (LIST (CL:IF (EQ CL::NAME :WILD) "*" CL::NAME))) (CL:WHEN TYPE (LIST "." (CL:IF (EQ TYPE :WILD) "*" TYPE))) (CL:WHEN (AND CL::VERSION (OR (NOT (EQ CL::VERSION (QUOTE :NEWEST))) CL::NAME TYPE)) (LIST (CL:THIRD \FILENAME.SYNTAX) (CASE CL::VERSION ((:WILD) "*") ((:NEWEST) "") (T CL::VERSION))))))))(* ; "Stupid bug in directory-less pathnames")(DEFINEQ(\SYSQUEUE.DEFPRINT(LAMBDA (Q STREAM) (* ; "Edited  8-Sep-89 11:06 by bvm") (\DEFPRINT.BY.NAME Q STREAM (if (fetch (SYSQUEUE SYSQUEUEHEAD) of Q) then (\QUEUELENGTH Q) else "Empty") "SysQueue"))))(DECLARE%: DONTEVAL@LOAD DOCOPY (MOVD (QUOTE \ICMP.ECHO.TEST) (QUOTE IP.ECHOUSER) NIL T)(DEFPRINT (QUOTE SYSQUEUE) (QUOTE \SYSQUEUE.DEFPRINT)))(PUTPROPS MEDLEY-IPPATCHES FILETYPE :COMPILE-FILE)(PUTPROPS MEDLEY-IPPATCHES MAKEFILE-ENVIRONMENT (:READTABLE "INTERLISP" :PACKAGE "INTERLISP"))(PUTPROPS MEDLEY-IPPATCHES COPYRIGHT ("Xerox Corporation" 1988 1989))(DECLARE%: DONTCOPY  (FILEMAP (NIL (2971 3183 (\SYSQUEUE.DEFPRINT 2981 . 3181)))))STOP