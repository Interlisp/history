h02131s 00006/00010/00073d D 1.4 91/04/16 14:52:42 sybalsky 4 3c Retrofit foreign-OS changes from Savoir.es 00048/00023/00035d D 1.3 90/09/18 23:27:10 sybalsky 3 2c Retrofit changes from AIX, DEC3100, PS/2es 00001/00001/00057d D 1.2 90/04/20 01:09:09 sybalsky 2 1c AIX:  shortening file names, bulk change.es 00058/00000/00000d D 1.1 90/03/01 15:30:40 osamu 1 0c date and time created 90/03/01 15:30:40 by osamueuUf e 0tTI 1/* %Z% %M% Version %I% (%G%). copyright venue & Fuji Xerox  */static char *id = "%Z% %M%	%I% %G%	(venue & Fuji Xerox)";D 4/**** Copyright (C) 1988 by Fuji Xerox co.,Ltd. All rights reserved.**		Author: Mitsunori Matsuda*		Date  : August 18, 1988*/E 4I 3/************************************************************************//*									*/D 4/*	Copyright 1989, 1990 Venue, Fuji Xerox Co., Ltd, Xerox Corp.	*/E 4I 4/*	Copyright 1989, 1990, 1991 Venue				*/E 4/*									*/D 4/*	This file is work-product resulting from the Xerox/Venue	*/E 4I 4/*	This file was work-product resulting from the Xerox/Venue	*/E 4/*	Agreement dated 18-August-1989 for support of Medley.		*//*									*//************************************************************************/E 3#include <stdio.h>#include <X11/Xlib.h>#include <X11/Xutil.h>I 3#include "dbprint.h"E 3#include "XVersion.h"#include "MyWindow.h"D 2#include "lispXicon.h"E 2I 2#include "Xicon.h"E 2extern Display *Xdisplay;extern MyWindow Lisp_Window;extern int Bitmap_Pad		 , Default_Depth;Pixmap IconPixmap;XImage IconImage;I 3/************************************************************************//*									*//*			m a k e _ X i c o n				*//*									*//*	Make the icon for the shrunken Medley window.			*//*									*//************************************************************************/E 3make_Xicon()D 3{#ifdef TRACE	printf( "TRACE: make_Xicon()\" );#endif        IconImage.width = Lisp_icon_width;        IconImage.height = Lisp_icon_height;        IconImage.xoffset = 0;        IconImage.format  = XYBitmap;        IconImage.data    = (char*) Lisp_icon;#ifdef XV11R1        IconImage.byte_order  = LSBFirst;#else XV11R1        IconImage.byte_order  = MSBFirst;#endif XV11R1        IconImage.bitmap_unit = 8;        IconImage.bitmap_pad  = Bitmap_Pad;        IconImage.depth       = 1;        IconImage.bytes_per_line = Lisp_icon_width/8;        IconImage.bitmap_bit_order = MSBFirst;E 3I 3  {    TPRINT(( "TRACE: make_Xicon()\n" ));E 3D 3        IconPixmap = XCreatePixmap( Xdisplay, Lisp_Window.winE 3I 3    IconImage.width = Lisp_icon_width;    IconImage.height = Lisp_icon_height;    IconImage.xoffset = 0;    IconImage.format  = XYBitmap;    IconImage.data    = (char*) Lisp_icon;#if (defined(XV11R1) || defined(BYTESWAP))    IconImage.byte_order  = LSBFirst;#else XV11R1 | BYTESWAP    IconImage.byte_order  = MSBFirst;#endif XV11R1 | BYTESWAP    IconImage.bitmap_unit = 8;    IconImage.bitmap_pad  = Bitmap_Pad;    IconImage.depth       = 1;    IconImage.bytes_per_line = Lisp_icon_width/8;I 4#if defined(X_ICON_IN_X_BITMAP_FORMAT)    IconImage.bitmap_bit_order = LSBFirst;#elseE 4    IconImage.bitmap_bit_order = MSBFirst;I 4#endifE 4    IconPixmap = XCreatePixmap( Xdisplay, Lisp_Window.winE 3                                , Lisp_icon_width , Lisp_icon_heightD 3								, Default_Depth );E 3I 3				, Default_Depth );E 3D 3        XPutImage( Xdisplay, IconPixmap, *(Lisp_Window.gc), &IconImageE 3I 3    XPutImage( Xdisplay, IconPixmap, *(Lisp_Window.gc), &IconImageE 3			, 0, 0, 0, 0                        , Lisp_icon_width, Lisp_icon_height );D 3} /* end make_Xicon */E 3I 3  } /* end make_Xicon */E 3E 1