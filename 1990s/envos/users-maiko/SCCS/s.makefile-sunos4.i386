h60392s 00001/00001/00043d D 1.9 90/07/26 18:49:06 mitani 9 8c add -DNEW_STORAGE flages 00003/00001/00041d D 1.8 90/07/04 01:35:50 sybalsky 8 7c Bob Bane changes:  Consolidate nromal and -x tails, move forking earlier.es 00004/00004/00038d D 1.7 90/04/20 02:11:58 sybalsky 7 6c AIX:  shortening file names, bulk change.es 00016/00003/00026d D 1.6 90/04/16 11:01:54 sybalsky 6 5c add new xc make methodes 00003/00003/00026d D 1.5 90/03/15 15:14:49 sybalsky 5 4c Add inline supportes 00001/00001/00028d D 1.4 90/03/02 14:49:18 takeshi 4 3c Add -DSUNDISPLAYes 00003/00003/00026d D 1.3 90/02/16 16:06:50 takeshi 3 2c remove DISPLAYBUFFER option for ldesinglees 00001/00001/00028d D 1.2 90/01/02 14:05:18 sybalsky 2 1c es 00029/00000/00000d D 1.1 89/04/04 17:48:14 sybalsky 1 0c date and time created 89/04/04 17:48:14 by sybalskyeuUtTI 1D 3# Options for sun4 and mc68020E 3I 3# Options for i386SUNE 3# This is to make the %$#@! Apollo cc happyOEXT = .oI 3#For debuggingE 3OPTFLAGS = -gFPFLAGS = D 2DFLAGS = -DKBINT -DFSERROR -DFLTINT -DNOASM -DOS4 -DI386 -DBYTESWAP -DCHECKE 2I 2D 3DFLAGS = -DKBINT -DFSERROR -DFLTINT -DNOASM -DOS4 -DI386 -DBYTESWAP -DCHECK -DLOGINT -DDISPLAYBUFFERE 3I 3D 4DFLAGS = -DKBINT -DFSERROR -DFLTINT -DNOASM -DOS4 -DI386 -DBYTESWAP -DCHECK -DLOGINT E 4I 4D 8DFLAGS = -DKBINT -DFSERROR -DFLTINT -DNOASM -DOS4 -DI386 -DBYTESWAP -DCHECK -DLOGINT -DSUNDISPLAYE 8I 8D 9DFLAGS = -DKBINT -DFSERROR -DFLTINT -DNOASM -DOS4 -DI386 -DBYTESWAP -DCHECK -DLOGINT -DSUNDISPLAY -DFORKCOMME 9I 9DFLAGS = -DKBINT -DFSERROR -DNEW_STORAGE -DFLTINT -DNOASM -DOS4 -DI386 -DBYTESWAP -DCHECK -DLOGINT -DSUNDISPLAY -DFORKCOMME 9LDFLAGS = -lsuntool -lsunwindow -lpixrect -lc -lmE 8E 4E 3E 2D 5INLINE = E 5I 5INLINE = $(SRCDIR)disp386i.ilE 5OBJECTDIR = ../sunos4.i386/BYTESWAPFILES = $(OBJECTDIR)byteswapfns.o I 8COLORFILES = $(OBJECTDIR)colorbltfns.oE 8default	: $(OBJECTDIR)lde $(OBJECTDIR)ldeetherD 6$(OBJECTDIR)xc.o :  $(SRCDIR)xc.c $(INCDIR)lispemul.h  $(INCDIR)emulglobal.h  \	 $(INCDIR)address.h \E 6I 6# Special rules to create xc.c on 386i#run cpp to expand macros$(OBJECTDIR)xc.i:	$(SRCDIR)xc.c $(INCDIR)lispemul.h  $(INCDIR)emulglobal.h  $(INCDIR)address.h \E 6	 $(INCDIR)address68k.h  $(INCDIR)stack.h  $(INCDIR)lispglobal.h \	 $(INCDIR)lisptypes.h  $(INCDIR)lispmap.h  $(INCDIR)cell.h \	 $(INCDIR)initatoms.h  $(INCDIR)gc.h  \	 $(INCDIR)arith.h $(INCDIR)stream.h  $(INCDIR)dbprint.h\	 $(INCDIR)tos1defs.h  $(INCDIR)tosretmacro.h \D 7	 $(INCDIR)tosfuncallmacro.h  $(INCDIR)inlinedefsC.h   \D 5	 $(INCDIR)n_op_inlinedefsC.h  $(INCDIR)inlinedefs68K.h  \E 5I 5	 $(INCDIR)n_op_inlinedefsC.h  $(SRCDIR)disp386i.il  \E 7I 7	 $(INCDIR)tosfuncallmacro.h  $(INCDIR)inlineC.h   \	 $(INCDIR)n_op_inlineC.h  $(SRCDIR)disp386i.il  \E 7E 5	 $(INCDIR)dummy_entries.h \D 5	 $(INCDIR)inlinedefsSPARC.h  $(INCDIR)fast_dispatch.h  \E 5I 5D 7	 $(INCDIR)inlinedefs386i.h  $(INCDIR)fast_dispatch.h  \E 5	 $(INCDIR)fastinlinedefs68K.h $(INCDIR)profile.hE 7I 7	 $(INCDIR)inline386i.h  $(INCDIR)fast_disp.h  \	 $(INCDIR)fastinline68K.h $(INCDIR)profile.hE 7D 6	cc $(RFLAGS) $(SRCDIR)xc.c $(INLINE) -o $(OBJECTDIR)xc.oE 6I 6	cc -c -O -Qproduce .s $(DFLAGS) -I$(INCDIR) $(SRCDIR)xc.c -o $(OBJECTDIR)xc.sE 6I 6#run c compiler to produce first pass assembly#$(OBJECTDIR)xc.s1:	$(OBJECTDIR)xc.i#	rm -f $(OBJECTDIR)xc.s1#	/lib/ccom - $(FPFLAGS) <$(OBJECTDIR)xc.i >$(OBJECTDIR)xc.s1$(OBJECTDIR)xc.s2:	$(OBJECTDIR)xc.s $(INLINE)	rm -f $(OBJECTDIR)xc.s2	/usr/lib/inline -i $(INLINE) < $(OBJECTDIR)xc.s > $(OBJECTDIR)xc.s2$(OBJECTDIR)xc.o: $(OBJECTDIR)xc.s2	/bin/as -o $(OBJECTDIR)xc.o -O1 $(OBJECTDIR)xc.s2E 6E 1