h52273s 00009/00012/00433d D 2.8 92/11/25 20:17:32 sybalsky 10 9c Fixing extra text in endifs => comment.\nes 00000/00000/00445d D 2.7 92/04/21 16:25:30 sybalsky 9 8c shortening file names for DOSes 00015/00000/00430d D 2.6 90/06/04 10:33:43 sybalsky 8 7c reformat, copyrightes 00000/00000/00430d D 2.5 89/03/28 01:45:41 sybalsky 7 6c more byte swapping.es 00000/00014/00430d D 2.4 89/03/27 16:00:03 sybalsky 6 5c removed BITMAP decl, it's in lisptypes.hes 00226/00000/00218d D 2.3 89/03/16 12:03:52 sybalsky 5 4c Added byte-swapped definitions for structureses 00035/00035/00183d D 2.2 89/01/09 17:51:35 shih 4 3c spellinges 00000/00000/00218d D 2.1 88/05/17 09:17:12 hayata 3 2c Version up to 2.1es 00001/00001/00217d D 1.2 88/03/13 13:17:37 hayata 2 1c Add SCCS key id (%Z%)es 00218/00000/00000d D 1.1 88/02/23 18:36:11 hayata 1 0c date and time created 88/02/23 18:36:11 by hayataeuUtTI 1D 2/* This is G-file %M% Version %I% (%G%). copyright Xerox & Fuji Xerox  */E 2I 2D 4/* This is G-file %Z% %M% Version %I% (%G%). copyright Xerox & Fuji Xerox  */E 4I 4D 10/* %Z% %M% Version %I% (%G%). copyright envos & Fuji Xerox  */E 10I 10/* %Z% %M% Version %I% (%G%). copyright Venue */E 10E 4E 2D 10/* *	Copyright (C) 1987 by Fuji Xerox Co., Ltd. All rights reserved. *D 4 *	Auther	:	Osamu Nakamura	E 4I 4 *	Author	:	Osamu NakamuraE 4 */E 10I 8/************************************************************************//*									*/D 10/*	Copyright 1989, 1990 Venue, Fuji Xerox Co., Ltd, Xerox Corp.	*/E 10I 10/*	(C) Copyright 1989-92 Venue. All Rights Reserved.		*//*	Manufactured in the United States of America.			*/E 10/*									*/D 10/*	This file is work-product resulting from the Xerox/Venue	*//*	Agreement dated 18-August-1989 for support of Medley.		*/E 10I 10/*	The contents of this file are proprietary information 		*//*	belonging to Venue, and are provided to you under license.	*//*	They may not be further distributed or disclosed to third	*//*	parties without the specific permission of Venue.		*/E 10/*									*//************************************************************************/D 10E 10E 8I 5#ifndef BYTESWAP	/************************************************/	/*   Normal byte-order version of definitions	*/	/************************************************/E 5D 4typedef struct{  	LispPTR	BITMAPBASE; 	DLword	BITMAPRASTERWIDTH; 	DLword	BITMAPHEIGHT; 	DLword	BITMAPWIDTH; E 4I 4D 6typedef struct{	LispPTR	BITMAPBASE;	DLword	BITMAPRASTERWIDTH;	DLword	BITMAPHEIGHT;	DLword	BITMAPWIDTH;E 4	DLword	BITMAPBITSPERPIXEL;} BITMAP;E 6D 4typedef struct{  	DLword	W0; E 4I 4typedef struct{	DLword	W0;E 4	DLword	W1;	DLword	W2;	DLword	W3;	DLword	WU;	DLword	W4;	DLword	W5;	int		TIME;	unsigned	MOUSESTATE : 3;	unsigned	SHIFT1 : 1;	unsigned	SHIFT2 : 1;	unsigned	LOCK : 1;	unsigned	CTRL : 1;	unsigned	META : 1;	unsigned	FONT : 1;	unsigned	USERMODE1 : 1;	unsigned	USERMODE2 : 1;	unsigned	USERMODE3 : 1;	unsigned	NIL1 : 4;	DLword	MOUSEX;	DLword	MOUSEY;} KEYBOARDEVENT;D 4typedef struct{ E 4I 4typedef struct{E 4	DLword	READ;	DLword	WRITE;} RING;D 4typedef struct{ E 4I 4typedef struct{E 4	LispPTR	FLAGS;	LispPTR	CODES;	LispPTR	SHIFTCODES;	LispPTR	ARMED;	LispPTR	INTERRUPTLIST;} KEYACTION;D 4typedef struct{  	unsigned int EVENTWAKEUPPENDING : 1; E 4I 4typedef struct{	unsigned int EVENTWAKEUPPENDING : 1;E 4	unsigned int nil1 : 7;D 4	unsigned int EVENTQUEUETAIL : 24; E 4I 4	unsigned int EVENTQUEUETAIL : 24;E 4	LispPTR EVENTNAME;} EVENT;D 4typedef struct{  	unsigned int nil1 : 1; 	unsigned int MLOCKPERPROCESS : 1; 	unsigned int nil2 : 6; E 4I 4typedef struct{	unsigned int nil1 : 1;	unsigned int MLOCKPERPROCESS : 1;	unsigned int nil2 : 6;E 4	unsigned int MLOCKQUEUETAIL : 24;D 4	LispPTR	MLOCKOWNER; 	LispPTR	MLOCKNAME; 	LispPTR	MLOCKLINK; E 4I 4	LispPTR	MLOCKOWNER;	LispPTR	MLOCKNAME;	LispPTR	MLOCKLINK;E 4} MONITORLOCK;D 4typedef struct{  	DLword  PROCFX0; 	DLword	PROCFX; 	unsigned int PROCSTATUS : 8; 	unsigned int PROCNAME : 24; 	unsigned int PROCPRIORITY : 8; 	unsigned int PROCQUEUE : 24; E 4I 4typedef struct{	DLword  PROCFX0;	DLword	PROCFX;	unsigned int PROCSTATUS : 8;	unsigned int PROCNAME : 24;	unsigned int PROCPRIORITY : 8;	unsigned int PROCQUEUE : 24;E 4	unsigned int nil1 : 8;D 4	unsigned int NEXTPROCHANDLE : 24; E 4I 4	unsigned int NEXTPROCHANDLE : 24;E 4	unsigned int PROCTIMERSET : 1;	unsigned int PROCBEINGDELETED : 1;	unsigned int PROCDELETED : 1;	unsigned int PROCSYSTEMP : 1;	unsigned int PROCNEVERSTARTED : 1;	unsigned int nil2 : 3;	unsigned int PROCWAKEUPTIMER : 24;	LispPTR PROCTIMERLINK;	LispPTR PROCTIMERBOX;	LispPTR WAKEREASON;	LispPTR PROCEVENTORLOCK;	LispPTR PROCFORM;	LispPTR RESTARTABLE;	LispPTR PROCWINDOW;	LispPTR PROCFINISHED;	LispPTR PROCRESULT;	LispPTR PROCFINISHEVENT;	LispPTR PROCMAILBOX;	LispPTR PROCDRIBBLEOUTPUT;	LispPTR PROCINFOHOOK;	LispPTR PROCTYPEAHEAD;	LispPTR PROCREMOTEINFO;	LispPTR PROCUSERDATA;	LispPTR PROCEVENTLINK;	LispPTR PROCAFTEREXIT;	LispPTR PROCBEFOREEXIT;	LispPTR PROCOWNEDLOCKS;	LispPTR PROCEVAPPLYRESULT;	LispPTR PROCTTYENTRYFN;	LispPTR PROCEXITFN;	LispPTR PROCHARDRESETINFO;	LispPTR PROCRESTARTFORM;	LispPTR PROCOLDTTYPROC;	LispPTR nil3;} PROCESS;D 4typedef struct{  	unsigned int PQPRIORITY : 8; 	unsigned int PQHIGHER : 24; 	LispPTR	PQLOWER; 	LispPTR	PQNEXT; 	LispPTR	PQLAST; E 4I 4typedef struct{	unsigned int PQPRIORITY : 8;	unsigned int PQHIGHER : 24;	LispPTR	PQLOWER;	LispPTR	PQNEXT;	LispPTR	PQLAST;E 4} PROCESSQUEUE;typedef struct  fdev{	unsigned	RESETABLE : 1;	unsigned	RANDOMACCESSP : 1;	unsigned	NODIRECTORIES : 1;	unsigned	PAGEMAPPED : 1;	unsigned	FDBINABLE : 1;	unsigned	FDBOUTABLE : 1;	unsigned	FDEXTENDABLE : 1;	unsigned	BUFFERED : 1;	unsigned	DEVICENAME : 24;	unsigned	REMOTEP : 1;	unsigned	SUBDIRECTORIES : 1;	unsigned	INPUT_INDIRECTED : 1;	unsigned	OUTPUT_INDIRECTED : 1;	unsigned	NIL1 : 4;	unsigned	DEVICEINFO : 24;	LispPTR	OPENFILELST ;	LispPTR	HOSTNAMEP ;	LispPTR	EVENTFN ;	LispPTR	DIRECTORYNAMEP ;	LispPTR	OPENFILE ;	LispPTR	CLOSEFILE ;	LispPTR	REOPENFILE ;	LispPTR	GETFILENAME ;	LispPTR	DELETEFILE ;	LispPTR	GENERATEFILES ;	LispPTR	RENAMEFILE ;	LispPTR	OPENP ;	LispPTR	REGISTERFILE ;	LispPTR	UNREGISTERFILE ;	LispPTR	FREEPAGECOUNT ;	LispPTR	MAKEDIRECTORY ;	LispPTR	CHECKFILENAME ;	LispPTR	HOSTALIVEP ;	LispPTR	BREAKCONNECTION ;	LispPTR	BIN ;	LispPTR	BOUT ;	LispPTR	PEEKBIN ;	LispPTR	READCHAR ;	LispPTR	WRITECHAR ;	LispPTR	PEEKCHAR ;	LispPTR	UNREADCHAR ;	LispPTR	READP ;	LispPTR	EOFP ;	LispPTR	BLOCKIN ;	LispPTR	BLOCKOUT ;	LispPTR	FORCEOUTPUT ;	LispPTR	GETFILEINFO ;	LispPTR	SETFILEINFO ;	LispPTR	CHARSETFN ;	LispPTR	INPUTSTREAM ;	LispPTR	OUTPUTSTREAM ;	LispPTR	GETFILEPTR ;	LispPTR	GETEOFPTR ;	LispPTR	SETFILEPTR ;	LispPTR	BACKFILEPTR ;	LispPTR	SETEOFPTR ;	LispPTR	LASTC ;	LispPTR	GETNEXTBUFFER ;	LispPTR	RELEASEBUFFER ;	LispPTR	READPAGES ;	LispPTR	WRITEPAGES ;	LispPTR	TRUNCATEFILE ;	LispPTR	WINDOWOPS ;	LispPTR	WINDOWDATA ;}FDEV;typedef struct  package{	LispPTR	INDEX ;	LispPTR	TABLES ;	LispPTR	NAME ;	LispPTR	NAMESYMBOL ;	LispPTR	NICKNAMES ;	LispPTR	USE_LIST ;	LispPTR	USED_BY_LIST ;	LispPTR	EXTERNAL_ONLY ;	LispPTR	INTERNAL_SYMBOLS ;	LispPTR	EXTERNAL_SYMBOLS ;	LispPTR	SHADOWING_SYMBOLS ;} PACKAGE;typedef struct  {	unsigned nil1 : 8 ;	unsigned BASE : 24 ;	unsigned READ_ONLY_P : 1 ;	unsigned nil2 : 1 ;	unsigned BIT_P : 1 ;	unsigned STRING_P : 1 ;	unsigned nil3 : 1 ;	unsigned DISPLACED_P : 1 ;	unsigned FILL_POINTER_P : 1 ;	unsigned EXTENDABLE_P : 1 ;	unsigned TYPE_NUMBER : 8 ;	DLword OFFSET;	DLword FILL_POINTER;	DLword TOTAL_SIZE;} ONED_ARRAY;I 5#else	/****************************************************************/	/*   Byte-swapped, word-swapped definitions, for e.g. 80386's	*/	/****************************************************************/D 6typedef struct{	LispPTR	BITMAPBASE;	DLword	BITMAPHEIGHT;	DLword	BITMAPRASTERWIDTH;	DLword	BITMAPBITSPERPIXEL;	DLword	BITMAPWIDTH;} BITMAP;E 6typedef struct{	DLword	W1;	DLword	W0;	DLword	W3;	DLword	W2;	DLword	W4;	DLword	WU;	/* only swapped down to here, and MOUSEX & Y -- there */	/* looks like a missing word in the block at this point. */	DLword	W5;	int		TIME;	unsigned	MOUSESTATE : 3;	unsigned	SHIFT1 : 1;	unsigned	SHIFT2 : 1;	unsigned	LOCK : 1;	unsigned	CTRL : 1;	unsigned	META : 1;	unsigned	FONT : 1;	unsigned	USERMODE1 : 1;	unsigned	USERMODE2 : 1;	unsigned	USERMODE3 : 1;	unsigned	NIL1 : 4;	DLword	MOUSEY;	DLword	MOUSEX;} KEYBOARDEVENT;typedef struct{	DLword	WRITE;	DLword	READ;} RING;typedef struct{	LispPTR	FLAGS;	LispPTR	CODES;	LispPTR	SHIFTCODES;	LispPTR	ARMED;	LispPTR	INTERRUPTLIST;} KEYACTION;typedef struct{	unsigned int EVENTQUEUETAIL : 24;	unsigned int nil1 : 7;	unsigned int EVENTWAKEUPPENDING : 1;	LispPTR EVENTNAME;} EVENT;typedef struct{	unsigned int MLOCKQUEUETAIL : 24;	unsigned int nil2 : 6;	unsigned int MLOCKPERPROCESS : 1;	unsigned int nil1 : 1;	LispPTR	MLOCKOWNER;	LispPTR	MLOCKNAME;	LispPTR	MLOCKLINK;} MONITORLOCK;typedef struct{	DLword	PROCFX;	DLword  PROCFX0;	unsigned int PROCNAME : 24;	unsigned int PROCSTATUS : 8;	unsigned int PROCQUEUE : 24;	unsigned int PROCPRIORITY : 8;	unsigned int NEXTPROCHANDLE : 24;	unsigned int nil1 : 8;	unsigned int PROCWAKEUPTIMER : 24;	unsigned int nil2 : 3;	unsigned int PROCNEVERSTARTED : 1;	unsigned int PROCSYSTEMP : 1;	unsigned int PROCDELETED : 1;	unsigned int PROCBEINGDELETED : 1;	unsigned int PROCTIMERSET : 1;	LispPTR PROCTIMERLINK;	LispPTR PROCTIMERBOX;	LispPTR WAKEREASON;	LispPTR PROCEVENTORLOCK;	LispPTR PROCFORM;	LispPTR RESTARTABLE;	LispPTR PROCWINDOW;	LispPTR PROCFINISHED;	LispPTR PROCRESULT;	LispPTR PROCFINISHEVENT;	LispPTR PROCMAILBOX;	LispPTR PROCDRIBBLEOUTPUT;	LispPTR PROCINFOHOOK;	LispPTR PROCTYPEAHEAD;	LispPTR PROCREMOTEINFO;	LispPTR PROCUSERDATA;	LispPTR PROCEVENTLINK;	LispPTR PROCAFTEREXIT;	LispPTR PROCBEFOREEXIT;	LispPTR PROCOWNEDLOCKS;	LispPTR PROCEVAPPLYRESULT;	LispPTR PROCTTYENTRYFN;	LispPTR PROCEXITFN;	LispPTR PROCHARDRESETINFO;	LispPTR PROCRESTARTFORM;	LispPTR PROCOLDTTYPROC;	LispPTR nil3;} PROCESS;typedef struct{	unsigned int PQHIGHER : 24;	unsigned int PQPRIORITY : 8;	LispPTR	PQLOWER;	LispPTR	PQNEXT;	LispPTR	PQLAST;} PROCESSQUEUE;typedef struct  fdev{	unsigned	DEVICENAME : 24;	unsigned	BUFFERED : 1;	unsigned	FDEXTENDABLE : 1;	unsigned	FDBOUTABLE : 1;	unsigned	FDBINABLE : 1;	unsigned	PAGEMAPPED : 1;	unsigned	NODIRECTORIES : 1;	unsigned	RANDOMACCESSP : 1;	unsigned	RESETABLE : 1;	unsigned	DEVICEINFO : 24;	unsigned	NIL1 : 4;	unsigned	OUTPUT_INDIRECTED : 1;	unsigned	INPUT_INDIRECTED : 1;	unsigned	SUBDIRECTORIES : 1;	unsigned	REMOTEP : 1;	LispPTR	OPENFILELST ;	LispPTR	HOSTNAMEP ;	LispPTR	EVENTFN ;	LispPTR	DIRECTORYNAMEP ;	LispPTR	OPENFILE ;	LispPTR	CLOSEFILE ;	LispPTR	REOPENFILE ;	LispPTR	GETFILENAME ;	LispPTR	DELETEFILE ;	LispPTR	GENERATEFILES ;	LispPTR	RENAMEFILE ;	LispPTR	OPENP ;	LispPTR	REGISTERFILE ;	LispPTR	UNREGISTERFILE ;	LispPTR	FREEPAGECOUNT ;	LispPTR	MAKEDIRECTORY ;	LispPTR	CHECKFILENAME ;	LispPTR	HOSTALIVEP ;	LispPTR	BREAKCONNECTION ;	LispPTR	BIN ;	LispPTR	BOUT ;	LispPTR	PEEKBIN ;	LispPTR	READCHAR ;	LispPTR	WRITECHAR ;	LispPTR	PEEKCHAR ;	LispPTR	UNREADCHAR ;	LispPTR	READP ;	LispPTR	EOFP ;	LispPTR	BLOCKIN ;	LispPTR	BLOCKOUT ;	LispPTR	FORCEOUTPUT ;	LispPTR	GETFILEINFO ;	LispPTR	SETFILEINFO ;	LispPTR	CHARSETFN ;	LispPTR	INPUTSTREAM ;	LispPTR	OUTPUTSTREAM ;	LispPTR	GETFILEPTR ;	LispPTR	GETEOFPTR ;	LispPTR	SETFILEPTR ;	LispPTR	BACKFILEPTR ;	LispPTR	SETEOFPTR ;	LispPTR	LASTC ;	LispPTR	GETNEXTBUFFER ;	LispPTR	RELEASEBUFFER ;	LispPTR	READPAGES ;	LispPTR	WRITEPAGES ;	LispPTR	TRUNCATEFILE ;	LispPTR	WINDOWOPS ;	LispPTR	WINDOWDATA ;}FDEV;typedef struct  package{	LispPTR	INDEX ;	LispPTR	TABLES ;	LispPTR	NAME ;	LispPTR	NAMESYMBOL ;	LispPTR	NICKNAMES ;	LispPTR	USE_LIST ;	LispPTR	USED_BY_LIST ;	LispPTR	EXTERNAL_ONLY ;	LispPTR	INTERNAL_SYMBOLS ;	LispPTR	EXTERNAL_SYMBOLS ;	LispPTR	SHADOWING_SYMBOLS ;} PACKAGE;typedef struct  {	unsigned BASE : 24 ;	unsigned nil1 : 8 ;	DLword OFFSET;	unsigned TYPE_NUMBER : 8 ;	unsigned EXTENDABLE_P : 1 ;	unsigned FILL_POINTER_P : 1 ;	unsigned DISPLACED_P : 1 ;	unsigned nil3 : 1 ;	unsigned STRING_P : 1 ;	unsigned BIT_P : 1 ;	unsigned nil2 : 1 ;	unsigned READ_ONLY_P : 1 ;	DLword TOTAL_SIZE;	DLword FILL_POINTER;} ONED_ARRAY;D 10#endif BYTESWAPE 10I 10#endif /* BYTESWAP */E 10E 5E 1