/* This is G-file @(#) tosretmacro.h Version 2.5 (7/19/88). copyright Xerox & Fuji Xerox  */#define OPRETURN	{						\ register struct frameex2 *returnFX ; 					\ register int alink; 							\ alink = ((struct frameex2 *) BCE_CURRENTFX)->alink;			\ if (alink & 1) { EXT; slowreturn(); RET;  goto retxit; }; 		\ CSTKPTR = (LispPTR *) IVAR; 						\ returnFX = (struct  frameex2 *)					\	((DLword *) 							\	    (PVAR = (LispPTR *) Addr68k_from_StkOffset(alink))		\	    - FRAMESIZE); 						\ IVAR = (LispPTR *) Addr68k_from_StkOffset(*((DLword *)returnFX -1));	\	/* Get PC from Retunee's pc slot in FX */ 			\ PCMAC = returnFX->pc  + (ByteCode *)					\ 	(FuncObj = (struct fnhead *)					\	Addr68k_from_LADDR(SWAP_WORDS(returnFX->fnheader) & 0x0ffffff));\retxit:									\ Irq_Stk_Check = STK_END_COMPUTE(EndSTKP,FuncObj);			\ if (((int)(CSTKPTR) > Irq_Stk_Check) || (Irq_Stk_End <= 0)) 		\		{ SaveD6 = 0x100; goto check_interrupt;	}		\ Irq_Stk_End = (int) EndSTKP;						\ if (BCE_CURRENTFX->native) { RET_TO_NATIVE; }				\} /* OPRETURN end */ 