/* This is G-file @(#) ubf2.c Version 1.1 (6/2/88). copyright Xerox & Fuji Xerox  */static char *id = "@(#) ubf2.c	1.1 6/2/88";/*	ubf2.c */#include <stdio.h>#include "lispemul.h"/************************************************************	OP_ub2  -- op 354  ==  UBFLOAT2[198z354/0	ADD354/1	SUB354/2	ISUB354/3	MULT354/4	DIV354/5	GREAT354/6	MAX354/7	MIN354/8	REM354/9	AREF***********************************************************/static int constant0 = 0;unsigned int fpstatus_();N_OP_ubfloat2(a2, a1, alpha, error_addr)int a1, a2;int alpha, *error_addr;{register float arg1, arg2;float ans;int ret;#ifdef	TRACE   printPC();   printf("TRACE: N_OP_ubfloat2()\n");#endif  arg1 = *(float *)&a1;  arg2 = *(float *)&a2;  switch (alpha) {    case 0: /* add */      fpstatus_(&constant0);      ans = arg1 + arg2;      if (fpstatus_(&constant0) & 0xf0) ERROR_EXIT(error_addr);      ret = *(int *)&ans;      return(ret);    case 1: /* sub */      fpstatus_(&constant0);      ans = arg2 - arg1;      if (fpstatus_(&constant0) & 0xf0) ERROR_EXIT(error_addr);      ret = *(int *)&ans;      return(ret);    case 2: /* isub */      fpstatus_(&constant0);      ans = arg1 - arg2;      if (fpstatus_(&constant0) & 0xf0) ERROR_EXIT(error_addr);      ret = *(int *)&ans;      return(ret);    case 3: /* mul */      fpstatus_(&constant0);      ans = arg1 * arg2;      if (fpstatus_(&constant0) & 0xf0) ERROR_EXIT(error_addr);      ret = *(int *)&ans;      return(ret);    case 4: /* div */      fpstatus_(&constant0);      ans = arg2 / arg1;      if (fpstatus_(&constant0) & 0xf0) ERROR_EXIT(error_addr);      ret = *(int *)&ans;      return(ret);    case 5: /* gt */      if (arg2 > arg1) return(ATOM_T);      else return(NIL_PTR);    case 6: /* max */      if (arg2 > arg1) return(a2);      else return(a1);    case 7: /* min */      if (arg2 > arg1) return(a1);      else return(a2);    case 8: /* rem */      fpstatus_(&constant0);      ans = (arg2 / arg1) - (arg1 * ((arg2 / arg1) / 1));      if (fpstatus_(&constant0) & 0xf0) ERROR_EXIT(error_addr);      ret = *(int *)&ans;      return(ret);    default: ERROR_EXIT(error_addr);  }/* end switch */}/* end N_OP_ub2() */	/* end module */