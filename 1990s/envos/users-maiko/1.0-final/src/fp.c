/* This is G-file @(#) fp.c Version 2.2 (5/20/88). copyright Xerox & Fuji Xerox  */static char *id = "@(#) fp.c	2.2 5/20/88";/*	fp.c */#include <stdio.h>#include "lispemul.h"#include "lispglobal.h"#include "address68k.h"#include "lispmap.h"#include "lisptypes.h"#include "emulglobal.h"#include "my.h"/************************************************************	N_OP_fplus2       -- op 350	N_OP_fdifference  -- op 351	N_OP_ftimes2      -- op 352	N_OP_fquotient    -- op 353	N_OP_fgreaterp    -- op 362***********************************************************/DLword *createcell68k();static int constant0 = 0;unsigned int fpstatus_();N_OP_fplus2(parg1, parg2, error_addr)LispPTR parg1, parg2;int error_addr;{register float arg1;register float arg2;register float result;register DLword *wordp;#ifdef	TRACE	printPC();	printf("TRACE: N_OP_fplus2()\n");#endif  N_MakeFloat(parg1, arg1, error_addr);  N_MakeFloat(parg2, arg2, error_addr);  fpstatus_(&constant0);  result = arg1 + arg2;  if (fpstatus_(&constant0) & 0xf0) ERROR_EXIT(error_addr);  wordp = createcell68k(TYPE_FLOATP);  *((float *)wordp) = result;  return(LADDR_from_68k(wordp));}  /* end N_OP_fplus2()  */N_OP_fdifference(parg1, parg2, error_addr)LispPTR parg1, parg2;int error_addr;{register float arg1;register float arg2;register float result;register DLword *wordp;#ifdef	TRACE	printPC();	printf("TRACE: N_OP_fdifference()\n");#endif  N_MakeFloat(parg1, arg1, error_addr);  N_MakeFloat(parg2, arg2, error_addr);  fpstatus_(&constant0);  result = arg1 - arg2;  if (fpstatus_(&constant0) & 0xf0) ERROR_EXIT(error_addr);  wordp = createcell68k(TYPE_FLOATP);  *((float *)wordp) = result;  return(LADDR_from_68k(wordp));}  /* end N_OP_fdifference()  */N_OP_ftimes2(parg1, parg2, error_addr)LispPTR parg1, parg2;int error_addr;{register float arg1;register float arg2;register float result;register DLword *wordp;#ifdef	TRACE	printPC();	printf("TRACE: N_OP_ftimes2()\n");#endif  N_MakeFloat(parg1, arg1, error_addr);  N_MakeFloat(parg2, arg2, error_addr);  fpstatus_(&constant0);  result = arg1 * arg2;  if (fpstatus_(&constant0) & 0xf0) ERROR_EXIT(error_addr);  wordp = createcell68k(TYPE_FLOATP);  *((float *)wordp) = result;  return(LADDR_from_68k(wordp));}  /* end N_OP_ftimes2()  */N_OP_fquotient(parg1, parg2, error_addr)LispPTR parg1, parg2;int error_addr;{register float arg1;register float arg2;register float result;register DLword *wordp;#ifdef	TRACE	printPC();	printf("TRACE: N_OP_fquotient()\n");#endif  N_MakeFloat(parg1, arg1, error_addr);  N_MakeFloat(parg2, arg2, error_addr);  fpstatus_(&constant0);  result = arg1 / arg2;  if (fpstatus_(&constant0) & 0xf0) ERROR_EXIT(error_addr);  wordp = createcell68k(TYPE_FLOATP);  *((float *)wordp) = result;  return(LADDR_from_68k(wordp));}  /* end N_OP_fquotient()  */N_OP_fgreaterp(parg1, parg2, error_addr)LispPTR parg1, parg2;int error_addr;{register float arg1;register float arg2;register DLword *wordp;register LispPTR lptr;#ifdef	TRACE	printPC();	printf("TRACE: N_OP_fgreaterp()\n");#endif  N_MakeFloat(parg1, arg1, error_addr);  N_MakeFloat(parg2, arg2, error_addr);  if (arg1 > arg2) return(ATOM_T);  else return(NIL_PTR);}  /* end N_OP_fgreaterp()  */	/* end module */