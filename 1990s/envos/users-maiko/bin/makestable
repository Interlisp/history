#! /bin/sh# mknewstable: Will use the files in /users/maiko/working#to create a /users/maiko/stableMAIKODIR="/users/maiko"DATE=`/bin/date '+%m-%d-%y'`NEWSTABLE="stable-$DATE"NEWSTABLEPATH="$MAIKODIR/$NEWSTABLE"if [ -f $NEWSTABLEPATH -o -d $NEWSTABLEPATH ]then	echo "WARNING: $NEWSTABLEPATH already exists. "	echo "Are you sure it wasn't created today ?"	echo "`/bin/basename $0` : Cancelled ..."	exitficreatedir () {	for dir in $* RELEASE/checksumdir RELEASE/install.sunos4.sparc	do		echo "Creating : $dir ..."		/bin/mkdir $dir		/bin/chgrp maiko $dir		/bin/chmod g+rwx $dir		/bin/chmod o+rx $dir	done}linkfiles () {	FROMDIR=$1	TODIR=$2	echo "Linking  : $TODIR --> $FROMDIR/*"		/bin/ln  $FROMDIR/* $TODIR}	if [  -d $MAIKODIR/working ]then	/bin/mv $MAIKODIR/working $NEWSTABLEPATH	echo "Directory : 'working' renamed to : '$NEWSTABLE' ..."	/bin/rm $MAIKODIR/stable 2>1 1>/dev/null	/bin/ln -s $NEWSTABLEPATH $MAIKODIR/stable	echo "New link : stable --> $NEWSTABLE"else	echo "ERROR: working is not a directory"	exitficreatedir $MAIKODIR/workingecho "Changing working directory : $MAIKODIR/working"cd $MAIKODIR/workingOLDDIRS=`/bin/ls $MAIKODIR/stable`createdir $OLDDIRS# NOTE : bigfonts seldom changes/bin/rmdir bigfonts/bin/ln -s $MAIKODIR/stable/bigfonts  $MAIKODIR/working/bigfonts for dir in bin src incdo	linkfiles $MAIKODIR/stable/$dir $MAIKODIR/working/$dirdoneecho "`/bin/basename $0` : Done ..."