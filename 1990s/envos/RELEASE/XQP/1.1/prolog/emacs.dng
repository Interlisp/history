(ASSEMBLE.CLAUSE ( editor_temp_file 1 si ) 6    (put.Ai.value.Xn 2 1)    (put.Ai.symbol 1 SCRATCH%.FILE)    (execute gettopval 2 si))(ASSEMBLE.CLAUSE ( reset_editor_state 0 si ) 29    (allocate)    (put.Ai.variable.Yn 1 1)    (call 4 editor_temp_file 1 si)    (body.cut)    (load.pos.word 1)    (settopval EDITOR%.STATE)    (put.Ai.symbol 3 si)    (put.Ai.constant 2 1)    (put.Ai.symbol 1 %$emacs%-temp%-file)    (call 4 abolish 3 si)    (put.Ai.symbol 2 si)    (put.Ai.structure 1 %$emacs%-temp%-file 1)    (unify.local.Yn 1)    (depart asserta_module 2 si))(ASSEMBLE.CLAUSE ( reset_editor_state 0 si ) 5    (load.pos.word 0)    (settopval EDITOR%.STATE)    (proceed))(ASSEMBLE.CLAUSE ( under_emacs 0 si ) 6    (gettopval EDITOR%.STATE)    (store.integer 1)    (proceed))(ASSEMBLE.CLAUSE ( editor_temporary_file 1 si ) 14    (put.Ai.value.Xn 4 1)    (allocate)    (put.Ai.symbol 3 si)    (put.Ai.void 2)    (put.Ai.structure 1 %$emacs%-temp%-file 1)    (unify.local.Xn 4)    (call 3 clause_module 3 si)    (depart.cut))(ASSEMBLE.CLAUSE ( process_any_emacs_packet 1 si ) 36    (allocate)    (get.Ai.variable.Yn 1 2)    (load.choice.point)    (store.variable.Yn 3)    (either 6 26)    (call 6 under_emacs 0 si)    (load.value.Yn 3)    (cut.to.choice.point)    (put.Ai.void 2)    (put.Ai.value.Yn 1 2)    (call 5 tell_emacs 2 si)    (call 5 p_flush_stdin 0 si)    (jump.to 27)    (or.finally)    (put.Ai.variable.Yn 1 1)    (call 5 look_for_emacs_packet 1 si)    (put.Ai.value.Yn 2 2)    (put.Ai.unsafe.Yn 1 1)    (depart process_any_emacs_packet 2 si))(ASSEMBLE.CLAUSE ( process_any_emacs_packet 2 si ) 13    (get.Ai.constant 1 0)    (allocate)    (get.Ai.variable.Yn 2 1)    (call 4 process_escape_sequence 0 si)    (put.Ai.value.Yn 1 1)    (depart process_any_emacs_packet 1 si))(ASSEMBLE.CLAUSE ( process_any_emacs_packet 2 si ) 14    (get.Ai.constant 1 1)    (get.Ai.symbol 2 term_reading_mode)    (allocate)    (put.Ai.void 1)    (call 3 get0 1 si)    (put.Ai.symbol 1 term_reading_mode)    (depart process_any_emacs_packet 1 si))(ASSEMBLE.CLAUSE ( process_any_emacs_packet 2 si ) 6    (get.Ai.constant 1 1)    (get.Ai.symbol 2 at_debugger_prompt)    (proceed))(ASSEMBLE.CLAUSE ( process_any_emacs_packet 2 si ) 4    (get.Ai.constant 1 2)    (proceed))(ASSEMBLE.CLAUSE ( process_escape_sequence 0 si ) 77    (allocate)    (put.Ai.list 1)    (unify.variable.Yn 8)    (unify.variable.Yn 9)    (call 12 read_from_lisp 1 si)    (gettopval TRACE%.STATE)    (store.variable.Yn 4)    (load.pos.word 1)    (settopval TRACE%.STATE)    (put.Ai.variable.Yn 3 2)    (put.Ai.variable.Yn 2 7)    (put.Ai.value.Yn 1 9)    (call 11 filter_lisp_args 3 si)    (put.Ai.list 2)    (unify.value.Yn 8)    (unify.local.Yn 7)    (put.Ai.variable.Yn 1 6)    (call 9 %=%.%. 2 si)    (load.choice.point)    (store.variable.Yn 5)    (either 9 52)    (put.Ai.unsafe.Yn 1 6)    (call 8 dispatch_term 1 si)    (load.value.Yn 5)    (cut.to.choice.point)    (put.Ai.variable.Yn 1 3)    (get.Ai.constant 1 true)    (jump.to 58)    (or.finally)    (put.Ai.variable.Yn 1 3)    (get.Ai.constant 1 false)    (load.value.Yn 4)    (settopval TRACE%.STATE)    (put.Ai.variable.Yn 3 1)    (put.Ai.unsafe.Yn 2 3)    (put.Ai.unsafe.Yn 1 2)    (call 4 result_to_send_to_lisp 3 si)    (put.Ai.unsafe.Yn 2 1)    (put.Ai.symbol 1 LISP%.CALL%.PROLOG%.RESULT)    (call 3 SETTOPVAL 2 si)    (depart signal_prolog_finished 0 si))(ASSEMBLE.CLAUSE ( dispatch_term 1 si ) 8    (get.Ai.structure 1 %$editor_load_code 2)    (unify.variable.Xn 1)    (unify.variable.Xn 2)    (head.cut)    (execute %$editor_load_code 2 si))(ASSEMBLE.CLAUSE ( dispatch_term 1 si ) 9    (get.Ai.structure 1 find_predicate1 2)    (unify.variable.Xn 1)    (unify.variable.Xn 2)    (head.cut)    (put.Ai.void 3)    (execute find_predicate1 3 si))(ASSEMBLE.CLAUSE ( dispatch_term 1 si ) 6    (get.Ai.constant 1 capture_version)    (head.cut)    (execute capture_version 0 si))(ASSEMBLE.CLAUSE ( dispatch_term 1 si ) 7    (get.Ai.structure 1 find_library_package 1)    (unify.variable.Xn 1)    (head.cut)    (execute find_library_package 1 si))(ASSEMBLE.CLAUSE ( dispatch_term 1 si ) 7    (get.Ai.structure 1 manual 1)    (unify.variable.Xn 1)    (head.cut)    (execute manual 1 si))(ASSEMBLE.CLAUSE ( dispatch_term 1 si ) 4    (put.Ai.symbol 2 user)    (execute call 2 interp))(ASSEMBLE.CLAUSE ( maybe_tell_emacs 2 si ) 15    (allocate)    (get.Ai.variable.Yn 1 1)    (get.Ai.variable.Yn 2 2)    (call 5 under_emacs 0 si)    (body.cut)    (put.Ai.value.Yn 2 2)    (put.Ai.value.Yn 1 1)    (depart tell_emacs 2 si))(ASSEMBLE.CLAUSE ( maybe_tell_emacs 2 si ) 1    (proceed))(ASSEMBLE.CLAUSE ( tell_emacs 2 si ) 26    (get.Ai.constant 1 find_definition)    (get.Ai.structure 2 args 4)    (unify.variable.Xn 3)    (unify.variable.Xn 4)    (unify.variable.Xn 5)    (unify.variable.Xn 2)    (put.Ai.list 1)    (unify.value.Xn 2)    (unify.nil)    (put.Ai.list 2)    (unify.value.Xn 5)    (unify.value.Xn 1)    (put.Ai.list 1)    (unify.value.Xn 4)    (unify.value.Xn 2)    (put.Ai.list 2)    (unify.value.Xn 3)    (unify.value.Xn 1)    (put.Ai.symbol 1 find_definition)    (execute tell_emacs1 2 si))(ASSEMBLE.CLAUSE ( tell_emacs 2 si ) 2    (execute tell_emacs1 2 si))(ASSEMBLE.CLAUSE ( tell_emacs1 2 si ) 8    (start.calling TELL%.EMACS 2)    (send.direct.Ai 1)    (send.direct.Ai 2)    (call.lisp 1)    (unify.void 1)    (proceed))(ASSEMBLE.CLAUSE ( find_library_package 1 si ) 40    (allocate)    (get.Ai.variable.Yn 1 4)    (put.Ai.constant 2 1)    (put.Ai.variable.Yn 1 2)    (call 7 fileerrors 2 si)    (gettopval TRACE%.STATE)    (store.variable.Yn 3)    (load.pos.word 1)    (settopval TRACE%.STATE)    (put.Ai.variable.Yn 2 1)    (put.Ai.value.Yn 1 4)    (call 6 find_lib 2 si)    (load.value.Yn 3)    (settopval TRACE%.STATE)    (put.Ai.unsafe.Yn 2 2)    (put.Ai.void 1)    (call 4 fileerrors 2 si)    (put.Ai.unsafe.Yn 2 1)    (put.Ai.symbol 1 library)    (depart tell_emacs 2 si))(ASSEMBLE.CLAUSE ( find_lib 2 si ) 5    (allocate)    (call 3 find_library_file 2 si)    (depart.cut))(ASSEMBLE.CLAUSE ( find_lib 2 si ) 3    (get.Ai.symbol 2 cannot% find% library% file%,% check% facts% for% library_directory%/1)    (proceed))(ASSEMBLE.CLAUSE ( capture_version 0 si ) 38    (allocate)    (put.Ai.variable.Yn 1 3)    (call 6 editor_temporary_file 1 si)    (put.Ai.variable.Yn 1 2)    (call 6 current_output 1 si)    (put.Ai.unsafe.Yn 1 3)    (call 5 tell 1 si)    (call 5 version 0 si)    (call 5 told 0 si)    (put.Ai.unsafe.Yn 1 2)    (call 4 set_output 1 si)    (put.Ai.variable.Yn 1 1)    (call 4 quintus_path 1 si)    (put.Ai.unsafe.Yn 2 1)    (put.Ai.symbol 1 get_version)    (depart tell_emacs 2 si))(ASSEMBLE.CLAUSE ( check_mode_line 0 si ) 22    (allocate)    (load.choice.point)    (store.variable.Xn 1)    (either 3 17)    (gettopval INTERNAL%.MODE%.CHANGE)    (store.integer 0)    (load.value.Xn 1)    (cut.to.choice.point)    (check.heap)    (progress)    (or.finally)    (load.pos.word 0)    (settopval INTERNAL%.MODE%.CHANGE)    (depart mode_line_changed 0 si))(ASSEMBLE.CLAUSE ( mode_line_changed 0 si ) 7    (allocate)    (call 3 under_emacs 0 si)    (body.cut)    (depart send_emacs_new_mode_line 0 si))(ASSEMBLE.CLAUSE ( mode_line_changed 0 si ) 1    (proceed))(ASSEMBLE.CLAUSE ( send_emacs_new_mode_line 0 si ) 43    (allocate)    (put.Ai.variable.Yn 1 5)    (call 8 type_in_module 1 si)    (put.Ai.variable.Yn 2 3)    (put.Ai.unsafe.Yn 1 5)    (call 7 mode_line_module 2 si)    (put.Ai.variable.Yn 1 4)    (call 7 debug_state 1 si)    (put.Ai.variable.Yn 2 2)    (put.Ai.unsafe.Yn 1 4)    (call 6 mode_line_trace_state 2 si)    (gettopval BREAK%.LEVEL)    (store.variable.Xn 1)    (put.Ai.variable.Yn 2 1)    (call 6 mode_line_breaklevel 2 si)    (put.Ai.structure 2 message 3)    (unify.local.Yn 3)    (unify.local.Yn 2)    (unify.local.Yn 1)    (put.Ai.symbol 1 mode_line)    (depart tell_emacs 2 si))(ASSEMBLE.CLAUSE ( mode_line_module 2 si ) 10    (get.Ai.constant 1 user)    (get.Ai.structure 2 tab 1)    (unify.constant 25)    (cut.proceed))(ASSEMBLE.CLAUSE ( mode_line_module 2 si ) 33    (get.Ai.list 2)    (unify.variable.Xn 3)    (unify.variable.Xn 2)    (get.Ai.structure 3 tab 1)    (unify.constant 5)    (get.Ai.list 2)    (unify.symbol Module%:% )    (unify.list)    (unify.local.Xn 1)    (unify.list)    (unify.variable.Xn 2)    (unify.nil)    (get.Ai.structure 2 tab 1)    (allocate)    (unify.variable.Yn 2)    (put.Ai.variable.Yn 2 1)    (call 5 symbol_length 2 si)    (put.Ai.value.Yn 2 2)    (put.Ai.unsafe.Yn 1 1)    (depart calc_tab 2 si))(ASSEMBLE.CLAUSE ( calc_tab 2 si ) 8    (get.Ai.constant 2 1)    (load.value.Xn 1)    (load.pos.word 20)    (not.less.than)    (cut.proceed))(ASSEMBLE.CLAUSE ( calc_tab 2 si ) 7    (load.pos.word 21)    (load.value.Xn 1)    (subtract)    (store.value.Xn 2)    (check.heap)    (proceed))(ASSEMBLE.CLAUSE ( mode_line_trace_state 2 si ) 10    (get.Ai.constant 1 nodebug)    (get.Ai.structure 2 tab 1)    (unify.constant 6)    (cut.proceed))(ASSEMBLE.CLAUSE ( mode_line_trace_state 2 si ) 12    (get.Ai.list 2)    (unify.local.Xn 1)    (unify.list)    (unify.variable.Xn 1)    (unify.nil)    (get.Ai.structure 1 tab 1)    (unify.constant 1)    (proceed))(ASSEMBLE.CLAUSE ( mode_line_breaklevel 2 si ) 10    (get.Ai.constant 1 0)    (get.Ai.structure 2 tab 1)    (unify.constant 15)    (cut.proceed))(ASSEMBLE.CLAUSE ( mode_line_breaklevel 2 si ) 16    (get.Ai.list 2)    (unify.variable.Xn 3)    (unify.variable.Xn 2)    (get.Ai.structure 3 tab 1)    (unify.constant 8)    (get.Ai.list 2)    (unify.symbol Level%:% )    (unify.list)    (unify.local.Xn 1)    (unify.nil)    (proceed))STOP