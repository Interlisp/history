(DEFINE-FILE-INFO PACKAGE "INTERLISP" READTABLE "INTERLISP" BASE 10)(FILECREATED " 5-Jan-88 18:06:25" {ERIS}<DOC>XPSEDIT>XPSEDIT.;4 58625        changes to%:  (VARS XPSEDITCOMS)                    (FNS XPS.REVISION-BAR-ON XPS.REVISION-BAR-OFF)      previous date%: "17-Dec-87 16:01:59" {ERIS}<DOC>XPSEDIT>XPSEDIT.;2)(* "Copyright (c) 1985, 1986, 1987, 1988 by Xerox Corporation.  All rights reserved.")(PRETTYCOMPRINT XPSEDITCOMS)(RPAQQ XPSEDITCOMS [(COMS                     (* ;; "Utility functions")                              (FNS XPS.HEADING-KEEP.ON XPS.HEADING-KEEP.OFF XPS.COVER.PARA                                    XPS.HARDCOPY-MODE.ON XPS.HARDCOPY-MODE.OFF XPS.MAKE.PAGE.BREAK                                    XPS.REVISION-BAR-ON XPS.REVISION-BAR-OFF))                        (COMS                     (* ;; "Entry points from the keyboard commands, for generic operations.")                              (FNS XPS.LEVEL1HEAD XPS.LEVEL2HEAD XPS.LEVEL3HEAD XPS.LEVEL4HEAD                                    XPS.RUNNINGHEADS XPS.PAGELAYOUT XPS.DEFAULTPARA XPS.FIRSTPARA                                    XPS.FUNCTIONTITLE XPS.ADD.LEADING XPS.BLANKPAGE))                        (COMS                     (* ;; "Formatting specific to the 8-1/2x11 XPS format including Library documentation.")                              (FNS XPS.LARGE-FORMAT.LEVEL1HEAD XPS.LARGE-FORMAT.LEVEL2HEAD                                    XPS.LARGE-FORMAT.LEVEL3HEAD XPS.LARGE-FORMAT.LEVEL4HEAD                                    XPS.LARGE-FORMAT.RUNNINGHEADS XPS.LARGE-FORMAT.PAGELAYOUT                                    XPS.LARGE-FORMAT.DEFAULTPARA XPS.LARGE-FORMAT.FIRSTPARA                                    XPS.LARGE-FORMAT.FUNCTIONTITLE XPS.LARGE-FORMAT.ADDLEADING                                    XPS.LARGE-FORMAT.BLANKPAGE))                        (COMS                     (* ;; "Formatting specific to the 5-1/2x8-1/2 XPS format")                              (FNS XPS.SMALL-FORMAT.LEVEL1HEAD XPS.SMALL-FORMAT.LEVEL2HEAD                                    XPS.SMALL-FORMAT.LEVEL3HEAD XPS.SMALL-FORMAT.LEVEL4HEAD                                    XPS.SMALL-FORMAT.RUNNINGHEADS XPS.SMALL-FORMAT.PAGELAYOUT                                    XPS.SMALL-FORMAT.DEFAULTPARA XPS.SMALL-FORMAT.FIRSTPARA                                    XPS.SMALL-FORMAT.FUNCTIONTITLE XPS.SMALL-FORMAT.ADDLEADING                                    XPS.SMALL-FORMAT.BLANKPAGE))                        (COMS                     (* ;; "Formatting specific to the LISPUSERS documentation format")                              (FNS XPS.LISPUSERS-FORMAT.LEVEL1HEAD XPS.LISPUSERS-FORMAT.LEVEL2HEAD                                    XPS.LISPUSERS-FORMAT.LEVEL3HEAD XPS.LISPUSERS-FORMAT.LEVEL4HEAD                                    XPS.LISPUSERS-FORMAT.RUNNINGHEADS XPS.LISPUSERS-FORMAT.PAGELAYOUT                                    XPS.LISPUSERS-FORMAT.DEFAULTPARA XPS.LISPUSERS-FORMAT.FIRSTPARA                                    XPS.LISPUSERS-FORMAT.FUNCTIONTITLE))                        (GLOBALVARS XPS.CURRENT.FORMAT)                        (INITVARS (XPS.CURRENT.FORMAT %'LARGE))                        [P (COND ((IEQP \KEYBOARD.META 256)                                  (TEDIT.SETFUNCTION (CHARCODE %##1)                                         'XPS.LEVEL1HEAD)                                  (TEDIT.SETFUNCTION (CHARCODE %##2)                                         'XPS.LEVEL2HEAD)                                  (TEDIT.SETFUNCTION (CHARCODE %##3)                                         'XPS.LEVEL3HEAD)                                  (TEDIT.SETFUNCTION (CHARCODE %##4)                                         'XPS.LEVEL4HEAD)                                  (TEDIT.SETFUNCTION (CHARCODE %##0)                                         'XPS.PAGELAYOUT)                                  (TEDIT.SETFUNCTION (CHARCODE %##-)                                         'XPS.RUNNINGHEADS)                                  (TEDIT.SETFUNCTION (CHARCODE |## |)                                         'XPS.DEFAULTPARA)                                  (TEDIT.SETFUNCTION (CHARCODE %##=)                                         'XPS.FIRSTPARA)                                  (TEDIT.SETFUNCTION (CHARCODE %##5)                                         'XPS.ADD.LEADING)                                  (TEDIT.SETFUNCTION (CHARCODE %##6)                                         'XPS.HEADING-KEEP.ON)                                  (TEDIT.SETFUNCTION (CHARCODE %##^)                                         'XPS.HEADING-KEEP.OFF)                                  (TEDIT.SETFUNCTION (CHARCODE %##7)                                         'XPS.FUNCTIONTITLE)                                  (TEDIT.SETFUNCTION (CHARCODE %##8)                                         'XPS.BLANKPAGE)                                  (TEDIT.SETFUNCTION (CHARCODE %##9)                                         'XPS.HARDCOPY-MODE.ON)                                  (TEDIT.SETFUNCTION (CHARCODE |##(|)                                         'XPS.HARDCOPY-MODE.OFF)                                  (TEDIT.SETFUNCTION (CHARCODE %##+)                                         'XPS.MAKE.PAGE.BREAK)                                  (TEDIT.SETFUNCTION (CHARCODE %##r)                                         'XPS.REVISION-BAR-ON)                                  (TEDIT.SETFUNCTION (CHARCODE %##R)                                         'XPS.REVISION-BAR-OFF]                        (DECLARE%: DONTEVAL@LOAD DOEVAL@COMPILE DONTCOPY COMPILERVARS (ADDVARS (NLAMA                                                                                                )                                                                                             (NLAML)                                                                                             (LAMA])(* ;; "Utility functions")(DEFINEQ(XPS.HEADING-KEEP.ON  [LAMBDA (TEXTSTREAM TEXTOBJ SEL)                           (* jds "31-Oct-85 10:50")                    (* Turn heading-keep ON for a paragraph (or paragraphs)%.          This will keep that paragraph with the text that follows it.)    (PROG* ((TEXTOBJ (TEXTOBJ TEXTSTREAM))            (CH# (fetch CH# of SEL))            (CHLIM (fetch CHLIM of SEL)))           (TEDIT.PARALOOKS TEXTOBJ '(HEADINGKEEP ON) CH# (fetch DCH of SEL])(XPS.HEADING-KEEP.OFF  [LAMBDA (TEXTSTREAM TEXTOBJ SEL)                           (* jds "31-Oct-85 10:50")                    (* Turn heading-keeping OFF for a paragraph.          This lets it be separate from any following text.)    (PROG* ((TEXTOBJ (TEXTOBJ TEXTSTREAM))            (CH# (fetch CH# of SEL))            (CHLIM (fetch CHLIM of SEL)))           (TEDIT.PARALOOKS TEXTOBJ '(HEADINGKEEP OFF) CH# (fetch DCH of SEL])(XPS.COVER.PARA  [LAMBDA (TEXTOBJ SEL)                                      (* jds "20-Nov-85 15:20")                    (* Assure that SEL covers a span of WHOLE paragraphs.          Expand it to do so, if need be.)    (PROG [[CH1 (CAR (\TEDIT.PARABOUNDS TEXTOBJ (fetch CH# of SEL]           (CHLIM (CDR (\TEDIT.PARABOUNDS TEXTOBJ (SUB1 (fetch CHLIM of SEL]          (TEDIT.SETSEL TEXTOBJ CH1 (ADD1 (IDIFFERENCE CHLIM CH1])(XPS.HARDCOPY-MODE.ON  [LAMBDA (TEXTSTREAM TEXTOBJ SEL)                           (* ; "Edited  7-Dec-87 18:14 by bmw")                    (* Set the selected paragraph to be in hardcopy mode while leaving all other           paragraph looks untouched.)    (XPS.COVER.PARA TEXTOBJ SEL)                             (* Make sure the whole paragraph is                                                              selected.)    (PROG* ((TEXTOBJ (TEXTOBJ TEXTSTREAM))            (CH# (fetch CH# of SEL))            (CHLIM (fetch CHLIM of SEL)))           (TEDIT.PARALOOKS TEXTOBJ '(HARDCOPY T) CH# (fetch DCH of SEL])(XPS.HARDCOPY-MODE.OFF  [LAMBDA (TEXTSTREAM TEXTOBJ SEL)                           (* ; "Edited  7-Dec-87 18:27 by bmw")                    (* Set the selected paragraph so hardcopy mode is turned off while leaving all           other paragraph looks untouched.)    (XPS.COVER.PARA TEXTOBJ SEL)                             (* Make sure the whole paragraph is                                                              selected.)    (PROG* ((TEXTOBJ (TEXTOBJ TEXTSTREAM))            (CH# (fetch CH# of SEL))            (CHLIM (fetch CHLIM of SEL)))           (TEDIT.PARALOOKS TEXTOBJ '(HARDCOPY NIL) CH# (fetch DCH of SEL])(XPS.MAKE.PAGE.BREAK  [LAMBDA (TEXTSTREAM TEXTOBJ SEL)                           (* ; "Edited 16-Dec-87 13:02 by bmw")    (XPS.COVER.PARA TEXTOBJ SEL)                             (* Make sure the whole paragraph is                                                              selected.)                                                             (* ; "Edited 14-Dec-87 12:16 by bmw")    (PROG* ((TEXTOBJ (TEXTOBJ TEXTSTREAM))            (CH# (fetch CH# of SEL))            (CHLIM (fetch CHLIM of SEL)))           (TEDIT.PARALOOKS TEXTOBJ '(NEWPAGEBEFORE T) CH# (fetch DCH of SEL])(XPS.REVISION-BAR-ON  [LAMBDA (TEXTSTREAM TEXTOBJ SEL)                       (* ; "Edited  5-Jan-88 17:59 by jds")                    (* ;; "Put a revision bar on the selected paragraph(s).")    (XPS.COVER.PARA TEXTOBJ SEL)    (TEDIT.PARALOOKS TEXTOBJ '(REVISED T])(XPS.REVISION-BAR-OFF  [LAMBDA (TEXTSTREAM TEXTOBJ SEL)                       (* ; "Edited  5-Jan-88 18:00 by jds")                    (* ;; "Turn off the revision bar on the selected paragraph(s).")    (XPS.COVER.PARA TEXTOBJ SEL)    (TEDIT.PARALOOKS TEXTOBJ '(REVISED NIL]))(* ;; "Entry points from the keyboard commands, for generic operations.")(DEFINEQ(XPS.LEVEL1HEAD  [LAMBDA (TEXTSTREAM TEXTOBJ SEL)                           (* jds "20-Aug-86 11:45")                    (* * Impose the styling for a level-1 heading in the current format.)    (SELECTQ XPS.CURRENT.FORMAT        (LARGE (XPS.LARGE-FORMAT.LEVEL1HEAD TEXTSTREAM TEXTOBJ SEL))        (SMALL (XPS.SMALL-FORMAT.LEVEL1HEAD TEXTSTREAM TEXTOBJ SEL))        (LIBRARY (XPS.LIBRARY-FORMAT.LEVEL1HEAD TEXTSTREAM TEXTOBJ SEL))        (LISPUSERS (XPS.LISPUSERS-FORMAT.LEVEL1HEAD TEXTSTREAM TEXTOBJ SEL))        (ERROR "Please set a valid format using the STYLING menu."])(XPS.LEVEL2HEAD  [LAMBDA (TEXTSTREAM TEXTOBJ SEL)                           (* ; "Edited 28-Jul-87 16:51 by bmw")                    (* * Impose the styling for a level-2 heading in the current format.)    (SELECTQ XPS.CURRENT.FORMAT        (LARGE (XPS.LARGE-FORMAT.LEVEL2HEAD TEXTSTREAM TEXTOBJ SEL))        (SMALL (XPS.SMALL-FORMAT.LEVEL2HEAD TEXTSTREAM TEXTOBJ SEL))        (LISPUSERS (XPS.LISPUSERS-FORMAT.LEVEL2HEAD TEXTSTREAM TEXTOBJ SEL))        (ERROR "Please set a valid format using the STYLING menu."])(XPS.LEVEL3HEAD  [LAMBDA (TEXTSTREAM TEXTOBJ SEL)                           (* ; "Edited 28-Jul-87 16:54 by bmw")                    (* * Impose the styling for a level-3 heading in the current format.)    (SELECTQ XPS.CURRENT.FORMAT        (LARGE (XPS.LARGE-FORMAT.LEVEL3HEAD TEXTSTREAM TEXTOBJ SEL))        (SMALL (XPS.SMALL-FORMAT.LEVEL3HEAD TEXTSTREAM TEXTOBJ SEL))        (LISPUSERS (XPS.LISPUSERS-FORMAT.LEVEL3HEAD TEXTSTREAM TEXTOBJ SEL))        (ERROR "Please set a valid format using the STYLING menu."])(XPS.LEVEL4HEAD  [LAMBDA (TEXTSTREAM TEXTOBJ SEL)                           (* ; "Edited 28-Jul-87 16:55 by bmw")                    (* * Impose the styling for a level-4 heading in the current format.)    (SELECTQ XPS.CURRENT.FORMAT        (LARGE (XPS.LARGE-FORMAT.LEVEL4HEAD TEXTSTREAM TEXTOBJ SEL))        (SMALL (XPS.SMALL-FORMAT.LEVEL4HEAD TEXTSTREAM TEXTOBJ SEL))        (LISPUSERS (XPS.LISPUSERS-FORMAT.LEVEL4HEAD TEXTSTREAM TEXTOBJ SEL))        (ERROR "Please set a valid format using the STYLING menu."])(XPS.RUNNINGHEADS  [LAMBDA (TEXTSTREAM TEXTOBJ SEL)                           (* ; "Edited 28-Jul-87 16:56 by bmw")                    (* * Include the template for running heads and footers in the appropriate           format.)    (SELECTQ XPS.CURRENT.FORMAT        (LARGE (XPS.LARGE-FORMAT.RUNNINGHEADS TEXTSTREAM TEXTOBJ SEL))        (SMALL (XPS.SMALL-FORMAT.RUNNINGHEADS TEXTSTREAM TEXTOBJ SEL))        (LISPUSERS (XPS.LISPUSERS-FORMAT.RUNNINGHEADS TEXTSTREAM TEXTOBJ SEL))        (ERROR "Please set a valid format using the STYLING menu."])(XPS.PAGELAYOUT  [LAMBDA (TEXTSTREAM TEXTOBJ SEL)                           (* ; "Edited 28-Jul-87 16:57 by bmw")                    (* * Set the page layout menu to values appropriate to the current format.)    (SELECTQ XPS.CURRENT.FORMAT        (LARGE (XPS.LARGE-FORMAT.PAGELAYOUT TEXTSTREAM TEXTOBJ SEL))        (SMALL (XPS.SMALL-FORMAT.PAGELAYOUT TEXTSTREAM TEXTOBJ SEL))        (LISPUSERS (XPS.LISPUSERS-FORMAT.PAGELAYOUT TEXTSTREAM TEXTOBJ SEL))        (ERROR "Please set a valid format using the STYLING menu."])(XPS.DEFAULTPARA  [LAMBDA (TEXTSTREAM TEXTOBJ SEL)                           (* ; "Edited 28-Jul-87 17:02 by bmw")                    (* * Format paragraphs, other than paragraphs immediately following headings,           of text appropriate to the current format.)    (SELECTQ XPS.CURRENT.FORMAT        (LARGE (XPS.LARGE-FORMAT.DEFAULTPARA TEXTSTREAM TEXTOBJ SEL))        (SMALL (XPS.SMALL-FORMAT.DEFAULTPARA TEXTSTREAM TEXTOBJ SEL))        (LISPUSERS (XPS.LISPUSERS-FORMAT.DEFAULTPARA TEXTSTREAM TEXTOBJ SEL))        (ERROR "Please set a valid format using the STYLING menu."])(XPS.FIRSTPARA  [LAMBDA (TEXTSTREAM TEXTOBJ SEL)                           (* ; "Edited 28-Jul-87 17:04 by bmw")                    (* * Format paragraphs immediately following headings appropriate to the           current format.)    (SELECTQ XPS.CURRENT.FORMAT        (LARGE (XPS.LARGE-FORMAT.FIRSTPARA TEXTSTREAM TEXTOBJ SEL))        (SMALL (XPS.SMALL-FORMAT.FIRSTPARA TEXTSTREAM TEXTOBJ SEL))        (LISPUSERS (XPS.LISPUSERS-FORMAT.FIRSTPARA TEXTSTREAM TEXTOBJ SEL))        (ERROR "Please set a valid format using the STYLING menu."])(XPS.FUNCTIONTITLE  [LAMBDA (TEXTSTREAM TEXTOBJ SEL)                           (* ; "Edited 28-Jul-87 17:06 by bmw")                    (* * Format function names and args appropriate to the current format.)    (SELECTQ XPS.CURRENT.FORMAT        (LARGE (XPS.LARGE-FORMAT.FUNCTIONTITLE TEXTSTREAM TEXTOBJ SEL))        (SMALL (XPS.SMALL-FORMAT.FUNCTIONTITLE TEXTSTREAM TEXTOBJ SEL))        (LISPUSERS (XPS.LISPUSERS-FORMAT.FUNCTIONTITLE TEXTSTREAM TEXTOBJ SEL))        (ERROR "Please set a valid format using the STYLING menu."])(XPS.ADD.LEADING  [LAMBDA (TEXTSTREAM TEXTOBJ SEL)                           (* ; "Edited 28-Jul-87 17:07 by bmw")                    (* ;; "Adds line leading to paragraphs")    (SELECTQ XPS.CURRENT.FORMAT        (LARGE (XPS.LARGE-FORMAT.ADDLEADING TEXTSTREAM TEXTOBJ SEL))        (SMALL (XPS.SMALL-FORMAT.ADDLEADING TEXTSTREAM TEXTOBJ SEL))        (LISPUSERS (XPS.LISPUSERS-FORMAT.FUNCTIONTITLE TEXTSTREAM TEXTOBJ SEL))        (ERROR "Please set a valid format using the STYLING menu."])(XPS.BLANKPAGE  [LAMBDA (TEXTSTREAM TEXTOBJ SEL)                           (* ; "Edited  7-Dec-87 18:07 by bmw")                    (* * Format "[This page intentionally left blank]" to be centered on a blank           page)    (SELECTQ XPS.CURRENT.FORMAT        (LARGE (XPS.LARGE-FORMAT.BLANKPAGE TEXTSTREAM TEXTOBJ SEL))        (SMALL (XPS.SMALL-FORMAT.BLANKPAGE TEXTSTREAM TEXTOBJ SEL))        (LISPUSERS (XPS.LISPUSERS-FORMAT.BLANKPAGE TEXTSTREAM TEXTOBJ SEL))        (ERROR "Please set a valid format using the STYLING menu."]))(* ;; "Formatting specific to the 8-1/2x11 XPS format including Library documentation.")(DEFINEQ(XPS.LARGE-FORMAT.LEVEL1HEAD  [LAMBDA (TEXTSTREAM TEXTOBJ SEL)                           (* ; "Edited 11-Dec-87 11:09 by bmw")                    (* * Impose the styling for a Level-1, i.e., a chapter title, heading in the           lisp-library documentation%: 18-point Modern bold, all-upper-case, set flush           right over a 6pt rule.)    (XPS.COVER.PARA TEXTOBJ SEL)                             (* Make sure the whole paragraph is                                                              selected.)    (PROG* ((TEXTOBJ (TEXTOBJ TEXTSTREAM))            (CH# (fetch CH# of SEL))            (CHLIM (fetch CHLIM of SEL)))           (\TEDIT.UCASE.SEL TEXTSTREAM TEXTOBJ SEL)         (* Make the heading be Helvetica 14                                                              bold)           (TEDIT.LOOKS TEXTSTREAM '(FAMILY MODERN SIZE 18 WEIGHT BOLD SLOPE REGULAR) SEL)           (TEDIT.PARALOOKS TEXTOBJ                  '(QUAD LEFT PARALEADING 0 LINELEADING 0 1STLEFTMARGIN 204 LEFTMARGIN 204                          RIGHTMARGIN 504 HEADINGKEEP ON BASETOBASE NIL PAGEHEADING NIL TABS                         (NIL (504 . RIGHT))) CH# 1)           (TEDIT.INSERT.OBJECT (HRULE.CREATE 6)                  TEXTSTREAM                  (SUB1 CHLIM))           (TEDIT.INSERT TEXTSTREAM (CHARCODE CR)                  (SUB1 CHLIM))           (TEDIT.PARALOOKS TEXTOBJ                  '(QUAD LEFT 1STLEFTMARGIN 204 LEFTMARGIN 204 RIGHTMARGIN 504 HEADINGKEEP ON                          PARALEADING 0 BASETOBASE NIL LINELEADING 0) CHLIM 1])(XPS.LARGE-FORMAT.LEVEL2HEAD  [LAMBDA (TEXTSTREAM TEXTOBJ SEL)                           (* jds "20-Nov-85 15:22")                    (* Impose the style for a level-2 head in the lisp-library doc%: 14pt bold           Modern Upper/lower head, flush left under a 2pt rule, over a 1/2pt rule.          57pt base-to-base leading on the 2pt rule, snug the rest together.)    (XPS.COVER.PARA TEXTOBJ SEL)                             (* Make sure the whole paragraph is                                                              selected.)    (PROG* ((TEXTOBJ (TEXTOBJ TEXTSTREAM))            (CH# (fetch CH# of SEL))            (CHLIM (fetch CHLIM of SEL)))           (TEDIT.LOOKS TEXTSTREAM '(FAMILY MODERN SIZE 14 WEIGHT BOLD SLOPE REGULAR) SEL)                                                             (* Make the heading be Modern 14 bold)           (TEDIT.PARALOOKS TEXTOBJ                  '(QUAD LEFT PARALEADING 2 1STLEFTMARGIN 0 LEFTMARGIN 0 RIGHTMARGIN 504 HEADINGKEEP                          ON BASETOBASE NIL LINELEADING 0) CH# 1)           (TEDIT.INSERT.OBJECT (HRULE.CREATE 1)                  TEXTSTREAM                  (SUB1 CHLIM))           (TEDIT.INSERT TEXTSTREAM (CHARCODE CR)                  (SUB1 CHLIM))           (TEDIT.PARALOOKS TEXTOBJ                  '(QUAD LEFT 1STLEFTMARGIN 0 LEFTMARGIN 0 RIGHTMARGIN 504 HEADINGKEEP ON PARALEADING                          0 LINELEADING 0) CHLIM 1)           (TEDIT.INSERT.OBJECT (HRULE.CREATE 2)                  TEXTSTREAM CH#)           (TEDIT.INSERT TEXTSTREAM (CHARCODE CR)                  (ADD1 CH#))           (TEDIT.PARALOOKS TEXTOBJ                  '(QUAD LEFT 1STLEFTMARGIN 0 LEFTMARGIN 0 RIGHTMARGIN 504 PARALEADING 50 HEADINGKEEP                          ON LINELEADING 0) CH# 1])(XPS.LARGE-FORMAT.LEVEL3HEAD  [LAMBDA (TEXTSTREAM TEXTOBJ SEL)                           (* ; "Edited 28-Jul-87 17:10 by bmw")                    (* Impose the style for a level-3 head in the lisp-library doc%: 12pt bold           Modern Upper/lower head, flush left over a 1pt rule.          14pt base-to-base leading on the text snug the rest together.)    (XPS.COVER.PARA TEXTOBJ SEL)                             (* Make sure the whole paragraph is                                                              selected.)    (PROG* ((TEXTOBJ (TEXTOBJ TEXTSTREAM))            (CH# (fetch CH# of SEL))            (CHLIM (fetch CHLIM of SEL)))           (TEDIT.LOOKS TEXTSTREAM '(FAMILY MODERN SIZE 12 WEIGHT BOLD SLOPE REGULAR) SEL)                                                             (* Make the heading be MODERN 12 bold)           (TEDIT.PARALOOKS TEXTOBJ                  '(QUAD LEFT PARALEADING 14 LINELEADING 0 1STLEFTMARGIN 0 LEFTMARGIN 0 RIGHTMARGIN                          504 HEADINGKEEP ON BASETOBASE NIL) CH# 1)           (TEDIT.INSERT.OBJECT (HRULE.CREATE 1)                  TEXTSTREAM                  (SUB1 CHLIM))           (TEDIT.INSERT TEXTSTREAM (CHARCODE CR)                  (SUB1 CHLIM))           (TEDIT.PARALOOKS TEXTOBJ                  '(QUAD LEFT 1STLEFTMARGIN 0 LEFTMARGIN 0 RIGHTMARGIN 504 HEADINGKEEP ON PARALEADING                          0 BASETOBASE NIL LINELEADING 0) CHLIM 1])(XPS.LARGE-FORMAT.LEVEL4HEAD  [LAMBDA (TEXTSTREAM TEXTOBJ SEL)                           (* ; "Edited 28-Jul-87 17:11 by bmw")                    (* Impose the style for a level-4 head in the lisp-library doc%: 10pt bold           Modern Upper/lower head, flush left over a 1pt rule.          14pt base-to-base leading on the text snug the rest together.)    (XPS.COVER.PARA TEXTOBJ SEL)                             (* Make sure the whole paragraph is                                                              selected.)    (PROG* ((TEXTOBJ (TEXTOBJ TEXTSTREAM))            (CH# (fetch CH# of SEL))            (CHLIM (fetch CHLIM of SEL)))           (TEDIT.LOOKS TEXTSTREAM '(FAMILY MODERN SIZE 10 WEIGHT BOLD SLOPE REGULAR) SEL)                                                             (* Make the heading be MODERN 10 bold)           (TEDIT.PARALOOKS TEXTOBJ                  '(QUAD LEFT PARALEADING 10 LINELEADING 0 1STLEFTMARGIN 0 LEFTMARGIN 0 RIGHTMARGIN                          504 HEADINGKEEP ON BASETOBASE NIL) CH# 1)           (TEDIT.INSERT.OBJECT (HRULE.CREATE 1)                  TEXTSTREAM                  (SUB1 CHLIM))           (TEDIT.INSERT TEXTSTREAM (CHARCODE CR)                  (SUB1 CHLIM))           (TEDIT.PARALOOKS TEXTOBJ                  '(QUAD LEFT 1STLEFTMARGIN 0 LEFTMARGIN 0 RIGHTMARGIN 504 HEADINGKEEP ON PARALEADING                          0 BASETOBASE NIL LINELEADING 0) CHLIM 1])(XPS.LARGE-FORMAT.RUNNINGHEADS  [LAMBDA (TEXTSTREAM TEXTOBJ SEL)                           (* jds " 2-Oct-85 15:13")    (TEDIT.SETSEL TEXTSTREAM 1 0 'LEFT NIL NIL 'NORMAL)      (* Set the selection to the front of                                                              the document)    (TEDIT.INCLUDE TEXTSTREAM '           {ERIS}<Doc>PUBS>UTILITIES>GENERAL>XPS-LARGE-FORMAT-RUNNING-HEAD-TEMPLATE.TEDIT])(XPS.LARGE-FORMAT.PAGELAYOUT  [LAMBDA (TEXTSTREAM TEXTOBJ SEL)                           (* jds " 2-Oct-85 15:01")                                                             (* Set up page formatting for an XPS                                                              formatted document.)    (PROG ((PAGENUM.FONT (FONTCREATE 'MODERN 10 'MRR 0 'DISPLAY))           PAGENUM)          (SETQ PAGENUM (OR (NUMBERP (MKATOM (TEDIT.GETINPUT TEXTSTREAM                                                     "Starting pg # (default is 1): " "1")))                            1))          (TEDIT.PAGEFORMAT TEXTSTREAM (LIST [TEDIT.SINGLE.PAGEFORMAT T 46.5 1.25 PAGENUM.FONT                                                    'RIGHT 4.5 4.5 1.25 4.5 1 42.0 NIL                                                    '((FOOTINGR 4.5 2.25))                                                    'PICAS                                                    (LIST 'STARTINGPAGE# (COND                                                                            ((NUMBERP PAGENUM)                                                                             PAGENUM)                                                                            (T 1]                                             (TEDIT.SINGLE.PAGEFORMAT T 4.5 1.25 PAGENUM.FONT                                                    'LEFT 4.5 4.5 4.5 4.5 1 42.0 NIL                                                    '((FOOTINGV 4.5 2.25)                                                      (VERSOHEAD 4.5 63.5))                                                    'PICAS)                                             (TEDIT.SINGLE.PAGEFORMAT T 46.5 1.25 PAGENUM.FONT                                                    'RIGHT 4.5 4.5 4.5 4.5 1 42.0 NIL                                                    '((FOOTINGR 4.5 2.25)                                                      (RECTOHEAD 4.5 63.5))                                                    'PICAS])(XPS.LARGE-FORMAT.DEFAULTPARA  [LAMBDA (TEXTSTREAM TEXTOBJ SEL)                           (* ; "Edited 28-Jul-87 17:18 by bmw")                    (* Impose the style for the default paragraph of the large format XPS doc.          7pts paragraph leading, 2 pts line leading, justified text in a column 25 picas           wide.)    (XPS.COVER.PARA TEXTOBJ SEL)                             (* Make sure the whole paragraph is                                                              selected.)    (PROG* ((TEXTOBJ (TEXTOBJ TEXTSTREAM))            (CH# (fetch CH# of SEL))            (CHLIM (fetch CHLIM of SEL)))           (TEDIT.PARALOOKS TEXTOBJ                  '(QUAD JUSTIFIED PARALEADING 7 LINELEADING 2 1STLEFTMARGIN 204 LEFTMARGIN 204                          RIGHTMARGIN 504 HEADINGKEEP OFF BASETOBASE NIL PAGEHEADING NIL) CH#                  (fetch DCH of SEL))           (TEDIT.LOOKS TEXTOBJ '(FAMILY MODERN SIZE 10])(XPS.LARGE-FORMAT.FIRSTPARA  [LAMBDA (TEXTSTREAM TEXTOBJ SEL)                           (* ; "Edited 28-Jul-87 17:19 by bmw")                    (* Impose the style for the first paragraph of the large format XPS doc.          11pts paragraph leading, 2 pts line leading, justified text in a column 25           picas wide.)    (XPS.COVER.PARA TEXTOBJ SEL)                             (* Make sure the whole paragraph is                                                              selected.)    (PROG* ((TEXTOBJ (TEXTOBJ TEXTSTREAM))            (CH# (fetch CH# of SEL))            (CHLIM (fetch CHLIM of SEL)))           (TEDIT.LOOKS TEXTOBJ '(FAMILY MODERN SIZE 10))           (TEDIT.PARALOOKS TEXTOBJ                  '(QUAD JUSTIFIED PARALEADING 11 LINELEADING 2 1STLEFTMARGIN 204 LEFTMARGIN 204                          RIGHTMARGIN 504 HEADINGKEEP OFF BASETOBASE NIL PAGEHEADING NIL) CH#                  (fetch DCH of SEL])(XPS.LARGE-FORMAT.FUNCTIONTITLE  [LAMBDA (TEXTSTREAM TEXTOBJ SEL)                           (* jds "20-Nov-85 16:55")                    (* Impose the style for a level-2 head in the lisp-library doc%: 14pt bold           Modern Upper/lower head, flush left under a 2pt rule, over a 1/2pt rule.          57pt base-to-base leading on the 2pt rule, snug the rest together.)    (XPS.COVER.PARA TEXTOBJ SEL)                             (* Make sure the whole paragraph is                                                              selected.)    (PROG* ((TEXTOBJ (TEXTOBJ TEXTSTREAM))            (CH# (fetch CH# of SEL))            (CHLIM (fetch CHLIM of SEL)))           (TEDIT.PARALOOKS TEXTOBJ                  '(QUAD LEFT PARALEADING 7 LINELEADING 0 1STLEFTMARGIN 72 LEFTMARGIN 72 RIGHTMARGIN                          504 HEADINGKEEP ON BASETOBASE NIL PAGEHEADING NIL TABS (NIL (504 . RIGHT)))                   CH# (fetch DCH of SEL))           (TEDIT.LOOKS TEXTOBJ '(FAMILY MODERN SIZE 10])(XPS.LARGE-FORMAT.ADDLEADING  [LAMBDA (TEXTSTREAM TEXTOBJ SEL)                           (* Add line leading to a paragraph.)                                                             (* Make sure the whole paragraph is                                                              selected.)    (XPS.COVER.PARA TEXTOBJ SEL)                             (*)    (SETQ LINELEADING (OR (NUMBERP (MKATOM (TEDIT.GETINPUT TEXTSTREAM                                 "How many points of line leading do you want (default is 2 points): "                                                   "2")))                          2))                    (* Get a value to be used for the SEL argument in TEDIT.PARALOOKS)    (PROG* ((TEXTOBJ (TEXTOBJ TEXTSTREAM))            (CH# (fetch CH# of SEL))            (CHLIM (fetch CHLIM of SEL)))           (TEDIT.PARALOOKS TEXTOBJ `(LINELEADING ,LINELEADING) CH# (fetch DCH of SEL])(XPS.LARGE-FORMAT.BLANKPAGE  [LAMBDA (TEXTSTREAM TEXTOBJ SEL)                           (* ; "Edited 10-Aug-87 10:57 by bmw")    (XPS.COVER.PARA TEXTOBJ SEL)                             (* Make sure the whole paragraph is                                                              selected.)    (PROG* ((TEXTOBJ (TEXTOBJ TEXTSTREAM))            (CH# (fetch CH# of SEL))            (CHLIM (fetch CHLIM of SEL)))           (TEDIT.PARALOOKS TEXTOBJ                  '(NEWPAGEBEFORE T QUAD LEFT PARALEADING 7 1STLEFTMARGIN 0 LEFTMARGIN 0 RIGHTMARGIN                           504 SPECIALX 228 SPECIALY 492 HEADINGKEEP OFF BASETOBASE NIL PAGEHEADING                           NIL) CH# (fetch DCH of SEL))           (TEDIT.LOOKS TEXTOBJ '(FAMILY MODERN SIZE 10]))(* ;; "Formatting specific to the 5-1/2x8-1/2 XPS format")(DEFINEQ(XPS.SMALL-FORMAT.LEVEL1HEAD  [LAMBDA (TEXTSTREAM TEXTOBJ SEL)                           (* ; "Edited 29-Jul-87 17:35 by bmw")                    (* * Impose the styling for a Level-1 heading in the user-guide-type           documentation%: 18-point Modern bold, all-upper-case, set flush right over a           6pt rule.)    (XPS.COVER.PARA TEXTOBJ SEL)                             (* Make sure the whole paragraph is                                                              selected.)    (PROG* ((TEXTOBJ (TEXTOBJ TEXTSTREAM))            (CH# (fetch CH# of SEL))            (CHLIM (fetch CHLIM of SEL)))           (\TEDIT.UCASE.SEL TEXTSTREAM TEXTOBJ SEL)         (* Make the heading be Modern 18 bold)           (TEDIT.LOOKS TEXTSTREAM '(FAMILY MODERN SIZE 18 WEIGHT BOLD SLOPE REGULAR) SEL)           (TEDIT.PARALOOKS TEXTOBJ                  '(QUAD LEFT PARALEADING 0 LINELEADING 0 1STLEFTMARGIN 84 LEFTMARGIN 84 RIGHTMARGIN                          324 HEADINGKEEP ON TABS (NIL (324 . RIGHT))                         BASETOBASE NIL) CH# 1)           (TEDIT.INSERT.OBJECT (HRULE.CREATE 6)                  TEXTSTREAM                  (SUB1 CHLIM))           (TEDIT.INSERT TEXTSTREAM (CHARCODE CR)                  (SUB1 CHLIM))           (TEDIT.PARALOOKS TEXTOBJ                  '(QUAD LEFT 1STLEFTMARGIN 84 LEFTMARGIN 84 RIGHTMARGIN 324 HEADINGKEEP ON                          PARALEADING 0 BASETOBASE NIL LINELEADING 0) CHLIM 1])(XPS.SMALL-FORMAT.LEVEL2HEAD  [LAMBDA (TEXTSTREAM TEXTOBJ SEL)                           (* jds "20-Nov-85 15:22")                    (* Impose the style for a level-2 head in the user guide-style doc%: 14pt bold           Modern Upper/lower head, flush left under a 2pt rule, over a 1pt rule.          34pt base-to-base leading on the 2pt rule, snug the rest together.)    (XPS.COVER.PARA TEXTOBJ SEL)                             (* Make sure the whole paragraph is                                                              selected.)    (PROG* ((TEXTOBJ (TEXTOBJ TEXTSTREAM))            (CH# (fetch CH# of SEL))            (CHLIM (fetch CHLIM of SEL)))                    (* Make the heading be Modern 14 bold)                                                             (*)           (TEDIT.LOOKS TEXTSTREAM '(FAMILY MODERN SIZE 14 WEIGHT BOLD SLOPE REGULAR) SEL)           (TEDIT.PARALOOKS TEXTOBJ                  '(QUAD LEFT PARALEADING 0 1STLEFTMARGIN 0 LEFTMARGIN 0 RIGHTMARGIN 324 HEADINGKEEP                          ON BASETOBASE NIL LINELEADING 0) CH# 1)           (TEDIT.INSERT.OBJECT (HRULE.CREATE 1)                  TEXTSTREAM                  (SUB1 CHLIM))           (TEDIT.INSERT TEXTSTREAM (CHARCODE CR)                  (SUB1 CHLIM))           (TEDIT.PARALOOKS TEXTOBJ                  '(QUAD LEFT 1STLEFTMARGIN 0 LEFTMARGIN 0 RIGHTMARGIN 324 HEADINGKEEP ON PARALEADING                          0 LINELEADING 0) CHLIM 1)           (TEDIT.INSERT.OBJECT (HRULE.CREATE 2)                  TEXTSTREAM CH#)           (TEDIT.INSERT TEXTSTREAM (CHARCODE CR)                  (ADD1 CH#))           (TEDIT.PARALOOKS TEXTOBJ                  '(QUAD LEFT 1STLEFTMARGIN 0 LEFTMARGIN 0 RIGHTMARGIN 324 PARALEADING 34 HEADINGKEEP                          ON LINELEADING 0) CH# 1])(XPS.SMALL-FORMAT.LEVEL3HEAD  [LAMBDA (TEXTSTREAM TEXTOBJ SEL)                           (* ; "Edited 28-Jul-87 17:14 by bmw")                    (* Impose the style for a level-3 head in the user guide-style doc%: 12pt bold           Modern Upper/lower head, over a 1pt rule.          14pt base-to-base leading on the text snug the rest together.)    (XPS.COVER.PARA TEXTOBJ SEL)                             (* Make sure the whole paragraph is                                                              selected.)    (PROG* ((TEXTOBJ (TEXTOBJ TEXTSTREAM))            (CH# (fetch CH# of SEL))            (CHLIM (fetch CHLIM of SEL)))                    (* Make the heading be Modern 12 bold)                                                             (*)           (TEDIT.LOOKS TEXTSTREAM '(FAMILY MODERN SIZE 12 WEIGHT BOLD SLOPE REGULAR) SEL)                                                             (* Set the para looks of the text)           (TEDIT.PARALOOKS TEXTOBJ                  '(QUAD LEFT PARALEADING 14 LINELEADING 0 1STLEFTMARGIN 0 LEFTMARGIN 0 RIGHTMARGIN                          324 HEADINGKEEP ON BASETOBASE NIL) CH# 1)                                                             (* Create the 1-point rule on the                                                              bottom)                                                             (*)           (TEDIT.INSERT.OBJECT (HRULE.CREATE 1)                  TEXTSTREAM                  (SUB1 CHLIM))           (TEDIT.INSERT TEXTSTREAM (CHARCODE CR)                  (SUB1 CHLIM))                              (* Set the para looks of the 1-pt rule)           (TEDIT.PARALOOKS TEXTOBJ                  '(QUAD LEFT 1STLEFTMARGIN 0 LEFTMARGIN 0 RIGHTMARGIN 324 HEADINGKEEP ON PARALEADING                          0 BASETOBASE NIL LINELEADING 0) CHLIM 1])(XPS.SMALL-FORMAT.LEVEL4HEAD  [LAMBDA (TEXTSTREAM TEXTOBJ SEL)                           (* jds "20-Nov-85 15:23")                    (* Impose the style for a level-4 head in the user guide-style doc%: 10pt bold           Modern Upper/lower head, flush left over a 1pt rule.          14pt base-to-base leading on the text, snug the rest together.)    (XPS.COVER.PARA TEXTOBJ SEL)                             (* Make sure the whole paragraph is                                                              selected.)                                                             (*)    (PROG* ((TEXTOBJ (TEXTOBJ TEXTSTREAM))            (CH# (fetch CH# of SEL))            (CHLIM (fetch CHLIM of SEL)))                    (* Make the heading be Modern 10 bold)                                                             (*)           (TEDIT.LOOKS TEXTSTREAM '(FAMILY MODERN SIZE 10 WEIGHT BOLD SLOPE REGULAR) SEL)           (TEDIT.PARALOOKS TEXTOBJ                  '(QUAD LEFT PARALEADING 14 LINELEADING 0 1STLEFTMARGIN 0 LEFTMARGIN 0 RIGHTMARGIN                          324 HEADINGKEEP ON BASETOBASE NIL) CH# 1)           (TEDIT.INSERT.OBJECT (HRULE.CREATE 1)                  TEXTSTREAM                  (SUB1 CHLIM))           (TEDIT.INSERT TEXTSTREAM (CHARCODE CR)                  (SUB1 CHLIM))           (TEDIT.PARALOOKS TEXTOBJ                  '(QUAD LEFT 1STLEFTMARGIN 0 LEFTMARGIN 0 RIGHTMARGIN 324 HEADINGKEEP ON PARALEADING                          0 BASETOBASE NIL LINELEADING 0) CHLIM 1])(XPS.SMALL-FORMAT.RUNNINGHEADS  [LAMBDA (TEXTSTREAM TEXTOBJ SEL)                           (* jds " 2-Oct-85 15:13")    (TEDIT.SETSEL TEXTSTREAM 1 0 'LEFT NIL NIL 'NORMAL)      (* Set the selection to the front of                                                              the document)    (TEDIT.INCLUDE TEXTSTREAM '           {ERIS}<Doc>PUBS>UTILITIES>GENERAL>XPS-SMALL-FORMAT-RUNNING-HEADS-TEMPLATE.TEDIT])(XPS.SMALL-FORMAT.PAGELAYOUT  [LAMBDA (TEXTSTREAM TEXTOBJ SEL)                           (* jds " 2-Oct-85 15:01")                    (* Set up page formatting for a user guide style XPS formatted document.          Document print with equal margins left and right.)    (PROG ((PAGENUM.FONT (FONTCREATE 'MODERN 10 'MRR 0 'DISPLAY))           PAGENUM)          (SETQ PAGENUM (OR (NUMBERP (MKATOM (TEDIT.GETINPUT TEXTSTREAM                                                     "Starting pg # (default is 1): " "1")))                            1))          (TEDIT.PAGEFORMAT TEXTSTREAM (LIST [TEDIT.SINGLE.PAGEFORMAT T 39.0 17.0 PAGENUM.FONT                                                    'RIGHT 12.0 12.0 3.0 19.0 1 27.0 NIL                                                    '((FOOTINGR 12.0 18.0))                                                    'PICAS                                                    (LIST 'STARTINGPAGE# (COND                                                                            ((NUMBERP PAGENUM)                                                                             PAGENUM)                                                                            (T 1]                                             (TEDIT.SINGLE.PAGEFORMAT T 12.0 17.0 PAGENUM.FONT                                                    'LEFT 12.0 12.0 4.5 19.0 1 27.0 NIL                                                    '((FOOTINGV 12.0 18.0)                                                      (VERSOHEAD 12.0 63.5))                                                    'PICAS)                                             (TEDIT.SINGLE.PAGEFORMAT T 39.0 17.0 PAGENUM.FONT                                                    'RIGHT 12.0 12.0 4.5 19.0 1 27.0 NIL                                                    '((FOOTINGR 12.0 18.0)                                                      (RECTOHEAD 12.0 63.5))                                                    'PICAS])(XPS.SMALL-FORMAT.DEFAULTPARA  [LAMBDA (TEXTSTREAM TEXTOBJ SEL)                           (* ; "Edited 28-Jul-87 17:21 by bmw")                    (* Impose the style for the default paragraph of the small format XPS doc.          7pts paragraph leading, 2 pts line leading, justified text in a column 20 picas           wide.)                    (* The two points of line leading changes from the Koto looks in order to           reflect the change in the fonts from koto to Lyric.)                                                             (*)    (XPS.COVER.PARA TEXTOBJ SEL)                             (* Make sure the whole paragraph is                                                              selected.)    (PROG* ((TEXTOBJ (TEXTOBJ TEXTSTREAM))            (CH# (fetch CH# of SEL))            (CHLIM (fetch CHLIM of SEL)))           (TEDIT.PARALOOKS TEXTOBJ                  '(QUAD JUSTIFIED PARALEADING 7 LINELEADING 2 1STLEFTMARGIN 84 LEFTMARGIN 84                          RIGHTMARGIN 324 HEADINGKEEP OFF BASETOBASE NIL PAGEHEADING NIL) CH#                  (fetch DCH of SEL))           (TEDIT.LOOKS TEXTOBJ '(FAMILY MODERN SIZE 10])(XPS.SMALL-FORMAT.FIRSTPARA  [LAMBDA (TEXTSTREAM TEXTOBJ SEL)                           (* ; "Edited 28-Jul-87 17:22 by bmw")                    (* Impose the style for the default paragraph of the small format XPS doc.          10pts paragraph leading, 2 pts line leading, justified text in a column 20           picas wide.)                    (* The two points of line leading changes from the Koto looks in order to           reflect the change in the fonts from koto to Lyric.)                                                             (*)    (XPS.COVER.PARA TEXTOBJ SEL)                             (* Make sure the whole paragraph is                                                              selected.)    (PROG* ((TEXTOBJ (TEXTOBJ TEXTSTREAM))            (CH# (fetch CH# of SEL))            (CHLIM (fetch CHLIM of SEL)))           (TEDIT.LOOKS TEXTOBJ '(FAMILY MODERN SIZE 10))           (TEDIT.PARALOOKS TEXTOBJ                  '(QUAD JUSTIFIED PARALEADING 10 LINELEADING 2 1STLEFTMARGIN 84 LEFTMARGIN 84                          RIGHTMARGIN 324 HEADINGKEEP OFF BASETOBASE NIL PAGEHEADING NIL) CH#                  (fetch DCH of SEL])(XPS.SMALL-FORMAT.FUNCTIONTITLE  [LAMBDA (TEXTSTREAM TEXTOBJ SEL)                           (* jds "20-Nov-85 16:55")                                                             (* Set the looks for function titles)    (XPS.COVER.PARA TEXTOBJ SEL)                             (* Make sure the whole paragraph is                                                              selected.)    (PROG* ((TEXTOBJ (TEXTOBJ TEXTSTREAM))            (CH# (fetch CH# of SEL))            (CHLIM (fetch CHLIM of SEL)))           (TEDIT.PARALOOKS TEXTOBJ                  '(QUAD JUSTIFIED PARALEADING 7 LINELEADING 0 1STLEFTMARGIN 84 LEFTMARGIN 84                          RIGHTMARGIN 324 HEADINGKEEP ON BASETOBASE NIL PAGEHEADING NIL TABS                         (NIL (324 . RIGHT))) CH# (fetch DCH of SEL))           (TEDIT.LOOKS TEXTOBJ '(FAMILY MODERN SIZE 10])(XPS.SMALL-FORMAT.ADDLEADING  [LAMBDA (TEXTSTREAM TEXTOBJ SEL)    (PROG* ((TEXTOBJ (TEXTOBJ TEXTSTREAM))            (CH# (fetch CH# of SEL))            (CHLIM (fetch CHLIM of SEL)))           (TEDIT.PARALOOKS TEXTOBJ '(LINELEADING 2) CH# (fetch DCH of SEL])(XPS.SMALL-FORMAT.BLANKPAGE  [LAMBDA (TEXTSTREAM TEXTOBJ SEL)                           (* ; "Edited 10-Aug-87 11:47 by bmw")    (XPS.COVER.PARA TEXTOBJ SEL)                             (* Make sure the whole paragraph is                                                              selected.)    (PROG* ((TEXTOBJ (TEXTOBJ TEXTSTREAM))            (CH# (fetch CH# of SEL))            (CHLIM (fetch CHLIM of SEL)))           (TEDIT.PARALOOKS TEXTOBJ                  '(NEWPAGEBEFORE T QUAD LEFT PARALEADING 7 1STLEFTMARGIN 0 LEFTMARGIN 0 RIGHTMARGIN                           324 SPECIALX 228 SPECIALY 492 HEADINGKEEP OFF BASETOBASE NIL PAGEHEADING                           NIL) CH# (fetch DCH of SEL))           (TEDIT.LOOKS TEXTOBJ '(FAMILY MODERN SIZE 10]))(* ;; "Formatting specific to the LISPUSERS documentation format")(DEFINEQ(XPS.LISPUSERS-FORMAT.LEVEL1HEAD  [LAMBDA (TEXTSTREAM TEXTOBJ SEL)                           (* jds "20-Nov-85 15:24")                    (* * Impose the styling for a Level-1 heading in the lisp-library           documentation%: 18-point Modern bold, all-upper-case, set flush right over a           6pt rule.)    (XPS.COVER.PARA TEXTOBJ SEL)                             (* Make sure the whole paragraph is                                                              selected.)    (PROG* ((TEXTOBJ (TEXTOBJ TEXTSTREAM))            (CH# (fetch CH# of SEL))            (CHLIM (fetch CHLIM of SEL)))           (\TEDIT.UCASE.SEL TEXTSTREAM TEXTOBJ SEL)         (* Make the heading be Helvetica 14                                                              bold)           (TEDIT.LOOKS TEXTSTREAM '(FAMILY MODERN SIZE 18 WEIGHT BOLD SLOPE REGULAR) SEL)           (TEDIT.PARALOOKS TEXTOBJ                  '(QUAD RIGHT PARALEADING 0 LINELEADING 0 1STLEFTMARGIN 204 LEFTMARGIN 204                          RIGHTMARGIN 504 HEADINGKEEP ON BASETOBASE NIL) CH# 1)           (TEDIT.INSERT.OBJECT (HRULE.CREATE 6)                  TEXTSTREAM                  (SUB1 CHLIM))           (TEDIT.INSERT TEXTSTREAM (CHARCODE CR)                  (SUB1 CHLIM))           (TEDIT.PARALOOKS TEXTOBJ                  '(QUAD LEFT 1STLEFTMARGIN 204 LEFTMARGIN 204 RIGHTMARGIN 504 HEADINGKEEP ON                          PARALEADING 0 BASETOBASE NIL LINELEADING 0) CHLIM 1])(XPS.LISPUSERS-FORMAT.LEVEL2HEAD  [LAMBDA (TEXTSTREAM TEXTOBJ SEL)                           (* jds "20-Nov-85 15:22")                    (* Impose the style for a level-2 head in the lisp-library doc%: 14pt bold           Modern Upper/lower head, flush left under a 2pt rule, over a 1/2pt rule.          57pt base-to-base leading on the 2pt rule, snug the rest together.)    (XPS.COVER.PARA TEXTOBJ SEL)                             (* Make sure the whole paragraph is                                                              selected.)    (PROG* ((TEXTOBJ (TEXTOBJ TEXTSTREAM))            (CH# (fetch CH# of SEL))            (CHLIM (fetch CHLIM of SEL)))           (TEDIT.LOOKS TEXTSTREAM '(FAMILY MODERN SIZE 14 WEIGHT BOLD SLOPE REGULAR) SEL)                                                             (* Make the heading be Helvetica 14                                                              bold)           (TEDIT.PARALOOKS TEXTOBJ                  '(QUAD LEFT PARALEADING 0 1STLEFTMARGIN 0 LEFTMARGIN 0 RIGHTMARGIN 504 HEADINGKEEP                          ON BASETOBASE NIL LINELEADING 0) CH# 1)           (TEDIT.INSERT.OBJECT (HRULE.CREATE 1)                  TEXTSTREAM                  (SUB1 CHLIM))           (TEDIT.INSERT TEXTSTREAM (CHARCODE CR)                  (SUB1 CHLIM))           (TEDIT.PARALOOKS TEXTOBJ                  '(QUAD LEFT 1STLEFTMARGIN 0 LEFTMARGIN 0 RIGHTMARGIN 504 HEADINGKEEP ON PARALEADING                          0 LINELEADING 0) CHLIM 1)           (TEDIT.INSERT.OBJECT (HRULE.CREATE 2)                  TEXTSTREAM CH#)           (TEDIT.INSERT TEXTSTREAM (CHARCODE CR)                  (ADD1 CH#))           (TEDIT.PARALOOKS TEXTOBJ                  '(QUAD LEFT 1STLEFTMARGIN 0 LEFTMARGIN 0 RIGHTMARGIN 504 PARALEADING 50 HEADINGKEEP                          ON LINELEADING 0) CH# 1])(XPS.LISPUSERS-FORMAT.LEVEL3HEAD  [LAMBDA (TEXTSTREAM TEXTOBJ SEL)                           (* jds "20-Nov-85 15:22")                    (* Impose the style for a level-2 head in the lisp-library doc%: 14pt bold           Modern Upper/lower head, flush left under a 2pt rule, over a 1/2pt rule.          57pt base-to-base leading on the 2pt rule, snug the rest together.)    (XPS.COVER.PARA TEXTOBJ SEL)                             (* Make sure the whole paragraph is                                                              selected.)    (PROG* ((TEXTOBJ (TEXTOBJ TEXTSTREAM))            (CH# (fetch CH# of SEL))            (CHLIM (fetch CHLIM of SEL)))           (TEDIT.LOOKS TEXTSTREAM '(FAMILY MODERN SIZE 12 WEIGHT BOLD SLOPE REGULAR) SEL)                                                             (* Make the heading be Helvetica 12                                                              bold)           (TEDIT.PARALOOKS TEXTOBJ                  '(QUAD LEFT PARALEADING 14 LINELEADING 0 1STLEFTMARGIN 0 LEFTMARGIN 0 RIGHTMARGIN                          504 HEADINGKEEP ON BASETOBASE NIL) CH# 1)           (TEDIT.INSERT.OBJECT (HRULE.CREATE 1)                  TEXTSTREAM                  (SUB1 CHLIM))           (TEDIT.INSERT TEXTSTREAM (CHARCODE CR)                  (SUB1 CHLIM))           (TEDIT.PARALOOKS TEXTOBJ                  '(QUAD LEFT 1STLEFTMARGIN 0 LEFTMARGIN 0 RIGHTMARGIN 504 HEADINGKEEP ON PARALEADING                          0 BASETOBASE NIL LINELEADING 0) CHLIM 1])(XPS.LISPUSERS-FORMAT.LEVEL4HEAD  [LAMBDA (TEXTSTREAM TEXTOBJ SEL)                           (* jds "20-Nov-85 15:23")                    (* Impose the style for a level-2 head in the lisp-library doc%: 14pt bold           Modern Upper/lower head, flush left under a 2pt rule, over a 1/2pt rule.          57pt base-to-base leading on the 2pt rule, snug the rest together.)    (XPS.COVER.PARA TEXTOBJ SEL)                             (* Make sure the whole paragraph is                                                              selected.)    (PROG* ((TEXTOBJ (TEXTOBJ TEXTSTREAM))            (CH# (fetch CH# of SEL))            (CHLIM (fetch CHLIM of SEL)))           (TEDIT.LOOKS TEXTSTREAM '(FAMILY MODERN SIZE 10 WEIGHT BOLD SLOPE REGULAR) SEL)                                                             (* Make the heading be Helvetica 14                                                              bold)           (TEDIT.PARALOOKS TEXTOBJ                  '(QUAD LEFT PARALEADING 10 LINELEADING 0 1STLEFTMARGIN 0 LEFTMARGIN 0 RIGHTMARGIN                          504 HEADINGKEEP ON BASETOBASE NIL) CH# 1)           (TEDIT.INSERT.OBJECT (HRULE.CREATE 1)                  TEXTSTREAM                  (SUB1 CHLIM))           (TEDIT.INSERT TEXTSTREAM (CHARCODE CR)                  (SUB1 CHLIM))           (TEDIT.PARALOOKS TEXTOBJ                  '(QUAD LEFT 1STLEFTMARGIN 0 LEFTMARGIN 0 RIGHTMARGIN 504 HEADINGKEEP ON PARALEADING                          0 BASETOBASE NIL LINELEADING 0) CHLIM 1])(XPS.LISPUSERS-FORMAT.RUNNINGHEADS  [LAMBDA (TEXTSTREAM TEXTOBJ SEL)                           (* jds " 2-Oct-85 15:13")    (TEDIT.SETSEL TEXTSTREAM 1 0 'LEFT NIL NIL 'NORMAL)      (* Set the selection to the front of                                                              the document)    (TEDIT.INCLUDE TEXTSTREAM '{ERIS}<DOC>UTILITIES>XPS-LARGE-FORMAT-RUNNING-HEAD-TEMPLATE.TEDIT])(XPS.LISPUSERS-FORMAT.PAGELAYOUT  [LAMBDA (TEXTSTREAM TEXTOBJ SEL)                           (* jds " 2-Oct-85 15:01")                                                             (* Set up page formatting for an XPS                                                              formatted document.)    (PROG ((PAGENUM.FONT (FONTCREATE 'MODERN 10 'MRR 0 'DISPLAY))           PAGENUM)          (SETQ PAGENUM (OR (NUMBERP (MKATOM (TEDIT.GETINPUT TEXTSTREAM                                                     "Starting pg # (default is 1): " "1")))                            1))          (TEDIT.PAGEFORMAT TEXTSTREAM (LIST [TEDIT.SINGLE.PAGEFORMAT T 46.5 1.25 PAGENUM.FONT                                                    'RIGHT 4.5 4.5 1.25 4.5 1 42.0 NIL                                                    '((FOOTINGR 4.5 2.25))                                                    'PICAS                                                    (LIST 'STARTINGPAGE# (COND                                                                            ((NUMBERP PAGENUM)                                                                             PAGENUM)                                                                            (T 1]                                             (TEDIT.SINGLE.PAGEFORMAT T 4.5 1.25 PAGENUM.FONT                                                    'LEFT 4.5 4.5 4.5 4.5 1 42.0 NIL                                                    '((FOOTINGV 4.5 2.25)                                                      (VERSOHEAD 4.5 63.5))                                                    'PICAS)                                             (TEDIT.SINGLE.PAGEFORMAT T 46.5 1.25 PAGENUM.FONT                                                    'RIGHT 4.5 4.5 4.5 4.5 1 42.0 NIL                                                    '((FOOTINGR 4.5 2.25)                                                      (RECTOHEAD 4.5 63.5))                                                    'PICAS])(XPS.LISPUSERS-FORMAT.DEFAULTPARA  [LAMBDA (TEXTSTREAM TEXTOBJ SEL)                           (* jds "20-Nov-85 15:23")                    (* Impose the style for a level-2 head in the lisp-library doc%: 14pt bold           Modern Upper/lower head, flush left under a 2pt rule, over a 1/2pt rule.          57pt base-to-base leading on the 2pt rule, snug the rest together.)    (XPS.COVER.PARA TEXTOBJ SEL)                             (* Make sure the whole paragraph is                                                              selected.)    (PROG* ((TEXTOBJ (TEXTOBJ TEXTSTREAM))            (CH# (fetch CH# of SEL))            (CHLIM (fetch CHLIM of SEL)))           (TEDIT.PARALOOKS TEXTOBJ                  '(QUAD JUSTIFIED PARALEADING 7 LINELEADING 0 1STLEFTMARGIN 204 LEFTMARGIN 204                          RIGHTMARGIN 504 HEADINGKEEP OFF BASETOBASE NIL PAGEHEADING NIL) CH#                  (fetch DCH of SEL))           (TEDIT.LOOKS TEXTOBJ '(FAMILY MODERN SIZE 10])(XPS.LISPUSERS-FORMAT.FIRSTPARA  [LAMBDA (TEXTSTREAM TEXTOBJ SEL)                           (* jds "20-Nov-85 15:24")                    (* Impose the style for a level-2 head in the lisp-library doc%: 14pt bold           Modern Upper/lower head, flush left under a 2pt rule, over a 1/2pt rule.          57pt base-to-base leading on the 2pt rule, snug the rest together.)    (XPS.COVER.PARA TEXTOBJ SEL)                             (* Make sure the whole paragraph is                                                              selected.)    (PROG* ((TEXTOBJ (TEXTOBJ TEXTSTREAM))            (CH# (fetch CH# of SEL))            (CHLIM (fetch CHLIM of SEL)))           (TEDIT.LOOKS TEXTOBJ '(FAMILY MODERN SIZE 10))           (TEDIT.PARALOOKS TEXTOBJ                  '(QUAD JUSTIFIED PARALEADING 11 LINELEADING 0 1STLEFTMARGIN 204 LEFTMARGIN 204                          RIGHTMARGIN 504 HEADINGKEEP OFF BASETOBASE NIL PAGEHEADING NIL) CH#                  (fetch DCH of SEL])(XPS.LISPUSERS-FORMAT.FUNCTIONTITLE  [LAMBDA (TEXTSTREAM TEXTOBJ SEL)                           (* jds "20-Nov-85 16:55")                    (* Impose the style for a level-2 head in the lisp-library doc%: 14pt bold           Modern Upper/lower head, flush left under a 2pt rule, over a 1/2pt rule.          57pt base-to-base leading on the 2pt rule, snug the rest together.)    (XPS.COVER.PARA TEXTOBJ SEL)                             (* Make sure the whole paragraph is                                                              selected.)    (PROG* ((TEXTOBJ (TEXTOBJ TEXTSTREAM))            (CH# (fetch CH# of SEL))            (CHLIM (fetch CHLIM of SEL)))           (TEDIT.PARALOOKS TEXTOBJ                  '(QUAD JUSTIFIED PARALEADING 7 LINELEADING 0 1STLEFTMARGIN 204 LEFTMARGIN 288                          RIGHTMARGIN 504 HEADINGKEEP ON BASETOBASE NIL PAGEHEADING NIL TABS                         (NIL (504 . RIGHT))) CH# (fetch DCH of SEL))           (TEDIT.LOOKS TEXTOBJ '(FAMILY MODERN SIZE 10]))(DECLARE%: DOEVAL@COMPILE DONTCOPY(GLOBALVARS XPS.CURRENT.FORMAT))(RPAQ? XPS.CURRENT.FORMAT %'LARGE)[COND ((IEQP \KEYBOARD.META 256)       (TEDIT.SETFUNCTION (CHARCODE %##1)              'XPS.LEVEL1HEAD)       (TEDIT.SETFUNCTION (CHARCODE %##2)              'XPS.LEVEL2HEAD)       (TEDIT.SETFUNCTION (CHARCODE %##3)              'XPS.LEVEL3HEAD)       (TEDIT.SETFUNCTION (CHARCODE %##4)              'XPS.LEVEL4HEAD)       (TEDIT.SETFUNCTION (CHARCODE %##0)              'XPS.PAGELAYOUT)       (TEDIT.SETFUNCTION (CHARCODE %##-)              'XPS.RUNNINGHEADS)       (TEDIT.SETFUNCTION (CHARCODE |## |)              'XPS.DEFAULTPARA)       (TEDIT.SETFUNCTION (CHARCODE %##=)              'XPS.FIRSTPARA)       (TEDIT.SETFUNCTION (CHARCODE %##5)              'XPS.ADD.LEADING)       (TEDIT.SETFUNCTION (CHARCODE %##6)              'XPS.HEADING-KEEP.ON)       (TEDIT.SETFUNCTION (CHARCODE %##^)              'XPS.HEADING-KEEP.OFF)       (TEDIT.SETFUNCTION (CHARCODE %##7)              'XPS.FUNCTIONTITLE)       (TEDIT.SETFUNCTION (CHARCODE %##8)              'XPS.BLANKPAGE)       (TEDIT.SETFUNCTION (CHARCODE %##9)              'XPS.HARDCOPY-MODE.ON)       (TEDIT.SETFUNCTION (CHARCODE |##(|)              'XPS.HARDCOPY-MODE.OFF)       (TEDIT.SETFUNCTION (CHARCODE %##+)              'XPS.MAKE.PAGE.BREAK)       (TEDIT.SETFUNCTION (CHARCODE %##r)              'XPS.REVISION-BAR-ON)       (TEDIT.SETFUNCTION (CHARCODE %##R)              'XPS.REVISION-BAR-OFF](DECLARE%: DONTEVAL@LOAD DOEVAL@COMPILE DONTCOPY COMPILERVARS (ADDTOVAR NLAMA )(ADDTOVAR NLAML )(ADDTOVAR LAMA ))(PUTPROPS XPSEDIT COPYRIGHT ("Xerox Corporation" 1985 1986 1987 1988))(DECLARE%: DONTCOPY  (FILEMAP (NIL (6085 10169 (XPS.HEADING-KEEP.ON 6095 . 6598) (XPS.HEADING-KEEP.OFF 6600 . 7081) (XPS.COVER.PARA 7083 . 7551) (XPS.HARDCOPY-MODE.ON 7553 . 8233) (XPS.HARDCOPY-MODE.OFF 8235 . 8926) (XPS.MAKE.PAGE.BREAK 8928 . 9571) (XPS.REVISION-BAR-ON 9573 . 9864) (XPS.REVISION-BAR-OFF 9866 . 10167)) (10252 16553 (XPS.LEVEL1HEAD 10262 . 10877) (XPS.LEVEL2HEAD 10879 . 11429) (XPS.LEVEL3HEAD 11431 . 11981) (XPS.LEVEL4HEAD 11983 . 12533) (XPS.RUNNINGHEADS 12535 . 13122) (XPS.PAGELAYOUT 13124 . 13680) (XPS.DEFAULTPARA 13682 . 14303) (XPS.FIRSTPARA 14305 . 14886) (XPS.FUNCTIONTITLE 14888 . 15452) (XPS.ADD.LEADING 15454 . 15979) (XPS.BLANKPAGE 15981 . 16551)) (16651 30515 (XPS.LARGE-FORMAT.LEVEL1HEAD 16661 . 18293) (XPS.LARGE-FORMAT.LEVEL2HEAD 18295 . 20146) (XPS.LARGE-FORMAT.LEVEL3HEAD 20148 . 21650) (XPS.LARGE-FORMAT.LEVEL4HEAD 21652 . 23154) (XPS.LARGE-FORMAT.RUNNINGHEADS 23156 . 23591) (XPS.LARGE-FORMAT.PAGELAYOUT 23593 . 25631) (XPS.LARGE-FORMAT.DEFAULTPARA 25633 . 26640) (XPS.LARGE-FORMAT.FIRSTPARA 26642 . 27647) (XPS.LARGE-FORMAT.FUNCTIONTITLE 27649 . 28718) (XPS.LARGE-FORMAT.ADDLEADING 28720 . 29693) (XPS.LARGE-FORMAT.BLANKPAGE 29695 . 30513)) (30583 44508 (XPS.SMALL-FORMAT.LEVEL1HEAD 30593 . 32115) (XPS.SMALL-FORMAT.LEVEL2HEAD 32117 . 33997) (XPS.SMALL-FORMAT.LEVEL3HEAD 33999 . 35936) (XPS.SMALL-FORMAT.LEVEL4HEAD 35938 . 37529) (XPS.SMALL-FORMAT.RUNNINGHEADS 37531 . 37967) (XPS.SMALL-FORMAT.PAGELAYOUT 37969 . 39996) (XPS.SMALL-FORMAT.DEFAULTPARA 39998 . 41238) (XPS.SMALL-FORMAT.FIRSTPARA 41240 . 42480) (XPS.SMALL-FORMAT.FUNCTIONTITLE 42482 . 43394) (XPS.SMALL-FORMAT.ADDLEADING 43396 . 43686) (XPS.SMALL-FORMAT.BLANKPAGE 43688 . 44506)) (44584 56894 (XPS.LISPUSERS-FORMAT.LEVEL1HEAD 44594 . 46129) (XPS.LISPUSERS-FORMAT.LEVEL2HEAD 46131 . 48055) (XPS.LISPUSERS-FORMAT.LEVEL3HEAD 48057 . 49645) (XPS.LISPUSERS-FORMAT.LEVEL4HEAD 49647 . 51235) (XPS.LISPUSERS-FORMAT.RUNNINGHEADS 51237 . 51651) (XPS.LISPUSERS-FORMAT.PAGELAYOUT 51653 . 53695) (XPS.LISPUSERS-FORMAT.DEFAULTPARA 53697 . 54750) (XPS.LISPUSERS-FORMAT.FIRSTPARA 54752 . 55804) (XPS.LISPUSERS-FORMAT.FUNCTIONTITLE 55806 . 56892)))))STOP