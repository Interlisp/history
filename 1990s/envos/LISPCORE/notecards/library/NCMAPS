(DEFINE-FILE-INFO PACKAGE "IL" READTABLE "INTERLISP" BASE 10)(FILECREATED " 2-Oct-90 17:08:00" {DSK}<python>release>notecards>current>src>work>NCMAPS.;2 4335         changes to%:  (FNS NC.SetUpNOTECARDSMAPDIRECTORIES)      previous date%: "27-Feb-89 10:05:37" {DSK}<python>release>notecards>current>src>work>NCMAPS.;1)(* ; "Copyright (c) 1986, 1987, 1988, 1989, 1990 by Xerox Corporation.  All rights reserved.")(PRETTYCOMPRINT NCMAPSCOMS)(RPAQQ NCMAPSCOMS       ([DECLARE%: DONTEVAL@LOAD (P (NC.LoadFileFromDirectories 'NCSKETCHCARD]        (* ;;; "NOTECARDSMAPDIRECTORIES stuff")        (GLOBALVARS NOTECARDSMAPDIRECTORIES UseMapWithPoliticalBoundaries MAPFILESDIRECTORIES)        (FNS NC.SetUpNOTECARDSMAPDIRECTORIES)        (INITVARS (NOTECARDSMAPDIRECTORIES (NC.SetUpNOTECARDSMAPDIRECTORIES))               (MAPFILESDIRECTORIES NOTECARDSMAPDIRECTORIES))        (* ;;; "Smash any dummy MAP def'n on SKETCH.ELEMENT.TYPE.NAMES before loading NEWMAP")        [DECLARE%: DONTEVAL@LOAD (P (DREMOVE 'MAP SKETCH.ELEMENT.TYPE.NAMES)                                    (NC.LoadFileFromDirectories 'NEWMAP 'NOTECARDSMAPDIRECTORIES)                                    (NCP.ChangeCardTypeFields 'Sketch NIL                                           `((MiddleButtonMenuItems ,(SKETCH.COMMANDMENU.ITEMS T T]        (PROP (FILETYPE MAKEFILE-ENVIRONMENT)              NCMAPS)))(DECLARE%: DONTEVAL@LOAD (NC.LoadFileFromDirectories 'NCSKETCHCARD))(* ;;; "NOTECARDSMAPDIRECTORIES stuff")(DECLARE%: DOEVAL@COMPILE DONTCOPY(GLOBALVARS NOTECARDSMAPDIRECTORIES UseMapWithPoliticalBoundaries MAPFILESDIRECTORIES))(DEFINEQ(NC.SetUpNOTECARDSMAPDIRECTORIES  [LAMBDA (BaseDirectory)                              (* ; "Edited  2-Oct-90 16:59 by gadener")         (* * Set up the NoteCards directories maps globalvars)    (LET (NoteCardsBaseDirectory StrPtr NoteCardsLoadDirectory)         (* * Get the directory for the file now being loaded)         [COND            ((SETQ NoteCardsBaseDirectory BaseDirectory))            (T [SETQ NoteCardsLoadDirectory (PACKFILENAME.STRING 'HOST (FILENAMEFIELD (FULLNAME                                                                                       (INPUT))                                                                              'HOST)                                                   'DIRECTORY                                                   (FILENAMEFIELD (FULLNAME (INPUT))                                                          'DIRECTORY]         (* * Find the directory path up to the first subdirectory called NoteCards)               (COND                  ((SETQ StrPtr (STRPOS "NOTECARDS" (U-CASE NoteCardsLoadDirectory)                                       NIL NIL NIL T))                   (SETQ NoteCardsBaseDirectory (SUBATOM NoteCardsLoadDirectory 1 StrPtr]         (* * Create the directory search list based on the NoteCardsBaseDirectory)         (COND            [NoteCardsBaseDirectory (LIST (PACKFILENAME.STRING 'HOST (FILENAMEFIELD                                                                             NoteCardsBaseDirectory                                                                            'HOST)                                                 'DIRECTORY                                                 (CONCAT (FILENAMEFIELD NoteCardsBaseDirectory                                                                'DIRECTORY)                                                        ">" MAPS]            (T (LIST NoteCardsLoadDirectory]))(RPAQ? NOTECARDSMAPDIRECTORIES (NC.SetUpNOTECARDSMAPDIRECTORIES))(RPAQ? MAPFILESDIRECTORIES NOTECARDSMAPDIRECTORIES)(* ;;; "Smash any dummy MAP def'n on SKETCH.ELEMENT.TYPE.NAMES before loading NEWMAP")(DECLARE%: DONTEVAL@LOAD (DREMOVE 'MAP SKETCH.ELEMENT.TYPE.NAMES)(NC.LoadFileFromDirectories 'NEWMAP 'NOTECARDSMAPDIRECTORIES)[NCP.ChangeCardTypeFields 'Sketch NIL `((MiddleButtonMenuItems ,(SKETCH.COMMANDMENU.ITEMS T T])(PUTPROPS NCMAPS FILETYPE :TCOMPL)(PUTPROPS NCMAPS MAKEFILE-ENVIRONMENT (:PACKAGE "IL" :READTABLE "INTERLISP" :BASE 10))(PUTPROPS NCMAPS COPYRIGHT ("Xerox Corporation" 1986 1987 1988 1989 1990))(DECLARE%: DONTCOPY  (FILEMAP (NIL (1666 3645 (NC.SetUpNOTECARDSMAPDIRECTORIES 1676 . 3643)))))STOP