*start*00320 00024 US Date: 2 May 1983 10:07 PDTFrom: BOBROW at PARC-MAXCSubject: Re: Loops and Lafite2In-reply-to: Yonke's message of 28-Apr-83 10:15 PDTTo: Yonkecc: Bobrow, Burton, Yonke@BBNGOne constraint I have the week of the 9th is Tuesday morning, (the 10th) whenI will be giving a talk at SRI.danny*start*00423 00024 US Date:  9 MAY 83 17:53 PDTFrom: KAPLAN.PASubject: Lafite/network glitchTo:   YONKE, LISPCORE^I tried LAFITE(ON), given NIL as the second argument while at the same timenot having a GV mailbox (I have a maxc mailbox).The result was u.d.f. \LOCALHOSTNUMBER.I'll admit that what I was doing was probably nonsense, but I think I shouldhave been informed in a little more graceful way.--Ron*start*00352 00024 US Date: 11-May-83 10:04 PDTFrom: BURTON.PASubject: Lafite using connected dir?To: Yonke.PALafite-System-Date: 21-Apr-83 16:33 PDTLarry found a version of active.mail on <lispcore>fugue> which was written by me two days ago.  I don't know what I did to create it.  It claimed to be 2 pages long but appeared to be all nulls.*start*00355 00024 USaDate: 11-May-83 10:36 PDTFrom: BURTON.PASubject: Message editor iconTo: Yonke.PALafite-System-Date: 21-Apr-83 16:33 PDTIs it possible to make the message editting window just go away rather than change into an icon??  The information about the delivery could be printed in the prompt window if this case were chosen.Richard*start*00982 00024 US Date: 11-May-83 12:11 PDTFrom: vanMelle.PASubject: position after GetMailTo: Yonke.PAcc: vanMelle.PALafite-System-Date: 21-Apr-83 16:33 PDTIt appears the algorithm is to place the selector at the first unexamined message.  That may be fine for the user who always reads messages sequentially, but lousy if one tends to skip messages.  I think Laurel and Hardy always place the selector at the first new message.  The latter scheme seems better than the former, since presumably I bugged GetMail hoping to actually read the new mail.  The former seems to win only in the cse where I bugged GetMail before finishing up my old messages (perhaps I wanted to empty out my mailbox for other reasons).  If this seems an important case, you might compromise by moving the selector to the first unexamined message that is "contiguous" with the new messages (i.e. start at the first new message and go backwards until you run into an examined message).	Bill*start*00197 00024 US Date: 11-May-83 14:33 PDTFrom: Yonke.PASubject: Retrieving mailTo: Yonke.PALafite-System-Date: 21-Apr-83 16:33 PDTShould be more protected in case of a break in BSP*start*00495 00024 US Date: 11-May-83 15:14 PDTFrom: Yonke.PASubject: Re: Message editor iconIn-reply-to: BURTON.PA's message of 11-May-83 10:36 PDTTo: BURTON.PAcc: Yonke.PAOne reason that the info is printed in the "title bar icon" was in anticipation (much requested by you and Bill) that you have multiple sending windows in which case when you saw "message delivered..." in the prompt window how would you know which message it was talking about?  Suggestions are welcome.Martin*start*03254 00024 USaDate: Wed, 11 May 83 17:59 PDTFrom: Taft.PASubject: ARPA registryTo: MessageSystemImplementors^I'm beginning to have second thoughts about the decision we made a while ago to change the name of the registry for ARPA mailboxes from ArpaGateway to ARPA.  Since a new version of Laurel (supposedly the last one ever) is about to be released, I think we'd better revisit this now and decide what we are going to do.The problem is that the suffix .ARPA (as in Jones@MIT.ARPA) is overloaded.  Within the Xerox internet it refers to a registry which is the logical location of all ARPA mailboxes (i.e., all mailboxes reachable via the Xerox-to-ARPA mail gateway).  But within the ARPA world it refers to the ARPA domain, which is in principle only one of many possible domains.Difficulties will arise when the ARPA world starts to have top-level domain names other than ARPA, e.g., UUCP and CSNET and perhaps even Xerox.  How do we address them from within the Xerox internet?  Under the current strategy, one will type User@RandomHost.UUCP; but the mail sending program, seeing that the name contains "@" and does not already end in "ARPA", will turn this into User@RandomHost.UUCP.ARPA.  The mail gateway on Maxc won't know that it's supposed to strip off the ".ARPA", because it's not possible to distinguish this case (ARPA being used only as a registry name) from the normal case (ARPA being used both as a registry name and as a domain name).It's possible to run into this difficulty even now, if you try to use the route-addr construct to address non-ARPA recipients via the Arpanet.  (This is how I happened to stumble across it.)  That is, for a route-addr of the form @RelayHost.ARPA:User@NonARPADomain, it is incorrect to append .ARPA, since NonARPADomain is not part of the ARPA domain.Now, one way to fix this is to register all possible non-ARPA top-level domains as Xerox registries, and change mail-sending programs to append ".ARPA" to "@"-containing names only if it doesn't already end in in one of those names.  I actually favor this approach in principle, since it allows the Xerox, ARPA, and other domains to treat each other as independent name spaces rather than as sub-trees of their own name space.  But unfortunately I don't think this is practical, because it involves keeping track of changes in the outside world's name space, and the organization of that name space has not yet settled down (it's still the subject of heated debate, and Postel's supposedly definitive specification has not yet appeared).So I think we'd better go back to the scheme in which we use the explicit ArpaGateway registry.  The mail gateway already knows that ArpaGateway is a Xerox registry name, which must be stripped off all recipient names before forwarding to the ARPA world.  It's probably OK to keep ARPA as a registry name also; but mail sending programs should never append ".ARPA" on their own initiative, only ".ArpaGateway".I propose the following algorithm for converting a name string taken from a header into an R-Name:  IF {name contains "@"} THEN    BEGIN    IF {name ends in ".ArpaGateway" or ".ARPA" already} THEN {do nothing}    ELSE {append ".ArpaGateway"};    END;Comments?	Ed*start*00305 00024 US Date: 12-May-83 09:57 PDTFrom: Yonke.PASubject: Re: ARPA registryIn-reply-to: Taft.PA's message of Wed, 11 May 83 17:59 PDTTo: Taft.PAcc: MessageSystemImplementors^Ed, it sounds find to me as it looks like a reasonable solution to a potentially unsolveable problem.Martin*start*01186 00024 US Date: Sun, 15 May 83 18:00 PDTFrom: Taft.PASubject: Re: ARPA registryTo: MessageSystemImplementors^Mike and I had a long discussion about this, and we ended up deciding to do the following:1. Define AG as yet another synonym for ArpaGateway, in the interest of brevity (the Grapevine 64-character limit, you know).2. Change Maxc to treat the AG registry the same as it now treats the ArpaGateway (but not ARPA) registry, namely strip it off names received from Grapevine prior to any other processing.3. Change Laurel to append ".AG" to all names that contain "@", except those that already end in ".AG", ".ArpaGateway", or ".ARPA".  The first two should rarely occur, since we don't encourage people to append them manually and we never do so automatically in headers.  ".ARPA" continues to be both a Xerox registry and an ARPA domain; so ".ARPA", ".ARPA.AG", and "ARPA.ArpaGateway" are all acceptable and mean the same thing.I've implemented all of this already.  The ArpaGateway registry will remain valid indefinitely, so Hardy and older Laurels will continue to work.  I recommend changing ArpaGateway to AG when the opportunity arises.	Ed*start*00652 00024 US Date: 12 May 83 08:49:25 PDT (Thursday)From: Karlton.PASubject: Re: ARPA registryIn-reply-to: Taft's message of Wed, 11 May 83 17:59 PDTTo: Taftcc: MessageSystemImplementors^Reply-To: Karlton.PAEd,Hardy's mail sending side continues to append ".ArpaGateway" to any name that contains an "@". Is there anything wrong with the gateway receiving mail that is addressed to "User@HOST.ARPA.ArpaGateway"?I never expected any users to append ".ArpaGateway" to their recipient names, so I never checked to make sure I wasn't generating a name with that suffix on it twice. I will if you really think that is necessary.PK*start*00412 00024 US Date: Thu, 12 May 83 10:08 PDTFrom: Taft.PASubject: Re: ARPA registryIn-reply-to: "Your message of 12 May 83 08:49:25 PDT (Thursday)"To: Karltoncc: MessageSystemImplementors^User@HOST.ARPA.ArpaGateway will work ok.  The only undesirable property of this name is that it's longer than necessary; the ".ArpaGateway" uses up 12 characters out of the 64 that Grapevine permits.	Ed*start*00723 00024 US Date: 17-May-83 11:54 PDTFrom: Yonke.PASubject: new LafiteTo: LispSupport.PALisp-System-Date: 17-MAY-83 10:01:21There is a new Lafite on {Phlyum}<lispcore>sources>lafite.dcom.  It only fixes the long-standing bug about not being able to delete the first message of a file.  If you already have the latest <lispcore>fugue>lafite.dcom loaded then you can just do (LOADFNS 'COMPACTMAILFILE '{PHYLUM}<LISPCORE>SOURCES>LAFITE.DCOM) and things will then work correctly.I'm in the middle of a big "rewrite" of Lafite incorporating many user interface suggestions, but that won't be released until its checked out completely.  The Lafite mentioned above should be fine until then.Cheers,Martin*start*00144 00024 USfDate: 20-May-83 14:42 PDTFrom: Gadol.PASubject: LAFITETo: YONKE.PAcc: Gadol.PAMarty,    er if this gets through.*start*00343 00024 US Date: 21-May-83 18:37 PDTFrom: vanMelle.PASubject: lost mailTo: Yonkecc: vanMelle.PAEgad, you don't check that MSSEND returns T!!!!!!! You just assume the message got sent.  I have a bug in BSP that messes up long messages, and your failing to check for valid result means this bug has just slipped by....	Bill*start*00589 00024 US Date: 21-May-83 19:04 PDTFrom: vanMelle.PASubject: WARNING!!!!!  Lafite/NewFugue usersTo: LispCore^, HalvorsenIn recent loadups of NewFugue, thanks to the interaction of a bug I introduced in BSP (sorry about that, folks) and a bug in Lafite (the message sender never bothered to check that Grapevine acknowledged sending the message), messages longer than a line or two sent using Lafite tended to fall into the bit bucket.  My apologies to those affected.  For a quick cure, load the new BSP.DCOM from <LispCore>NewFugue>.  New loadup is in progress.	Bill*start*00605 00024 US Date: 21-May-83 19:46 PDTFrom: vanMelle.PASubject: Mail send speedTo: Yonke.PAcc: LispSupport.PALafite-System-Date: 17-May-83 11:40 PDTSendMessage should run a bit faster now--I fixed MAILCLIENT so that it caches the set of all maildrop servers in the world, rather than ask Grapevine for the set all over again each and every time it sends a message on a new bsp socket (which happens if you send messages spaced more than a couple minutes apart).  As I write this, there are 17 such servers, and processing them involved an exchange of two or three packets apiece.	Bill*start*00423 00024 US Date: 22-May-83 13:04 PDTFrom: Gadol.PASubject: Re: WARNING!!!!!  Lafite/NewFugue usersIn-reply-to: vanMelle.PA's message of 21-May-83 19:04 PDTTo: vanMelle.PAcc: LispCore^, HalvorsenIt seems that  the problems I was having with lafite can be traced to this bug. Dis you get my message announcing the the new version of  the filebrowser I am working on. I suspect it landed in the bit bucket.*start*01604 00024 US Date: 24-May-83 18:29 PDTFrom: vanMelle.PASubject: Re: MAILCLIENT (and my dolphin)In-reply-to: Yonke.PA's message of 24-May-83 17:24 PDTTo: Yonke.PAcc: vanMelleThe "right" environment is abc, which you get by loading ABC from Sources.I think it probably best if you work over MAILCLIENT to your satisfaction, since you're the main person who has to coordinate with it.  If that all runs fine, then I should be able to take over and slip MTP in.  Looking over the list of things we said were needned, I am most bothered by the global state required or implied.  Here is what we listed:FINDMAILSERVERR[port] -> T/NILOPENINBOX[name, someSortOfPassword] -> (code . #ofmessages)NEXTMESSAGE[] -> (exists? archived? deleted? examined?)RETRIEVEMESSAGE[outstream]FLUSH[]Unless the separation of FINDMAILSERVERR and OPENINBOX is important to you, I would propose the following more natural interface:OPENMAILBOX[port, name, someSortOfPassword]	 -> (mailbox . properties) or NIL on failure.NEXTMESSAGE[mailbox] -> propertylist or NIL if none.RETRIEVEMESSAGE[mailbox, outstream] -> some useful value?CLOSEMAILBOX[mailbox, flushp]Mailbox is some private object; for gv, it is the thing now attached to \RMAILSOCKET, and internally it should be passed along to \MSROP.  The optional property list that comes back from OPENMAILBOX could have such properties as number of messages.  The property list for NEXTMESSAGE could include such things as (LENGTH n), or (ARCHIVED T).  Some suitable null property list (e.g. T) should be defined, of course.What think you?	Bill*start*00514 00024 US Date: 26-May-83 10:08 PDTFrom: Gadol.PASubject: Lafite Message windowTo: Yonke, Lispcore^cc: Gadol.PAMarty,    If the message window and the browser window in Lafite overlap, you get some annoying behavior when you select a message to be displayed. The  messsage gets written into the message window and then the message window gets hidden by the browser. I think it would be better to leave the message window on top. Let mouse selection in the browser bring it back up to the top.*start*00386 00024 US Date: 27-May-83 14:32 PDTFrom: sybalsky.PASubject: Censored messages in browserTo: Yonke.paMarty--	I realize this is a family system, and I appreciate your support against Shulman, BUT.	The message appears in my Lafite browser with "---" in the date, sender, and subject fields?  If yez wanna see it, it's msg #14 in my active.mail on Phylum.	--John*start*00941 00024 US Date: 27-May-83 15:01 PDTFrom: MASINTER.PASubject: LAFITETo: YONKEcc: LISPSUPPORTI don't like not being able to reshape my mail browser any shape I please. I don't like not being able to close a mail browser simply. (I.e., just close the damn window).I tried (CLOSEW (WHICHW)) in order to close the browser finally, and I got a ARG NOT FIXP under BLOCK because PSTAT.WAITING was NOBIND (used freely by LOCKMAILFILE.)I don't like it that it always creates an ACTIVE.MAIL on the currently connected (login?) directory. I don't like it that it doesn't just use the highest version of ACTIVE.MAIL instead of complaining {PHYLUM}<MASINTER>ACTIVE.MAIL;1 has multiple versions. Please resolve this and then browse the mail file again.In fact, where did it get the ;1? There wasn't a version ;1 there before?In TEDIT, I don't like it that the caret flashes every time I type a character. It is annoying. *start*00413 00024 US Date: 27-May-83 15:06 PDTFrom: MASINTER.PASubject: more LafiteTo: Yonkecc: LispSUpportWhy can't I start sending another message while one is being delivered?I don't like the silly grey in the window. This is supposed to be a read-only TEDIT window instead, after you hit Deliver.LarryBy the way, how do I start TEDITing a blank document and then save it on something?Larry*start*00330 00024 USaDate: 27-May-83 15:48 PDTFrom: vanMelle.PASubject: Selection glitchesTo: Yonke.PAcc: vanMelle.PALafite-System-Date: 17-May-83 11:40 PDTHolding middle down and moving thru the table of contents continually adds messages to the current selection, without removing them as the cursor moves by.	Bill*start*00345 00024 US Date: Fri, 27 May 83 17:17 PDTFrom: Taft.PASubject: ARPA Internet domain namesTo: MessageSystemImplementors^, Boggs, Murray, Redell, WhiteReply-To: Taft.PAThere's a new draft specification, "Domain names -- concepts and facilities", by Paul Mockapetris of ISI.  I've stored it as [Maxc]<RFC>DomainNames.txt.	Ed*start*01675 00024 USaDate: 27-May-83 20:02 PDTFrom: halvorsen.PASubject: Message editorTo: Yonke.PAcc: LispSupport.PA, halvorsen.PALafite-System-Date: 17-May-83 11:40 PDTTEDIT related problems (in the sequence they were encountered).  1)  When editting the first message in my session the second character occured on a new line.   The fourth character also induced a <cr>.  Scrolling  left the cursor in a  the wrong position (3rd line) but brought the characters back on the first line of the message body where they were intended to reside.2)  I was trying to answer a message with the answer command when after having typed to the end of the 3rd line of text the cursor disappeared off the end of the line and I could not get it back.  Trying multiple scrolling didn't help.3)  When executing "forget it" after having brought up a message template I control reverted to the main type script window,  and  the message template was printed out in that window.  I was left with a * prompt (as if in the lisp editor).  OK returned me to a regular prompt with control still in the top level window.4)  When editting the first message in my session the second character occured on a new line.   The fourth character also induced a <cr>.  Scrolling  left the cursor in a  the wrong position (3rd line) but brought the characters back on the first line of the message body where they were intended to reside.4) When I used the "Message Form" command to pick out a  message template which was saved ,  "point" was at the first position in the message,  and I was able to extend a seletion from that point but I was not able to select a new point for insertion.*start*00427 00024 US Date: 28 MAY 83 16:54 PDTFrom: MASINTER.PASubject: Lafite/TEDIT -> <LispCore>Sources>To:   Yonke, Sybalskycc:   MasinterNow that Lafite and TEDIT are going into the standard release,pleae make sure that the SOURCE and the .DCOM of whatever youconsider proper for TESTING are on<LISPCORE>SOURCES>.This is not currently true.You can of course keep new versions on your own directory.Larry*start*00417 00024 US Date: 31-May-83 11:20 PDTFrom: Yonke.PASubject: Re: Message editorIn-reply-to: halvorsen.PA's message of 27-May-83 20:02 PDTTo: halvorsen.PAcc: Yonke.PA, LispSupport.PAKris, although I don't mind getting such messages they are better sent to John Sybalsky (the author of Tedit) and cc:ed to LispSupport.  (Since John is on LispSupport, he also sees problems related to Tedit.)Martin*start*00602 00024 US Date: 31-May-83 18:23 PDTFrom: Yonke.PASubject: Re: LAFITE(ON)In-reply-to: masinter.pa's message of 31-May-83 16:52:17 PDTTo: masinter.pacc: yonke, LispSupportThe only way to get the message "Couldn't establish your connection to mail servers." is if the GV function AUTHENTICATE returned NIL.  Could this be another network problem with the DLion?MartinP.S.: IDENTIFYME and READMEMBERS are GV functions, not MAILCLIENT functions.  I suspect (but don't know) that AUTHENTICATE is a more complicated GV function (internally) than either IDENTIFYME or READMEMBERS.  